<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>海燕</title>
  
  <subtitle>热爱编程，爱算法，爱生活，爱钻研</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2018-11-23T08:05:32.662Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>海燕</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Python3.x标准模块库目录</title>
    <link href="http://yoursite.com/2018/11/23/python%E8%B5%84%E6%BA%90/"/>
    <id>http://yoursite.com/2018/11/23/python资源/</id>
    <published>2018-11-23T07:28:16.000Z</published>
    <updated>2018-11-23T08:05:32.662Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Python-资源大全中文版"><a href="#Python-资源大全中文版" class="headerlink" title="Python 资源大全中文版"></a>Python 资源大全中文版</h1><h2 id="关于项目"><a href="#关于项目" class="headerlink" title="关于项目"></a>关于项目</h2><h3 id="我们要做什么？"><a href="#我们要做什么？" class="headerlink" title="我们要做什么？"></a>我们要做什么？</h3><ul><li>基于 awesome-python 列表整理。此外还将从其他来源补充好资源。</li><li>可参考已整理的内容：<ul><li>《<a href="http://hao.jobbole.com/python-scrapy/" target="_blank" rel="noopener">Scrapy：Python 的爬虫框架</a>》</li><li>《<a href="http://hao.jobbole.com/flask/" target="_blank" rel="noopener">Flask：一个使用 Python 编写的轻量级 Web 应用框架</a>》</li></ul></li></ul><h2 id="资源列表"><a href="#资源列表" class="headerlink" title="资源列表"></a>资源列表</h2><h3 id="环境管理"><a href="#环境管理" class="headerlink" title="环境管理"></a>环境管理</h3><p>管理 Python 版本和环境的工具</p><ul><li>p：非常简单的交互式 python 版本管理工具。<a href="https://github.com/qw3rtman/p" target="_blank" rel="noopener">官网</a></li><li>pyenv：简单的 Python 版本管理工具。<a href="https://github.com/yyuu/pyenv" target="_blank" rel="noopener">官网</a></li><li>Vex：可以在虚拟环境中执行命令。<a href="https://github.com/sashahart/vex" target="_blank" rel="noopener">官网</a></li><li>virtualenv：创建独立 Python 环境的工具。<a href="https://pypi.python.org/pypi/virtualenv" target="_blank" rel="noopener">官网</a></li><li>virtualenvwrapper：virtualenv 的一组扩展。<a href="https://pypi.python.org/pypi/virtualenvwrapper" target="_blank" rel="noopener">官网</a></li></ul><h3 id="包管理"><a href="#包管理" class="headerlink" title="包管理"></a>包管理</h3><p>管理包和依赖的工具。</p><ul><li>pip：Python 包和依赖关系管理工具。<a href="https://pip.pypa.io/" target="_blank" rel="noopener">官网</a></li><li>pip-tools：保证 Python 包依赖关系更新的一组工具。<a href="https://github.com/nvie/pip-tools" target="_blank" rel="noopener">官网</a></li><li>pipenv：Pyhton 官方推荐的新一代包管理工具。<a href="https://github.com/pypa/pipenv" target="_blank" rel="noopener">官网</a></li><li>conda：跨平台，Python 二进制包管理工具。<a href="https://github.com/conda/conda/" target="_blank" rel="noopener">官网</a></li><li>Curdling：管理 Python 包的命令行工具。<a href="http://clarete.li/curdling/" target="_blank" rel="noopener">官网</a></li><li>wheel：Python 分发的新标准，意在取代 eggs。<a href="http://pythonwheels.com/" target="_blank" rel="noopener">官网</a></li></ul><h3 id="包仓库"><a href="#包仓库" class="headerlink" title="包仓库"></a>包仓库</h3><p>本地 PyPI 仓库服务和代理。</p><ul><li><a href="https://pypi.org/" target="_blank" rel="noopener">warehouse</a>：下一代 PyPI。<a href="https://github.com/pypa/warehouse" target="_blank" rel="noopener">官网</a></li><li>bandersnatch：PyPA 提供的 PyPI 镜像工具。<a href="https://bitbucket.org/pypa/bandersnatch" target="_blank" rel="noopener">官网</a></li><li>devpi：PyPI 服务和打包/测试/分发工具。<a href="http://doc.devpi.net/" target="_blank" rel="noopener">官网</a></li><li>localshop：本地 PyPI 服务（自定义包并且自动对 PyPI 镜像）。<a href="https://github.com/mvantellingen/localshop" target="_blank" rel="noopener">官网</a></li></ul><h3 id="分发"><a href="#分发" class="headerlink" title="分发"></a>分发</h3><p>打包为可执行文件以便分发。</p><ul><li>PyInstaller：将 Python 程序转换成独立的执行文件（跨平台）。<a href="https://github.com/pyinstaller/pyinstaller" target="_blank" rel="noopener">官网</a></li><li>dh-virtualenv：构建并将 virtualenv 虚拟环境作为一个 Debian 包来发布。<a href="http://dh-virtualenv.readthedocs.org/" target="_blank" rel="noopener">官网</a></li><li>Nuitka：将脚本、模块、包编译成可执行文件或扩展模块。<a href="http://nuitka.net/" target="_blank" rel="noopener">官网</a></li><li>py2app：将 Python 脚本变为独立软件包（Mac OS X）。<a href="http://pythonhosted.org/py2app/" target="_blank" rel="noopener">官网</a></li><li>py2exe：将 Python 脚本变为独立软件包（Windows）。<a href="http://www.py2exe.org/" target="_blank" rel="noopener">官网</a></li><li>pynsist：一个用来创建 Windows 安装程序的工具，可以在安装程序中打包 Python 本身。<a href="http://pynsist.readthedocs.org/" target="_blank" rel="noopener">官网</a></li></ul><h3 id="构建工具"><a href="#构建工具" class="headerlink" title="构建工具"></a>构建工具</h3><p>将源码编译成软件。</p><ul><li>buildout：一个构建系统，从多个组件来创建，组装和部署应用。<a href="http://www.buildout.org/" target="_blank" rel="noopener">官网</a></li><li>BitBake：针对嵌入式 Linux 的类似 make 的构建工具。<a href="http://www.yoctoproject.org/docs/1.6/bitbake-user-manual/bitbake-user-manual.html" target="_blank" rel="noopener">官网</a></li><li>fabricate：对任何语言自动找到依赖关系的构建工具。<a href="https://code.google.com/archive/p/fabricate" target="_blank" rel="noopener">官网</a></li><li>PlatformIO：多平台命令行构建工具。<a href="https://github.com/platformio/platformio" target="_blank" rel="noopener">官网</a></li><li>PyBuilder：纯 Python 实现的持续化构建工具。<a href="https://github.com/pybuilder/pybuilder" target="_blank" rel="noopener">官网</a></li><li>SCons：软件构建工具。<a href="http://www.scons.org/" target="_blank" rel="noopener">官网</a></li></ul><h3 id="交互式解析器"><a href="#交互式解析器" class="headerlink" title="交互式解析器"></a>交互式解析器</h3><p>交互式 Python 解析器。</p><ul><li>IPython：功能丰富的工具，非常有效的使用交互式 Python。<a href="https://github.com/ipython/ipython" target="_blank" rel="noopener">官网</a></li><li><a href="http://hao.jobbole.com/bpython/" target="_blank" rel="noopener">bpython</a>：界面丰富的 Python 解析器。<a href="http://bpython-interpreter.org/" target="_blank" rel="noopener">官网</a></li><li>ptpython：高级交互式 Python 解析器， 构建于 <a href="https://github.com/jonathanslenders/python-prompt-toolkit" target="_blank" rel="noopener">python-prompt-toolkit</a> 之上。<a href="https://github.com/jonathanslenders/ptpython" target="_blank" rel="noopener">官网</a></li></ul><h3 id="文件"><a href="#文件" class="headerlink" title="文件"></a>文件</h3><p>文件管理和 MIME（多用途的网际邮件扩充协议）类型检测。</p><ul><li>aiofiles：基于 asyncio，提供文件异步操作。<a href="https://github.com/Tinche/aiofiles" target="_blank" rel="noopener">官网</a></li><li>imghdr：（Python 标准库）检测图片类型。<a href="https://docs.python.org/2/library/imghdr.html" target="_blank" rel="noopener">官网</a></li><li>mimetypes：（Python 标准库）将文件名映射为 MIME 类型。<a href="https://docs.python.org/2/library/mimetypes.html" target="_blank" rel="noopener">官网</a></li><li>path.py：对 os.path 进行封装的模块。<a href="https://github.com/jaraco/path.py" target="_blank" rel="noopener">官网</a></li><li>pathlib：（Python3.4+ 标准库）跨平台的、面向对象的路径操作库。<a href="https://pathlib.readthedocs.org/en/pep428/" target="_blank" rel="noopener">官网</a></li><li>python-magic：文件类型检测的第三方库 libmagic 的 Python 接口。<a href="https://github.com/ahupp/python-magic" target="_blank" rel="noopener">官网</a></li><li>Unipath：用面向对象的方式操作文件和目录。<a href="https://github.com/mikeorr/Unipath" target="_blank" rel="noopener">官网</a></li><li>watchdog：管理文件系统事件的 API 和 shell 工具。<a href="https://github.com/gorakhargosh/watchdog" target="_blank" rel="noopener">官网</a></li></ul><h3 id="日期和时间"><a href="#日期和时间" class="headerlink" title="日期和时间"></a>日期和时间</h3><p>操作日期和时间的类库。</p><ul><li>arrow：更好的 Python 日期时间操作类库。<a href="https://github.com/crsmithdev/arrow" target="_blank" rel="noopener">官网</a></li><li>Chronyk：Python 3 的类库，用于解析手写格式的时间和日期。<a href="https://github.com/KoffeinFlummi/Chronyk" target="_blank" rel="noopener">官网</a></li><li>dateutil：Python datetime 模块的扩展。<a href="https://pypi.python.org/pypi/python-dateutil" target="_blank" rel="noopener">官网</a></li><li>delorean：解决 Python 中有关日期处理的棘手问题的库。<a href="https://github.com/myusuf3/delorean/" target="_blank" rel="noopener">官网</a></li><li>maya：人性化的时间处理库。<a href="https://github.com/kennethreitz/maya" target="_blank" rel="noopener">官网</a></li><li>moment：一个用来处理时间和日期的 Python 库。灵感来自于 Moment.js。<a href="https://github.com/zachwill/moment" target="_blank" rel="noopener">官网</a></li><li>pendulum：一个比 arrow 更具有明确的，可预测的行为的时间操作库。<a href="https://github.com/sdispater/pendulum" target="_blank" rel="noopener">官网</a></li><li>PyTime：一个简单易用的 Python 模块，用于通过字符串来操作日期/时间。<a href="https://github.com/shinux/PyTime" target="_blank" rel="noopener">官网</a></li><li>pytz：现代以及历史版本的世界时区定义。将时区数据库引入 Python。<a href="https://launchpad.net/pytz" target="_blank" rel="noopener">官网</a></li><li>when.py：提供用户友好的函数来帮助用户进行常用的日期和时间操作。<a href="https://github.com/dirn/When.py" target="_blank" rel="noopener">官网</a></li></ul><h3 id="文本处理"><a href="#文本处理" class="headerlink" title="文本处理"></a>文本处理</h3><p>用于解析和操作文本的库。</p><ul><li>通用<ul><li><a href="http://hao.jobbole.com/chardet/" target="_blank" rel="noopener">chardet</a>：字符编码检测器，兼容 Python2 和 Python3。<a href="https://github.com/chardet/chardet" target="_blank" rel="noopener">官网</a></li><li>difflib：(Python 标准库)帮助我们进行差异化比较。<a href="https://docs.python.org/2/library/difflib.html" target="_blank" rel="noopener">官网</a></li><li>ftfy：让 Unicode 文本更完整更连贯。<a href="https://github.com/LuminosoInsight/python-ftfy" target="_blank" rel="noopener">官网</a></li><li>fuzzywuzzy：模糊字符串匹配。<a href="https://github.com/seatgeek/fuzzywuzzy" target="_blank" rel="noopener">官网</a></li><li>Levenshtein：快速计算编辑距离以及字符串的相似度。<a href="https://github.com/ztane/python-Levenshtein/" target="_blank" rel="noopener">官网</a></li><li>pangu.py：在中日韩语字符和数字字母之间添加空格。<a href="https://github.com/vinta/pangu.py" target="_blank" rel="noopener">官网</a></li><li>pypinyin：汉字拼音转换工具 Python 版。<a href="https://github.com/mozillazg/python-pinyin" target="_blank" rel="noopener">官网</a></li><li>shortuuid：一个生成器库，用以生成简洁的，明白的，URL 安全的 UUID。<a href="https://github.com/stochastic-technologies/shortuuid" target="_blank" rel="noopener">官网</a></li><li><a href="https://github.com/simplejson/simplejson" target="_blank" rel="noopener">simplejson</a>：Python 的 JSON 编码、解码器。<a href="https://simplejson.readthedocs.io/en/latest/" target="_blank" rel="noopener">官网</a></li><li>unidecode：Unicode 文本的 ASCII 转换形式 。<a href="https://pypi.python.org/pypi/Unidecode" target="_blank" rel="noopener">官网</a></li><li>uniout：打印可读的字符，而不是转义的字符串。<a href="https://github.com/moskytw/uniout" target="_blank" rel="noopener">官网</a></li><li>xpinyin：一个用于把汉字转换为拼音的库。<a href="https://github.com/lxneng/xpinyin" target="_blank" rel="noopener">官网</a></li><li>yfiglet-figlet：<a href="https://github.com/pwaller/pyfiglet" target="_blank" rel="noopener">pyfiglet -figlet</a> 的 Python 实现。</li><li>flashtext: 一个高效的文本查找替换库。<a href="https://github.com/vi3k6i5/flashtext" target="_blank" rel="noopener">官网</a></li></ul></li><li>Slug 化<ul><li>awesome-slugify：一个 Python slug 化库，可以保持 Unicode。<a href="https://github.com/dimka665/awesome-slugify" target="_blank" rel="noopener">官网</a></li><li>python-slugify：Python slug 化库，可以把 unicode 转化为 ASCII。<a href="https://github.com/un33k/python-slugify" target="_blank" rel="noopener">官网</a></li><li>unicode-slugify：一个 slug 工具，可以生成 unicode slugs ,需要依赖 Django 。<a href="https://github.com/mozilla/unicode-slugify" target="_blank" rel="noopener">官网</a></li></ul></li><li>解析器<ul><li>phonenumbers：解析，格式化，储存，验证电话号码。<a href="https://github.com/daviddrysdale/python-phonenumbers" target="_blank" rel="noopener">官网</a></li><li>PLY：lex 和 yacc 解析工具的 Python 实现。<a href="http://www.dabeaz.com/ply/" target="_blank" rel="noopener">官网</a></li><li>Pygments：通用语法高亮工具。<a href="http://pygments.org/" target="_blank" rel="noopener">官网</a></li><li>pyparsing：生成通用解析器的框架。<a href="http://pyparsing.wikispaces.com/" target="_blank" rel="noopener">官网</a></li><li>python-nameparser：把一个人名分解为几个独立的部分。<a href="https://github.com/derek73/python-nameparser" target="_blank" rel="noopener">官网</a></li><li>python-user-agents：浏览器 user agent 解析器。<a href="https://github.com/selwin/python-user-agents" target="_blank" rel="noopener">官网</a></li><li>sqlparse：一个无验证的 SQL 解析器。<a href="https://sqlparse.readthedocs.org/en/latest/" target="_blank" rel="noopener">官网</a></li></ul></li></ul><h3 id="特殊文本格式处理"><a href="#特殊文本格式处理" class="headerlink" title="特殊文本格式处理"></a>特殊文本格式处理</h3><p>一些用来解析和操作特殊文本格式的库。</p><ul><li>通用<ul><li>tablib：一个用来处理中表格数据的模块。<a href="https://github.com/kennethreitz/tablib" target="_blank" rel="noopener">官网</a></li></ul></li><li>Office<ul><li>Marmir：把输入的 Python 数据结构转换为电子表单。<a href="https://github.com/brianray/mm" target="_blank" rel="noopener">官网</a></li><li>openpyxl：一个用来读写 Excel 2010 xlsx/xlsm/xltx/xltm 文件的库。<a href="https://openpyxl.readthedocs.org/en/latest/" target="_blank" rel="noopener">官网</a></li><li>pyexcel：一个提供统一 API，用来读写，操作 Excel 文件的库。<a href="https://github.com/pyexcel/pyexcel" target="_blank" rel="noopener">官网</a></li><li>python-docx：读取，查询以及修改 Microsoft Word 2007/2008 docx 文件。<a href="https://github.com/python-openxml/python-docx" target="_blank" rel="noopener">官网</a></li><li>relatorio：模板化 OpenDocument 文件。<a href="http://relatorio.tryton.org/" target="_blank" rel="noopener">官网</a></li><li>unoconv：在 LibreOffice/OpenOffice 支持的任意文件格式之间进行转换。<a href="https://github.com/dagwieers/unoconv" target="_blank" rel="noopener">官网</a></li><li>XlsxWriter：一个用于创建 Excel .xlsx 文件的 Python 模块。<a href="https://xlsxwriter.readthedocs.org/en/latest/" target="_blank" rel="noopener">官网</a></li><li>xlwings：一个使得在 Excel 中方便调用 Python 的库（反之亦然），基于 BSD 协议。<a href="http://xlwings.org/" target="_blank" rel="noopener">官网</a></li><li><a href="http://hao.jobbole.com/xlwt/" target="_blank" rel="noopener">xlwt</a>：读写 Excel 文件的数据和格式信息。<a href="https://github.com/python-excel/xlwt" target="_blank" rel="noopener">官网</a> / <a href="https://github.com/python-excel/xlrd" target="_blank" rel="noopener">xlrd</a></li></ul></li><li>PDF<ul><li>PDFMiner：一个用于从 PDF 文档中抽取信息的工具。<a href="https://github.com/euske/pdfminer" target="_blank" rel="noopener">官网</a></li><li>PyPDF2：一个可以分割，合并和转换 PDF 页面的库。<a href="https://github.com/mstamy2/PyPDF2" target="_blank" rel="noopener">官网</a></li><li>ReportLab：快速创建富文本 PDF 文档。<a href="http://www.reportlab.com/opensource/" target="_blank" rel="noopener">官网</a></li></ul></li><li>Markdown<ul><li>Mistune：快速并且功能齐全的纯 Python 实现的 Markdown 解析器。<a href="https://github.com/lepture/mistune" target="_blank" rel="noopener">官网</a></li><li>Python-Markdown：John Gruber’s Markdown 的 Python 版实现。<a href="https://github.com/waylan/Python-Markdown" target="_blank" rel="noopener">官网</a></li><li>Python-Markdown2：纯 Python 实现的 Markdown 解析器，比 Python-Markdown 更快，更准确，可扩展。<a href="https://github.com/trentm/python-markdown2" target="_blank" rel="noopener">官网</a></li></ul></li><li>YAML<ul><li>PyYAML：Python 版本的 YAML 解析器。<a href="http://pyyaml.org/" target="_blank" rel="noopener">官网</a></li></ul></li><li>CSV<ul><li>csvkit：用于转换和操作 CSV 的工具。<a href="https://github.com/wireservice/csvkit" target="_blank" rel="noopener">官网</a></li></ul></li><li>Archive<ul><li>unp：一个用来方便解包归档文件的命令行工具。<a href="https://github.com/mitsuhiko/unp" target="_blank" rel="noopener">官网</a></li></ul></li></ul><h3 id="自然语言处理"><a href="#自然语言处理" class="headerlink" title="自然语言处理"></a>自然语言处理</h3><p>用来处理人类语言的库。</p><ul><li><a href="http://hao.jobbole.com/nltk/" target="_blank" rel="noopener">NLTK</a>：一个先进的平台，用以构建处理人类语言数据的 Python 程序。<a href="http://www.nltk.org/" target="_blank" rel="noopener">官网</a></li><li>jieba：中文分词工具。<a href="https://github.com/fxsjy/jieba" target="_blank" rel="noopener">官网</a></li><li>langid.py：独立的语言识别系统。<a href="https://github.com/saffsd/langid.py" target="_blank" rel="noopener">官网</a></li><li>Pattern：Python 网络信息挖掘模块。<a href="http://www.clips.ua.ac.be/pattern" target="_blank" rel="noopener">官网</a></li><li>SnowNLP：一个用来处理中文文本的库。<a href="https://github.com/isnowfy/snownlp" target="_blank" rel="noopener">官网</a></li><li>TextBlob：为进行普通自然语言处理任务提供一致的 API。<a href="http://textblob.readthedocs.org/en/latest/" target="_blank" rel="noopener">官网</a></li><li>TextGrocery：一简单高效的短文本分类工具，基于 LibLinear 和 Jieba。<a href="https://github.com/2shou/TextGrocery" target="_blank" rel="noopener">官网</a></li><li>thulac:清华大学自然语言处理与社会人文计算实验室研制推出的一套中文词法分析工具包<a href="https://github.com/thunlp/THULAC-Python" target="_blank" rel="noopener">官网</a></li></ul><h3 id="文档"><a href="#文档" class="headerlink" title="文档"></a>文档</h3><p>用以生成项目文档的库。</p><ul><li><a href="http://hao.jobbole.com/sphinx/" target="_blank" rel="noopener">Sphinx</a>：Python 文档生成器。<a href="http://www.sphinx-doc.org/en/latest/" target="_blank" rel="noopener">官网</a></li><li>awesome-sphinxdoc：<a href="https://github.com/yoloseem/awesome-sphinxdoc" target="_blank" rel="noopener">官网</a></li><li>MkDocs：对 Markdown 友好的文档生成器。<a href="http://www.mkdocs.org/" target="_blank" rel="noopener">官网</a></li><li>pdoc：一个可以替换 Epydoc 的库，可以自动生成 Python 库的 API 文档。<a href="https://github.com/BurntSushi/pdoc" target="_blank" rel="noopener">官网</a></li><li>Pycco：文学编程（literate-programming）风格的文档生成器。<a href="https://github.com/pycco-docs/pycco" target="_blank" rel="noopener">官网</a></li><li>readthedocs：一个基于 Sphinx/MkDocs 的在线文档托管系统，对开源项目免费开放使用。<a href="https://github.com/rtfd/readthedocs.org/" target="_blank" rel="noopener">官网</a></li></ul><h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><p>用来保存和解析配置的库。</p><ul><li>config：<a href="https://docs.python.org/2/library/logging.html" target="_blank" rel="noopener">logging</a> 模块作者写的分级配置模块。<a href="https://www.red-dove.com/config-doc/" target="_blank" rel="noopener">官网</a></li><li>ConfigObj：INI 文件解析器，带验证功能。<a href="http://www.voidspace.org.uk/python/configobj.html" target="_blank" rel="noopener">官网</a></li><li>ConfigParser：(Python 标准库) INI 文件解析器。<a href="https://docs.python.org/2/library/configparser.html" target="_blank" rel="noopener">官网</a></li><li>profig：通过多种格式进行配置，具有数值转换功能。<a href="http://profig.readthedocs.org/en/default/" target="_blank" rel="noopener">官网</a></li><li>python-decouple：将设置和代码完全隔离。<a href="https://github.com/henriquebastos/python-decouple" target="_blank" rel="noopener">官网</a></li></ul><h3 id="命令行工具"><a href="#命令行工具" class="headerlink" title="命令行工具"></a>命令行工具</h3><p>用于创建命令行程序的库。</p><ul><li>命令行程序开发<ul><li>asciimatics：跨平台，全屏终端包（即鼠标/键盘输入和彩色，定位文本输出），完整的复杂动画和特殊效果的高级 API。<a href="https://github.com/peterbrittain/asciimatics" target="_blank" rel="noopener">官网</a></li><li>cement：Python 的命令行程序框架。<a href="http://builtoncement.com/" target="_blank" rel="noopener">官网</a></li><li>click：一个通过组合的方式来创建精美命令行界面的包。<a href="http://click.pocoo.org/dev/" target="_blank" rel="noopener">官网</a></li><li>cliff：一个用于创建命令行程序的框架，可以创建具有多层命令的命令行程序。<a href="http://docs.openstack.org/developer/cliff/" target="_blank" rel="noopener">官网</a></li><li>clint：Python 命令行程序工具。<a href="https://github.com/kennethreitz/clint" target="_blank" rel="noopener">官网</a></li><li>colorama：跨平台彩色终端文本。<a href="https://pypi.python.org/pypi/colorama" target="_blank" rel="noopener">官网</a></li><li>docopt：Python 风格的命令行参数解析器。<a href="http://docopt.org/" target="_blank" rel="noopener">官网</a></li><li>Gooey：一条命令，将命令行程序变成一个 GUI 程序。<a href="https://github.com/chriskiehl/Gooey" target="_blank" rel="noopener">官网</a></li><li>python-prompt-toolkit：一个用于构建强大的交互式命令行程序的库。<a href="https://github.com/jonathanslenders/python-prompt-toolkit" target="_blank" rel="noopener">官网</a></li><li>python-fire：Google 出品的一个基于 Python 类的构建命令行界面的库。<a href="https://github.com/google/python-fire" target="_blank" rel="noopener">官网</a></li><li><a href="http://hao.jobbole.com/pythonpy/" target="_blank" rel="noopener">Pythonpy</a>：在命令行中直接执行任何 Python 指令。<a href="https://github.com/Russell91/pythonpy/wiki" target="_blank" rel="noopener">官网</a></li></ul></li><li>生产力工具<ul><li>aws-cli：Amazon Web Services 的通用命令行界面。<a href="https://github.com/aws/aws-cli" target="_blank" rel="noopener">官网</a></li><li>bashplotlib：在终端中进行基本绘图。<a href="https://github.com/glamp/bashplotlib" target="_blank" rel="noopener">官网</a></li><li>caniusepython3：判断是哪个项目妨碍你你移植到 Python3。<a href="https://github.com/brettcannon/caniusepython3" target="_blank" rel="noopener">官网</a></li><li>cookiecutter：从 cookiecutters（项目模板）创建项目的一个命令行工具。<a href="https://github.com/audreyr/cookiecutter" target="_blank" rel="noopener">官网</a></li><li>doitlive：一个用来在终端中进行现场演示的工具。<a href="https://github.com/sloria/doitlive" target="_blank" rel="noopener">官网</a></li><li>pyftpdlib：一个速度极快和可扩展的 Python FTP 服务库。<a href="https://github.com/giampaolo/pyftpdlib" target="_blank" rel="noopener">官网</a></li><li>howdoi：通过命令行获取即时的编程问题解答。<a href="https://github.com/gleitz/howdoi" target="_blank" rel="noopener">官网</a></li><li>httpie：一个命令行 HTTP 客户端，cURL 的替代品，易用性更好。<a href="https://github.com/jkbrzt/httpie" target="_blank" rel="noopener">官网</a></li><li>PathPicker：从 bash 输出中选出文件。<a href="https://github.com/facebook/PathPicker" target="_blank" rel="noopener">官网</a></li><li>percol：向 UNIX shell 传统管道概念中加入交互式选择功能。<a href="https://github.com/mooz/percol" target="_blank" rel="noopener">官网</a></li><li>SAWS：一个加强版的 AWS 命令行。<a href="https://github.com/donnemartin/saws" target="_blank" rel="noopener">官网</a></li><li>thefuck：修正你之前的命令行指令。<a href="https://github.com/nvbn/thefuck" target="_blank" rel="noopener">官网</a></li><li>mycli：一个 MySQL 命令行客户端，具有自动补全和语法高亮功能。<a href="https://github.com/dbcli/mycli" target="_blank" rel="noopener">官网</a></li><li>pgcli：Postgres 命令行工具，具有自动补全和语法高亮功能。<a href="https://github.com/dbcli/pgcli" target="_blank" rel="noopener">官网</a></li><li>try：一个从来没有更简单的命令行工具，用来试用 python 库。<a href="https://github.com/timofurrer/try" target="_blank" rel="noopener">官网</a></li></ul></li></ul><h3 id="下载器"><a href="#下载器" class="headerlink" title="下载器"></a>下载器</h3><p>用来进行下载的库.</p><ul><li>s3cmd：一个用来管理 Amazon S3 和 CloudFront 的命令行工具。<a href="https://github.com/s3tools/s3cmd" target="_blank" rel="noopener">官网</a></li><li>s4cmd：超级 S3 命令行工具，性能更加强劲。<a href="https://github.com/bloomreach/s4cmd" target="_blank" rel="noopener">官网</a></li><li>you-get：一个 YouTube/Youku/Niconico 视频下载器，使用 Python3 编写。<a href="https://www.soimort.org/you-get/" target="_blank" rel="noopener">官网</a></li><li>youtube-dl：一个小巧的命令行程序，用来下载 YouTube 视频。<a href="http://rg3.github.io/youtube-dl/" target="_blank" rel="noopener">官网</a></li></ul><h3 id="图像处理"><a href="#图像处理" class="headerlink" title="图像处理"></a>图像处理</h3><p>用来操作图像的库.</p><ul><li><a href="http://hao.jobbole.com/pillow/" target="_blank" rel="noopener">pillow</a>：Pillow 是一个更加易用版的 <a href="http://www.pythonware.com/products/pil/" target="_blank" rel="noopener">PIL</a>。<a href="http://pillow.readthedocs.org/en/latest/" target="_blank" rel="noopener">官网</a></li><li>hmap：图像直方图映射。<a href="https://github.com/rossgoodwin/hmap" target="_blank" rel="noopener">官网</a></li><li>imgSeek：一个使用视觉相似性搜索一组图片集合的项目。<a href="https://sourceforge.net/projects/imgseek/" target="_blank" rel="noopener">官网</a></li><li>nude.py：裸体检测。<a href="https://github.com/hhatto/nude.py" target="_blank" rel="noopener">官网</a></li><li>pyBarcode：不借助 PIL 库在 Python 程序中生成条形码。<a href="https://pythonhosted.org/pyBarcode/" target="_blank" rel="noopener">官网</a></li><li>pygram：类似 Instagram 的图像滤镜。<a href="https://github.com/ajkumar25/pygram" target="_blank" rel="noopener">官网</a></li><li>python-qrcode：一个纯 Python 实现的二维码生成器。<a href="https://github.com/lincolnloop/python-qrcode" target="_blank" rel="noopener">官网</a></li><li>Quads：基于四叉树的计算机艺术。<a href="https://github.com/fogleman/Quads" target="_blank" rel="noopener">官网</a></li><li>scikit-image：一个用于（科学）图像处理的 Python 库。<a href="http://scikit-image.org/" target="_blank" rel="noopener">官网</a></li><li>thumbor：一个小型图像服务，具有剪裁，尺寸重设和翻转功能。<a href="https://github.com/thumbor/thumbor" target="_blank" rel="noopener">官网</a></li><li>wand：<a href="http://www.imagemagick.org/script/magick-wand.php" target="_blank" rel="noopener">MagickWand</a>的 Python 绑定。MagickWand 是 ImageMagick 的 C API 。<a href="https://github.com/dahlia/wand" target="_blank" rel="noopener">官网</a></li><li>face_recognition：简单易用的 python 人脸识别库。<a href="https://github.com/ageitgey/face_recognition" target="_blank" rel="noopener">官网</a></li></ul><h3 id="OCR"><a href="#OCR" class="headerlink" title="OCR"></a>OCR</h3><p>光学字符识别库。</p><ul><li>pyocr：Tesseract 和 Cuneiform 的一个封装(wrapper)。<a href="https://github.com/jflesch/pyocr" target="_blank" rel="noopener">官网</a></li><li><a href="http://hao.jobbole.com/pytesseract/" target="_blank" rel="noopener">pytesseract</a>：<a href="https://github.com/tesseract-ocr" target="_blank" rel="noopener">Google Tesseract OCR</a> 的另一个封装(wrapper)。<a href="https://github.com/madmaze/pytesseract" target="_blank" rel="noopener">官网</a></li><li>python-tesseract：<a href="https://github.com/tesseract-ocr" target="_blank" rel="noopener">Google Tesseract OCR</a> 的一个包装类。</li></ul><h3 id="音频"><a href="#音频" class="headerlink" title="音频"></a>音频</h3><p>用来操作音频的库</p><ul><li>audiolazy：Python 的数字信号处理包。<a href="https://github.com/danilobellini/audiolazy" target="_blank" rel="noopener">官网</a> </li><li>audioread：交叉库 (GStreamer + Core Audio + MAD + FFmpeg) 音频解码。<a href="https://github.com/beetbox/audioread" target="_blank" rel="noopener">官网</a></li><li>beets：一个音乐库管理工具及 <a href="https://musicbrainz.org/" target="_blank" rel="noopener">MusicBrainz</a> 标签添加工具。<a href="http://beets.io/" target="_blank" rel="noopener">官网</a></li><li>dejavu：音频指纹提取和识别。<a href="https://github.com/worldveil/dejavu" target="_blank" rel="noopener">官网</a></li><li><a href="http://hao.jobbole.com/django-elastic-transcoder/" target="_blank" rel="noopener">django-elastic-transcoder</a>：Django + <a href="http://aws.amazon.com/elastictranscoder/" target="_blank" rel="noopener">Amazon Elastic Transcoder</a>。<a href="https://github.com/StreetVoice/django-elastic-transcoder" target="_blank" rel="noopener">官网</a></li><li>eyeD3：一个用来操作音频文件的工具，具体来讲就是包含 ID3 元信息的 MP3 文件。<a href="http://eyed3.nicfit.net/" target="_blank" rel="noopener">官网</a></li><li>id3reader：一个用来读取 MP3 元数据的 Python 模块。<a href="http://nedbatchelder.com/code/modules/id3reader.py" target="_blank" rel="noopener">官网</a></li><li>m3u8：一个用来解析 m3u8 文件的模块。<a href="https://github.com/globocom/m3u8" target="_blank" rel="noopener">官网</a></li><li>mutagen：一个用来处理音频元数据的 Python 模块。<a href="https://bitbucket.org/lazka/mutagen" target="_blank" rel="noopener">官网</a></li><li>pydub：通过简单、简洁的高层接口来操作音频文件。<a href="https://github.com/jiaaro/pydub" target="_blank" rel="noopener">官网</a></li><li>pyechonest：<a href="http://developer.echonest.com/" target="_blank" rel="noopener">Echo Nest</a> API 的 Python 客户端。<a href="https://github.com/echonest/pyechonest" target="_blank" rel="noopener">官网</a></li><li>talkbox：一个用来处理演讲/信号的 Python 库。<a href="http://scikits.appspot.com/talkbox" target="_blank" rel="noopener">官网</a></li><li>TimeSide：开源 web 音频处理框架。<a href="https://github.com/Parisson/TimeSide" target="_blank" rel="noopener">官网</a></li><li>tinytag：一个用来读取 MP3, OGG, FLAC 以及 Wave 文件音乐元数据的库。<a href="https://github.com/devsnd/tinytag" target="_blank" rel="noopener">官网</a></li><li>mingus：一个高级音乐理论和曲谱包，支持 MIDI 文件和回放功能。<a href="http://bspaans.github.io/python-mingus/" target="_blank" rel="noopener">官网</a></li></ul><h3 id="Video"><a href="#Video" class="headerlink" title="Video"></a>Video</h3><p>用来操作视频和 GIF 的库。</p><ul><li>moviepy：一个用来进行基于脚本的视频编辑模块，适用于多种格式，包括动图 GIFs。<a href="http://zulko.github.io/moviepy/" target="_blank" rel="noopener">官网</a></li><li>scikit-video：SciPy 视频处理常用程序。<a href="https://github.com/aizvorski/scikit-video" target="_blank" rel="noopener">官网</a></li></ul><h3 id="地理位置"><a href="#地理位置" class="headerlink" title="地理位置"></a>地理位置</h3><p>地理编码地址以及用来处理经纬度的库。</p><ul><li>GeoDjango：世界级地理图形 web 框架。<a href="https://docs.djangoproject.com/en/dev/ref/contrib/gis/" target="_blank" rel="noopener">官网</a></li><li>GeoIP：MaxMind GeoIP Legacy 数据库的 Python API。<a href="https://github.com/maxmind/geoip-api-python" target="_blank" rel="noopener">官网</a></li><li>geojson：GeoJSON 的 Python 绑定及工具。<a href="https://github.com/frewsxcv/python-geojson" target="_blank" rel="noopener">官网</a></li><li>geopy：Python 地址编码工具箱。<a href="https://github.com/geopy/geopy" target="_blank" rel="noopener">官网</a></li><li>pygeoip：纯 Python GeoIP API。<a href="https://github.com/appliedsec/pygeoip" target="_blank" rel="noopener">官网</a></li><li>django-countries：一个 Django 应用程序，提供用于表格的国家选择功能，国旗图标静态文件以及模型中的国家字段。<a href="https://github.com/SmileyChris/django-countries" target="_blank" rel="noopener">官网</a></li></ul><h3 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h3><p>使用 HTTP 的库。</p><ul><li>aiohttp：基于 asyncio 的异步 HTTP 网络库。<a href="https://github.com/aio-libs/aiohttp" target="_blank" rel="noopener">官网</a></li><li>requests：人性化的 HTTP 请求库。<a href="http://docs.python-requests.org/en/latest/" target="_blank" rel="noopener">官网</a></li><li>grequests：requests 库 + gevent ，用于异步 HTTP 请求.<a href="https://github.com/kennethreitz/grequests" target="_blank" rel="noopener">官网</a></li><li>httplib2：全面的 HTTP 客户端库。<a href="https://github.com/jcgregorio/httplib2" target="_blank" rel="noopener">官网</a></li><li>treq：类似 requests 的 Python API 构建于 Twisted HTTP 客户端之上。<a href="https://github.com/twisted/treq" target="_blank" rel="noopener">官网</a></li><li>urllib3：一个具有线程安全连接池，支持文件 post，清晰友好的 HTTP 库。<a href="https://github.com/shazow/urllib3" target="_blank" rel="noopener">官网</a></li></ul><h3 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h3><p>Python 实现的数据库。</p><ul><li>pickleDB：一个简单，轻量级键值储存数据库。<a href="https://pythonhosted.org/pickleDB/" target="_blank" rel="noopener">官网</a></li><li>PipelineDB：流式 SQL 数据库。<a href="https://www.pipelinedb.com/" target="_blank" rel="noopener">官网</a></li><li>TinyDB：一个微型的，面向文档型数据库。<a href="https://github.com/msiemens/tinydb" target="_blank" rel="noopener">官网</a></li><li>ZODB：一个 Python 原生对象数据库。一个键值和对象图数据库。<a href="http://www.zodb.org/en/latest/" target="_blank" rel="noopener">官网</a></li></ul><h3 id="数据库驱动"><a href="#数据库驱动" class="headerlink" title="数据库驱动"></a>数据库驱动</h3><p>用来连接和操作数据库的库。</p><ul><li>MySQL：<a href="http://shlomi-noach.github.io/awesome-mysql/" target="_blank" rel="noopener">awesome-mysql</a> 系列<ul><li>aiomysql：基于 asyncio 的异步 MySQL 数据库操作库。<a href="https://github.com/aio-libs/aiomysql" target="_blank" rel="noopener">官网</a></li><li>mysql-python：Python 的 MySQL 数据库连接器。<a href="https://sourceforge.net/projects/mysql-python/" target="_blank" rel="noopener">官网</a></li><li>ysqlclient：<a href="https://github.com/PyMySQL/mysqlclient-python" target="_blank" rel="noopener">mysql-python</a> 分支，支持 Python 3。</li><li>oursql：一个更好的 MySQL 连接器，支持原生预编译指令和 BLOBs。<a href="https://pythonhosted.org/oursql/" target="_blank" rel="noopener">官网</a></li><li>PyMySQL：纯 Python MySQL 驱动，兼容 mysql-python。<a href="https://github.com/PyMySQL/PyMySQL" target="_blank" rel="noopener">官网</a></li></ul></li><li>PostgreSQL<ul><li>psycopg2：Python 中最流行的 PostgreSQL 适配器。<a href="http://initd.org/psycopg/" target="_blank" rel="noopener">官网</a></li><li>queries：psycopg2 库的封装，用来和 PostgreSQL 进行交互。<a href="https://github.com/gmr/queries" target="_blank" rel="noopener">官网</a></li><li>txpostgres：基于 Twisted 的异步 PostgreSQL 驱动。<a href="http://txpostgres.readthedocs.org/en/latest/" target="_blank" rel="noopener">官网</a></li></ul></li><li>其他关系型数据库<ul><li>apsw：另一个 Python SQLite 封装。<a href="http://rogerbinns.github.io/apsw/" target="_blank" rel="noopener">官网</a></li><li>dataset：在数据库中存储 Python 字典</li><li>pymssql：一个简单的 Microsoft SQL Server 数据库接口。<a href="http://www.pymssql.org/en/latest/" target="_blank" rel="noopener">官网</a></li></ul></li><li>NoSQL 数据库<ul><li>asyncio-redis：基于 asyncio 的 redis 客户端 (PEP 3156)。<a href="https://github.com/jonathanslenders/asyncio-redis" target="_blank" rel="noopener">官网</a></li><li>cassandra-python-driver：Cassandra 的 Python 驱动。<a href="https://github.com/datastax/python-driver" target="_blank" rel="noopener">官网</a></li><li>HappyBase：一个为 Apache HBase 设计的，对开发者友好的库。<a href="http://happybase.readthedocs.org/en/latest/" target="_blank" rel="noopener">官网</a></li><li>Plyvel：一个快速且功能丰富的 LevelDB 的 Python 接口。<a href="https://plyvel.readthedocs.org/en/latest/" target="_blank" rel="noopener">官网</a></li><li>py2neo：Neo4j restful 接口的 Python 封装客户端。<a href="http://py2neo.org/2.0/" target="_blank" rel="noopener">官网</a></li><li>pycassa：Cassandra 的 Python Thrift 驱动。<a href="https://github.com/pycassa/pycassa" target="_blank" rel="noopener">官网</a></li><li>PyMongo：MongoDB 的官方 Python 客户端。<a href="https://docs.mongodb.org/ecosystem/drivers/python/" target="_blank" rel="noopener">官网</a></li><li>redis-py：Redis 的 Python 客户端。<a href="https://github.com/andymccurdy/redis-py" target="_blank" rel="noopener">官网</a></li><li>telephus：基于 Twisted 的 Cassandra 客户端。<a href="https://github.com/driftx/Telephus" target="_blank" rel="noopener">官网</a></li><li>txRedis：基于 Twisted 的 Redis 客户端。<a href="https://github.com/deldotdr/txRedis" target="_blank" rel="noopener">官网</a></li></ul></li></ul><h3 id="ORM"><a href="#ORM" class="headerlink" title="ORM"></a>ORM</h3><p>实现对象关系映射或数据映射技术的库。</p><ul><li>关系型数据库<ul><li>Django Models：Django 的一部分。<a href="https://docs.djangoproject.com/en/dev/topics/db/models/" target="_blank" rel="noopener">官网</a></li><li>SQLAlchemy：Python SQL 工具以及对象关系映射工具。<a href="http://www.sqlalchemy.org/" target="_blank" rel="noopener">官网</a><ul><li><a href="https://github.com/dahlia/awesome-sqlalchemy" target="_blank" rel="noopener">awesome-sqlalchemy</a> 系列</li></ul></li><li><a href="http://hao.jobbole.com/peewee/" target="_blank" rel="noopener">Peewee</a>：一个小巧，富有表达力的 ORM。<a href="https://github.com/coleifer/peewee" target="_blank" rel="noopener">官网</a></li><li>PonyORM：提供面向生成器的 SQL 接口的 ORM。<a href="https://ponyorm.com/" target="_blank" rel="noopener">官网</a></li><li>python-sql：编写 Python 风格的 SQL 查询。<a href="https://pypi.python.org/pypi/python-sql" target="_blank" rel="noopener">官网</a></li></ul></li><li>NoSQL 数据库<ul><li>django-mongodb-engine：Django MongoDB 后端。<a href="https://github.com/django-nonrel/mongodb-engine" target="_blank" rel="noopener">官网</a></li><li>PynamoDB：<a href="https://aws.amazon.com/dynamodb/" target="_blank" rel="noopener">Amazon DynamoDB</a> 的一个 Python 风格接口。<a href="https://github.com/jlafon/PynamoDB" target="_blank" rel="noopener">官网</a></li><li>flywheel：Amazon DynamoDB 的对象映射工具。<a href="https://github.com/mathcamp/flywheel" target="_blank" rel="noopener">官网</a></li><li>MongoEngine：一个 Python 对象文档映射工具，用于 MongoDB。<a href="http://mongoengine.org/" target="_blank" rel="noopener">官网</a></li><li>hot-redis：为 Redis 提供 Python 丰富的数据类型。<a href="https://github.com/stephenmcd/hot-redis" target="_blank" rel="noopener">官网</a></li><li>redisco：一个 Python 库，提供可以持续存在在 Redis 中的简单模型和容器。<a href="https://github.com/kiddouk/redisco" target="_blank" rel="noopener">官网</a></li></ul></li><li>其他<ul><li>butterdb：Google Drive 电子表格的 Python ORM。<a href="https://github.com/Widdershin/butterdb" target="_blank" rel="noopener">官网</a></li></ul></li></ul><h3 id="Web-框架"><a href="#Web-框架" class="headerlink" title="Web 框架"></a>Web 框架</h3><p>全栈 Web 框架。</p><ul><li><a href="http://hao.jobbole.com/django/" target="_blank" rel="noopener">Django</a>：Python 界最流行的 web 框架。<a href="https://www.djangoproject.com/" target="_blank" rel="noopener">官网</a><ul><li><a href="https://gitlab.com/rosarior/awesome-django" target="_blank" rel="noopener">awesome-django</a> 系列</li></ul></li><li><a href="http://hao.jobbole.com/flask/" target="_blank" rel="noopener">Flask</a>：一个 Python 微型框架。<a href="http://flask.pocoo.org/" target="_blank" rel="noopener">官网</a><ul><li><a href="https://github.com/humiaozuzu/awesome-flask" target="_blank" rel="noopener">awesome-flask</a> 系列</li></ul></li><li>pyramid：一个小巧，快速，接地气的开源 Python web 框架。<ul><li><a href="https://github.com/uralbash/awesome-pyramid" target="_blank" rel="noopener">awesome-pyramid</a> 系列</li></ul></li><li><a href="http://hao.jobbole.com/bottle/" target="_blank" rel="noopener">Bottle</a>：一个快速小巧，轻量级的 WSGI 微型 web 框架。<a href="http://bottlepy.org/docs/dev/index.html" target="_blank" rel="noopener">官网</a></li><li>CherryPy：一个极简的 Python web 框架，服从 HTTP/1.1 协议且具有 WSGI 线程池。<a href="http://www.cherrypy.org/" target="_blank" rel="noopener">官网</a></li><li>TurboGears：一个可以扩展为全栈解决方案的微型框架。<a href="http://www.turbogears.org/" target="_blank" rel="noopener">官网</a></li><li><a href="http://hao.jobbole.com/python-webpy/" target="_blank" rel="noopener">web.py</a>：一个 Python 的 web 框架，既简单，又强大。<a href="http://webpy.org/" target="_blank" rel="noopener">官网</a></li><li>web2py：一个全栈 web 框架和平台，专注于简单易用。<a href="http://www.web2py.com/" target="_blank" rel="noopener">官网</a></li><li><a href="http://hao.jobbole.com/tornado/" target="_blank" rel="noopener">Tornado</a>：一个 web 框架和异步网络库。<a href="http://www.tornadoweb.org/en/latest/" target="_blank" rel="noopener">官网</a></li><li>sanic：基于 Python3.5+ 的异步网络框架。<a href="https://github.com/channelcat/sanic/" target="_blank" rel="noopener">官网</a></li></ul><h3 id="权限"><a href="#权限" class="headerlink" title="权限"></a>权限</h3><p>允许或拒绝用户访问数据或功能的库。</p><ul><li>Carteblanche：站在用户和设计者角度开发的一个代码对齐模块，很好地处理了代码导航及权限。<a href="https://github.com/neuman/python-carteblanche/" target="_blank" rel="noopener">官网</a></li><li>django-guardian：Django 1.2+ 实现了单个对象权限。<a href="https://github.com/django-guardian/django-guardian" target="_blank" rel="noopener">官网</a></li><li>django-rules：一个小巧但是强大的应用，提供对象级别的权限管理，且不需要使用数据库。<a href="https://github.com/dfunckt/django-rules" target="_blank" rel="noopener">官网</a></li></ul><h3 id="CMS"><a href="#CMS" class="headerlink" title="CMS"></a>CMS</h3><p>内容管理系统</p><ul><li>odoo-cms: 一个开源的，企业级 CMS，基于 odoo。<a href="http://www.odoo.com" target="_blank" rel="noopener">官网</a></li><li>django-cms：一个开源的，企业级 CMS，基于 Django。<a href="http://www.django-cms.org/en/" target="_blank" rel="noopener">官网</a></li><li>djedi-cms：一个轻量级但却非常强大的 Django CMS ，考虑到了插件，内联编辑以及性能。<a href="http://djedi-cms.org/" target="_blank" rel="noopener">官网</a></li><li>FeinCMS：基于 Django 构建的最先进的内容管理系统之一。<a href="http://www.feincms.org/" target="_blank" rel="noopener">官网</a></li><li>Kotti：一个高级的，Python 范的 web 应用框架，基于 Pyramid 构建。<a href="http://kotti.pylonsproject.org/" target="_blank" rel="noopener">官网</a></li><li>Mezzanine：一个强大的，持续的，灵活的内容管理平台。<a href="http://mezzanine.jupo.org/" target="_blank" rel="noopener">官网</a></li><li>Opps：一个为杂志，报纸网站以及大流量门户网站设计的 CMS 平台，基于 Django。<a href="http://opps.github.io/opps/" target="_blank" rel="noopener">官网</a></li><li>Plone：一个构建于开源应用服务器 Zope 之上的 CMS。<a href="https://plone.org/" target="_blank" rel="noopener">官网</a></li><li>Quokka：灵活，可扩展的小型 CMS，基于 Flask 和 MongoDB。<a href="http://quokkaproject.org/" target="_blank" rel="noopener">官网</a></li><li><a href="http://hao.jobbole.com/wagtail/" target="_blank" rel="noopener">Wagtail</a>：一个 Django 内容管理系统。<a href="https://wagtail.io/" target="_blank" rel="noopener">官网</a></li><li>Widgy：最新的 CMS 框架，基于 Django。<a href="https://wid.gy/" target="_blank" rel="noopener">官网</a></li></ul><h3 id="电子商务"><a href="#电子商务" class="headerlink" title="电子商务"></a>电子商务</h3><p>用于电子商务以及支付的框架和库。</p><ul><li>django-oscar：一个用于 Django 的开源的电子商务框架。<a href="http://oscarcommerce.com/" target="_blank" rel="noopener">官网</a></li><li>django-shop：一个基于 Django 的店铺系统。<a href="https://github.com/awesto/django-shop" target="_blank" rel="noopener">官网</a></li><li>Cartridge：一个基于 Mezzanine 构建的购物车应用。<a href="https://github.com/stephenmcd/cartridge" target="_blank" rel="noopener">官网</a></li><li>shoop：一个基于 Django 的开源电子商务平台。<a href="https://www.shoop.io/en/" target="_blank" rel="noopener">官网</a></li><li>alipay：非官方的 Python 支付宝 API。<a href="https://github.com/lxneng/alipay" target="_blank" rel="noopener">官网</a></li><li>merchant：一个可以接收来自多种支付平台支付的 Django 应用。<a href="https://github.com/agiliq/merchant" target="_blank" rel="noopener">官网</a></li><li>money：一个货币类库。带有可选的 CLDR 后端本地化格式，提供可扩展的货币兑换解决方案。<a href="https://github.com/carlospalol/money" target="_blank" rel="noopener">官网</a></li><li>python-currencies：显示货币格式以及它的数值。<a href="https://github.com/Alir3z4/python-currencies" target="_blank" rel="noopener">官网</a></li></ul><h3 id="RESTful-API"><a href="#RESTful-API" class="headerlink" title="RESTful API"></a>RESTful API</h3><p>用来开发 RESTful APIs 的库</p><ul><li>Django<ul><li><a href="http://hao.jobbole.com/django-rest-framework/" target="_blank" rel="noopener">django-rest-framework</a>：一个强大灵活的工具，用来构建 web API。<a href="http://www.django-rest-framework.org/" target="_blank" rel="noopener">官网</a></li><li>django-tastypie：为 Django 应用开发 API。<a href="http://tastypieapi.org/" target="_blank" rel="noopener">官网</a></li><li>django-formapi：为 Django 的表单验证，创建 JSON APIs 。<a href="https://github.com/5monkeys/django-formapi" target="_blank" rel="noopener">官网</a></li></ul></li><li>Flask<ul><li>flask-api：为 flask 开发的，可浏览 Web APIs 。<a href="http://www.flaskapi.org/" target="_blank" rel="noopener">官网</a></li><li>flask-restful：为 flask 快速创建 REST APIs 。<a href="http://flask-restful.readthedocs.org/en/latest/" target="_blank" rel="noopener">官网</a></li><li>flask-restless：为 SQLAlchemy 定义的数据库模型创建 RESTful APIs 。<a href="https://flask-restless.readthedocs.org/en/latest/" target="_blank" rel="noopener">官网</a></li><li>flask-api-utils：为 Flask 处理 API 表示和验证。<a href="https://github.com/marselester/flask-api-utils" target="_blank" rel="noopener">官网</a></li><li>eve：REST API 框架，由 Flask, MongoDB 等驱动。<a href="https://github.com/nicolaiarocci/eve" target="_blank" rel="noopener">官网</a></li></ul></li><li>Pyramid<ul><li>cornice：一个 Pyramid 的 REST 框架 。<a href="https://cornice.readthedocs.org/en/latest/" target="_blank" rel="noopener">官网</a></li></ul></li><li>与框架无关的<ul><li>falcon：一个用来建立云 API 和 web app 后端的高性能框架。<a href="http://falconframework.org/" target="_blank" rel="noopener">官网</a></li><li>sandman：为现存的数据库驱动系统自动创建 REST APIs 。<a href="https://github.com/jeffknupp/sandman" target="_blank" rel="noopener">官网</a></li><li>restless：框架无关的 REST 框架 ，基于从 Tastypie 学到的知识。<a href="http://restless.readthedocs.org/en/latest/" target="_blank" rel="noopener">官网</a></li><li>ripozo：快速创建 REST/HATEOAS/Hypermedia APIs。<a href="https://github.com/vertical-knowledge/ripozo" target="_blank" rel="noopener">官网</a></li></ul></li></ul><h3 id="验证"><a href="#验证" class="headerlink" title="验证"></a>验证</h3><p>实现验证方案的库。</p><ul><li>OAuth<ul><li>Authomatic：简单但是强大的框架，身份验证/授权客户端。<a href="http://peterhudec.github.io/authomatic/" target="_blank" rel="noopener">官网</a></li><li>django-allauth：Django 的验证应用。<a href="https://github.com/pennersr/django-allauth" target="_blank" rel="noopener">官网</a></li><li>django-oauth-toolkit：为 Django 用户准备的 OAuth2。<a href="https://github.com/evonove/django-oauth-toolkit" target="_blank" rel="noopener">官网</a></li><li>django-oauth2-provider：为 Django 应用提供 OAuth2 接入。<a href="https://github.com/caffeinehit/django-oauth2-provider" target="_blank" rel="noopener">官网</a></li><li>Flask-OAuthlib：OAuth 1.0/a, 2.0 客户端实现，供 Flask 使用。<a href="https://github.com/lepture/flask-oauthlib" target="_blank" rel="noopener">官网</a></li><li>OAuthLib：一个 OAuth 请求-签名逻辑通用、 完整的实现。<a href="https://github.com/idan/oauthlib" target="_blank" rel="noopener">官网</a></li><li>python-oauth2：一个完全测试的抽象接口。用来创建 OAuth 客户端和服务端。<a href="https://github.com/joestump/python-oauth2" target="_blank" rel="noopener">官网</a></li><li>python-social-auth：一个设置简单的社会化验证方式。<a href="https://github.com/omab/python-social-auth" target="_blank" rel="noopener">官网</a></li><li>rauth：OAuth 1.0/a, 2.0, 和 Ofly 的 Python 库。<a href="https://github.com/litl/rauth" target="_blank" rel="noopener">官网</a></li><li>sanction：一个超级简单的 OAuth2 客户端实现。<a href="https://github.com/demianbrecht/sanction" target="_blank" rel="noopener">官网</a></li></ul></li><li>其他<ul><li>jose：JavaScript 对象签名和加密草案的实现。<a href="https://github.com/demonware/jose" target="_blank" rel="noopener">官网</a></li><li>PyJWT：JSON Web 令牌草案 01。<a href="https://github.com/jpadilla/pyjwt" target="_blank" rel="noopener">官网</a></li><li>python-jws：JSON Web 签名草案 02 的实现。<a href="https://github.com/brianloveswords/python-jws" target="_blank" rel="noopener">官网</a></li><li>python-jwt：一个用来生成和验证 JSON Web 令牌的模块。<a href="https://github.com/davedoesdev/python-jwt" target="_blank" rel="noopener">官网</a></li></ul></li></ul><h3 id="模板引擎"><a href="#模板引擎" class="headerlink" title="模板引擎"></a>模板引擎</h3><p>模板生成和词法解析的库和工具。</p><ul><li><a href="http://hao.jobbole.com/jinja2/" target="_blank" rel="noopener">Jinja2</a>：一个现代的，对设计师友好的模板引擎。<a href="https://github.com/pallets/jinja" target="_blank" rel="noopener">官网</a></li><li>Chameleon：一个 HTML/XML 模板引擎。 模仿了 ZPT（Zope Page Templates）, 进行了速度上的优化。<a href="https://chameleon.readthedocs.org/en/latest/" target="_blank" rel="noopener">官网</a></li><li>Genshi：Python 模板工具，用以生成 web 感知的结果。<a href="https://genshi.edgewall.org/" target="_blank" rel="noopener">官网</a></li><li>Mako：Python 平台的超高速轻量级模板。<a href="http://www.makotemplates.org/" target="_blank" rel="noopener">官网</a></li></ul><h3 id="队列"><a href="#队列" class="headerlink" title="队列"></a>队列</h3><p>处理事件以及任务队列的库。</p><ul><li>celery：一个异步任务队列/作业队列，基于分布式消息传递。<a href="http://www.celeryproject.org/" target="_blank" rel="noopener">官网</a></li><li>huey：小型多线程任务队列。<a href="https://github.com/coleifer/huey" target="_blank" rel="noopener">官网</a></li><li><a href="http://hao.jobbole.com/mrq/" target="_blank" rel="noopener">mrq</a>：Mr. Queue -一个 Python 的分布式 worker 任务队列， 使用 Redis 和 gevent。<a href="https://github.com/pricingassistant/mrq" target="_blank" rel="noopener">官网</a></li><li>rq：简单的 Python 作业队列。<a href="http://python-rq.org/" target="_blank" rel="noopener">官网</a></li><li>simpleq：一个简单的，可无限扩张的，基于亚马逊 SQS 的队列。<a href="https://github.com/rdegges/simpleq" target="_blank" rel="noopener">官网</a></li></ul><h3 id="搜索"><a href="#搜索" class="headerlink" title="搜索"></a>搜索</h3><p>对数据进行索引和执行搜索查询的库和软件。</p><ul><li>django-haystack：Django 模块化搜索。<a href="https://github.com/django-haystack/django-haystack" target="_blank" rel="noopener">官网</a></li><li>elasticsearch-py：Elasticsearch 的官方底层 Python 客户端。<a href="https://www.elastic.co/guide/en/elasticsearch/client/python-api/current/index.html" target="_blank" rel="noopener">官网</a></li><li>elasticsearch-dsl-py：Elasticsearch 的官方高级 Python 客户端。<a href="https://github.com/elastic/elasticsearch-dsl-py" target="_blank" rel="noopener">官网</a> </li><li>solrpy：<a href="http://lucene.apache.org/solr/" target="_blank" rel="noopener">solr</a> 的 Python 客户端。<a href="https://github.com/edsu/solrpy" target="_blank" rel="noopener">官网</a></li><li>Whoosh：一个快速的纯 Python 搜索引擎库。<a href="http://whoosh.readthedocs.org/en/latest/" target="_blank" rel="noopener">官网</a></li></ul><h3 id="动态消息"><a href="#动态消息" class="headerlink" title="动态消息"></a>动态消息</h3><p>用来创建用户活动的库。</p><ul><li>django-activity-stream：从你的站点行为中生成通用活动信息流。<a href="https://github.com/justquick/django-activity-stream" target="_blank" rel="noopener">官网</a></li><li>Stream-Framework：使用 Cassandra 和 Redis 创建动态消息和通知系统。<a href="https://github.com/tschellenbach/Stream-Framework" target="_blank" rel="noopener">官网</a></li></ul><h3 id="资源管理"><a href="#资源管理" class="headerlink" title="资源管理"></a>资源管理</h3><p>管理、压缩、缩小网站资源的工具。</p><ul><li>django-compressor：将链接和内联的 JavaScript 或 CSS 压缩到一个单独的缓存文件中。<a href="https://github.com/django-compressor/django-compressor" target="_blank" rel="noopener">官网</a></li><li>django-storages：一个针对 Django 的自定义存储后端的工具集合。<a href="http://django-storages.readthedocs.org/en/latest/" target="_blank" rel="noopener">官网</a></li><li>fanstatic：打包、优化，并且把静态文件依赖作为 Python 的包来提供。<a href="http://www.fanstatic.org/en/latest/" target="_blank" rel="noopener">官网</a></li><li>File Conveyor：一个后台驻留的程序，用来发现和同步文件到 CDNs, S3 和 FTP。<a href="http://fileconveyor.org/" target="_blank" rel="noopener">官网</a></li><li>Flask-Assets：帮你将 web 资源整合到你的 Flask app 中。<a href="http://flask-assets.readthedocs.org/en/latest/" target="_blank" rel="noopener">官网</a></li><li>jinja-assets-compressor：一个 Jinja 扩展，用来编译和压缩你的资源。<a href="https://github.com/jaysonsantos/jinja-assets-compressor" target="_blank" rel="noopener">官网</a></li><li>webassets：为你的静态资源打包、优化和管理生成独一无二的缓存 URL。<a href="http://webassets.readthedocs.org/en/latest/" target="_blank" rel="noopener">官网</a></li></ul><h3 id="缓存"><a href="#缓存" class="headerlink" title="缓存"></a>缓存</h3><p>缓存数据的库。</p><ul><li>Beaker：一个缓存和会话库，可以用在 web 应用和独立 Python 脚本和应用上。<a href="http://beaker.readthedocs.org/en/latest/" target="_blank" rel="noopener">官网</a></li><li>django-cache-machine：Django 模型的自动缓存和失效。<a href="https://github.com/django-cache-machine/django-cache-machine" target="_blank" rel="noopener">官网</a></li><li>django-cacheops：具有自动颗粒化事件驱动失效功能的 ORM。<a href="https://github.com/Suor/django-cacheops" target="_blank" rel="noopener">官网</a></li><li>django-viewlet：渲染模板，同时具有额外的缓存控制功能。<a href="https://github.com/5monkeys/django-viewlet" target="_blank" rel="noopener">官网</a></li><li>dogpile.cache：dogpile.cache 是 Beaker 的下一代替代品，由同一作者开发。<a href="http://dogpilecache.readthedocs.org/en/latest/" target="_blank" rel="noopener">官网</a></li><li>HermesCache：Python 缓存库，具有基于标签的失效和 dogpile effect 保护功能。<a href="https://pypi.python.org/pypi/HermesCache" target="_blank" rel="noopener">官网</a></li><li>johnny-cache：django 应用缓存框架。<a href="https://github.com/jmoiron/johnny-cache" target="_blank" rel="noopener">官网</a></li><li>pylibmc：<a href="http://libmemcached.org/libMemcached.html" target="_blank" rel="noopener">libmemcached</a> 接口的 Python 封装。<a href="https://github.com/lericson/pylibmc" target="_blank" rel="noopener">官网</a></li></ul><h3 id="电子邮件"><a href="#电子邮件" class="headerlink" title="电子邮件"></a>电子邮件</h3><p>用来发送和解析电子邮件的库。</p><ul><li>django-celery-ses：带有 AWS SES 和 Celery 的 Django email 后端。<a href="https://github.com/StreetVoice/django-celery-ses" target="_blank" rel="noopener">官网</a></li><li>envelopes：供人类使用的电子邮件库。<a href="http://tomekwojcik.github.io/envelopes/" target="_blank" rel="noopener">官网</a></li><li>flanker：一个 email 地址和 Mime 解析库。<a href="https://github.com/mailgun/flanker" target="_blank" rel="noopener">官网</a></li><li>imbox：Python IMAP 库。<a href="https://github.com/martinrusev/imbox" target="_blank" rel="noopener">官网</a></li><li>inbox.py：Python SMTP 服务器。<a href="https://github.com/kennethreitz/inbox.py" target="_blank" rel="noopener">官网</a></li><li>inbox：一个开源电子邮件工具箱。<a href="https://github.com/nylas/sync-engine" target="_blank" rel="noopener">官网</a></li><li>lamson：Python 风格的 SMTP 应用服务器。<a href="https://github.com/zedshaw/lamson" target="_blank" rel="noopener">官网</a></li><li>mailjet：Mailjet API 实现，用来提供批量发送邮件，统计等功能。<a href="https://github.com/WoLpH/mailjet" target="_blank" rel="noopener">官网</a></li><li>marrow.mailer：高性能可扩展邮件分发框架。<a href="https://github.com/marrow/mailer" target="_blank" rel="noopener">官网</a></li><li>modoboa：一个邮件托管和管理平台，具有现代的、简约的 Web UI。<a href="https://github.com/tonioo/modoboa" target="_blank" rel="noopener">官网</a></li><li>pyzmail：创建，发送和解析电子邮件。<a href="http://www.magiksys.net/pyzmail/" target="_blank" rel="noopener">官网</a></li><li>Talon：Mailgun 库，用来抽取信息和签名。<a href="https://github.com/mailgun/talon" target="_blank" rel="noopener">官网</a></li><li>yagmail：yagmail是一个GMAIL / SMTP客户端，旨在使其尽可能简单地发送电子邮件。<a href="https://pypi.org/project/yagmail/" target="_blank" rel="noopener">官网</a></li></ul><h3 id="国际化"><a href="#国际化" class="headerlink" title="国际化"></a>国际化</h3><p>用来进行国际化的库。</p><ul><li>Babel：一个 Python 的国际化库。<a href="http://babel.pocoo.org/en/latest/" target="_blank" rel="noopener">官网</a></li><li>Korean：一个韩语词态库。<a href="https://korean.readthedocs.org/en/latest/" target="_blank" rel="noopener">官网</a></li></ul><h3 id="URL-处理"><a href="#URL-处理" class="headerlink" title="URL 处理"></a>URL 处理</h3><p>解析 URLs 的库</p><ul><li>furl：一个让处理 URL 更简单小型 Python 库。<a href="https://github.com/gruns/furl" target="_blank" rel="noopener">官网</a></li><li>purl：一个简单的，不可变的 URL 类，具有简洁的 API 来进行询问和处理。<a href="https://github.com/codeinthehole/purl" target="_blank" rel="noopener">官网</a></li><li>pyshorteners：一个纯 Python URL 缩短库。<a href="https://github.com/ellisonleao/pyshorteners" target="_blank" rel="noopener">官网</a></li><li>shorturl：生成短小 URL 和类似 bit.ly 短链的 Python 实现。<a href="https://github.com/Alir3z4/python-shorturl" target="_blank" rel="noopener">官网</a></li><li>webargs：一个解析 HTTP 请求参数的库，内置对流行 web 框架的支持，包括 Flask, Django, Bottle, Tornado 和 Pyramid。<a href="https://github.com/sloria/webargs" target="_blank" rel="noopener">官网</a></li></ul><h3 id="HTML-处理"><a href="#HTML-处理" class="headerlink" title="HTML 处理"></a>HTML 处理</h3><p>处理 HTML 和 XML 的库。</p><ul><li>BeautifulSoup：以 Python 风格的方式来对 HTML 或 XML 进行迭代，搜索和修改。<a href="http://www.crummy.com/software/BeautifulSoup/bs4/doc/" target="_blank" rel="noopener">官网</a></li><li>bleach：一个基于白名单的 HTML 清理和文本链接库。<a href="http://bleach.readthedocs.org/en/latest/" target="_blank" rel="noopener">官网</a></li><li>cssutils：一个 Python 的 CSS 库。<a href="https://pypi.python.org/pypi/cssutils/" target="_blank" rel="noopener">官网</a></li><li>html5lib：一个兼容标准的 HTML 文档和片段解析及序列化库。<a href="https://github.com/html5lib/html5lib-python" target="_blank" rel="noopener">官网</a></li><li>lxml：一个非常快速，简单易用，功能齐全的库，用来处理 HTML 和 XML。<a href="http://lxml.de/" target="_blank" rel="noopener">官网</a></li><li>MarkupSafe：为 Python 实现 XML/HTML/XHTML 标记安全字符串。<a href="https://github.com/pallets/markupsafe" target="_blank" rel="noopener">官网</a></li><li>pyquery：一个解析 HTML 的库，类似 jQuery。<a href="https://github.com/gawel/pyquery" target="_blank" rel="noopener">官网</a></li><li>requests-html：人性化的，Pythonic 的 HTML 解析库。<a href="https://github.com/kennethreitz/requests-html" target="_blank" rel="noopener">官网</a></li><li>untangle：将 XML 文档转换为 Python 对象，使其可以方便的访问。<a href="https://github.com/stchris/untangle" target="_blank" rel="noopener">官网</a></li><li>xhtml2pdf：HTML/CSS 转 PDF 工具。<a href="https://github.com/xhtml2pdf/xhtml2pdf" target="_blank" rel="noopener">官网</a></li><li>xmltodict：像处理 JSON 一样处理 XML。<a href="https://github.com/martinblech/xmltodict" target="_blank" rel="noopener">官网</a></li></ul><p>爬取网络站点的库</p><ul><li>Scrapy：一个快速高级的屏幕爬取及网页采集框架。<a href="http://scrapy.org/" target="_blank" rel="noopener">官网</a></li><li>cola：一个分布式爬虫框架。<a href="https://github.com/chineking/cola" target="_blank" rel="noopener">官网</a></li><li>Demiurge：基于 PyQuery 的爬虫微型框架。<a href="https://github.com/matiasb/demiurge" target="_blank" rel="noopener">官网</a></li><li>feedparser：通用 feed 解析器。<a href="http://pythonhosted.org/feedparser/" target="_blank" rel="noopener">官网</a></li><li>Grab：站点爬取框架。<a href="http://grablib.org/" target="_blank" rel="noopener">官网</a></li><li>MechanicalSoup：用于自动和网络站点交互的 Python 库。<a href="https://github.com/hickford/MechanicalSoup" target="_blank" rel="noopener">官网</a></li><li>portia：Scrapy 可视化爬取。<a href="https://github.com/scrapinghub/portia" target="_blank" rel="noopener">官网</a></li><li>pyspider：一个强大的爬虫系统。<a href="https://github.com/binux/pyspider" target="_blank" rel="noopener">官网</a></li><li>RoboBrowser：一个简单的，Python 风格的库，用来浏览网站，而不需要一个独立安装的浏览器。<a href="https://github.com/jmcarp/robobrowser" target="_blank" rel="noopener">官网</a></li></ul><h3 id="网页内容提取"><a href="#网页内容提取" class="headerlink" title="网页内容提取"></a>网页内容提取</h3><p>用于进行网页内容提取的库。</p><ul><li>Haul：一个可以扩展的图像爬取工具。<a href="https://github.com/vinta/Haul" target="_blank" rel="noopener">官网</a></li><li>html2text：将 HTML 转换为 Markdown 格式文本。<a href="https://github.com/Alir3z4/html2text" target="_blank" rel="noopener">官网</a></li><li>lassie：人性化的网页内容检索库。<a href="https://github.com/michaelhelmick/lassie" target="_blank" rel="noopener">官网</a></li><li>micawber：一个小型网页内容提取库，用来从 URLs 提取富内容。<a href="https://github.com/coleifer/micawber" target="_blank" rel="noopener">官网</a> </li><li><a href="http://hao.jobbole.com/python-newspaper/" target="_blank" rel="noopener">newspaper</a>：使用 Python 进行新闻提取，文章提取以及内容策展。<a href="https://github.com/codelucas/newspaper" target="_blank" rel="noopener">官网</a></li><li>opengraph：一个用来解析开放内容协议(Open Graph Protocol)的 Python 模块。<a href="https://github.com/erikriver/opengraph" target="_blank" rel="noopener">官网</a></li><li><a href="http://hao.jobbole.com/python-goose/" target="_blank" rel="noopener">python-goose</a>：HTML 内容/文章提取器。<a href="https://github.com/grangier/python-goose" target="_blank" rel="noopener">官网</a></li><li>python-readability：arc90 公司 readability 工具的 Python 高速端口。<a href="https://github.com/buriy/python-readability" target="_blank" rel="noopener">官网</a></li><li>sanitize：为杂乱的数据世界带来调理性。<a href="https://github.com/Alir3z4/python-sanitize" target="_blank" rel="noopener">官网</a></li><li>sumy：一个为文本文件和 HTML 页面进行自动摘要的模块。<a href="https://github.com/miso-belica/sumy" target="_blank" rel="noopener">官网</a></li><li>textract：从任何格式的文档中提取文本，Word，PowerPoint，PDFs 等等。<a href="https://github.com/deanmalmgren/textract" target="_blank" rel="noopener">官网</a></li></ul><h3 id="表单"><a href="#表单" class="headerlink" title="表单"></a>表单</h3><p>进行表单操作的库。</p><ul><li>Deform：Python HTML 表单生成库，受到了 formish 表单生成库的启发。<a href="http://deform.readthedocs.org/en/latest/" target="_blank" rel="noopener">官网</a></li><li>django-bootstrap3：集成了 Bootstrap 3 的 Django。<a href="https://github.com/dyve/django-bootstrap3" target="_blank" rel="noopener">官网</a></li><li>django-crispy-forms：一个 Django 应用，他可以让你以一种非常优雅且 DRY（Don’t repeat yourself） 的方式来创建美观的表单。<a href="http://django-crispy-forms.readthedocs.org/en/latest/" target="_blank" rel="noopener">官网</a></li><li>django-remote-forms：一个平台独立的 Django 表单序列化工具。<a href="https://github.com/WiserTogether/django-remote-forms" target="_blank" rel="noopener">官网</a></li><li>WTForms：一个灵活的表单验证和呈现库。<a href="http://wtforms.readthedocs.org/en/latest/" target="_blank" rel="noopener">官网</a></li><li>WTForms-JSON：一个 WTForms 扩展，用来处理 JSON 数据。<a href="http://wtforms-json.readthedocs.org/en/latest/" target="_blank" rel="noopener">官网</a></li></ul><h3 id="数据验证"><a href="#数据验证" class="headerlink" title="数据验证"></a>数据验证</h3><p>数据验证库。多用于表单验证。</p><ul><li>Cerberus：一个映射验证器（mappings-validator）。支持多种规则，提供归一化功能，可以方便地定制为 Python 风格的 schema 定义。<a href="http://docs.python-cerberus.org/en/stable/" target="_blank" rel="noopener">官网</a></li><li>colander：一个用于对从 XML, JSON，HTML 表单获取的数据或其他同样简单的序列化数据进行验证和反序列化的系统。<a href="http://docs.pylonsproject.org/projects/colander/en/latest/" target="_blank" rel="noopener">官网</a></li><li>kmatch：一种用于匹配/验证/筛选 Python 字典的语言。<a href="https://github.com/ambitioninc/kmatch" target="_blank" rel="noopener">官网</a></li><li>schema：一个用于对 Python 数据结构进行验证的库。<a href="https://github.com/keleshev/schema" target="_blank" rel="noopener">官网</a> </li><li>Schematics：数据结构验证。<a href="https://github.com/schematics/schematics" target="_blank" rel="noopener">官网</a></li><li>valideer：轻量级可扩展的数据验证和适配库。<a href="https://github.com/podio/valideer" target="_blank" rel="noopener">官网</a></li><li>voluptuous：一个 Python 数据验证库。主要是为了验证传入 Python 的 JSON，YAML 等数据。<a href="https://github.com/alecthomas/voluptuous" target="_blank" rel="noopener">官网</a></li><li>jsonschema：<a href="http://json-schema.org/" target="_blank" rel="noopener">JSON Schema</a>的 python 实现，用于 JSON 数据的验证。<a href="https://github.com/Julian/jsonschema" target="_blank" rel="noopener">官网</a></li></ul><h3 id="反垃圾技术"><a href="#反垃圾技术" class="headerlink" title="反垃圾技术"></a>反垃圾技术</h3><p>帮助你和电子垃圾进行战斗的库。</p><ul><li>django-simple-captcha：一个简单、高度可定制的 Django 应用，可以为任何 Django 表单添加验证码。<a href="https://github.com/mbi/django-simple-captcha" target="_blank" rel="noopener">官网</a></li><li>django-simple-spam-blocker：一个用于 Django 的简单的电子垃圾屏蔽工具。<a href="https://github.com/moqada/django-simple-spam-blocker" target="_blank" rel="noopener">官网</a></li></ul><h3 id="标记"><a href="#标记" class="headerlink" title="标记"></a>标记</h3><p>用来进行标记的库。</p><ul><li>django-taggit：简单的 Django 标记工具。<a href="https://github.com/alex/django-taggit" target="_blank" rel="noopener">官网</a></li></ul><h3 id="管理面板"><a href="#管理面板" class="headerlink" title="管理面板"></a>管理面板</h3><p>管理界面库。</p><ul><li>Ajenti：一个你的服务器值得拥有的管理面板。<a href="https://github.com/ajenti/ajenti" target="_blank" rel="noopener">官网</a></li><li>django-suit：Django 管理界面的一个替代品 (仅对于非商业用途是免费的)。<a href="http://djangosuit.com/" target="_blank" rel="noopener">官网</a></li><li>django-xadmin：Django admin 的一个替代品，具有很多不错的功能。<a href="https://github.com/sshwsfc/django-xadmin" target="_blank" rel="noopener">官网</a></li><li>flask-admin：一个用于 Flask 的简单可扩展的管理界面框架。<a href="https://github.com/flask-admin/flask-admin" target="_blank" rel="noopener">官网</a></li><li>flower：一个对 Celery 集群进行实时监控和提供 web 管理界面的工具。<a href="https://github.com/mher/flower" target="_blank" rel="noopener">官网</a></li><li>Grappelli：Django 管理界面的一个漂亮的皮肤。<a href="http://grappelliproject.com/" target="_blank" rel="noopener">官网</a> </li><li>Wooey：一个 Django 应用，可以为 Python 脚本创建 web 用户界面。<a href="https://github.com/wooey/wooey" target="_blank" rel="noopener">官网</a></li></ul><h3 id="静态站点生成器"><a href="#静态站点生成器" class="headerlink" title="静态站点生成器"></a>静态站点生成器</h3><p>静态站点生成器是一个软件，它把文本和模板作为输入，然后输出 HTML 文件。</p><ul><li>Pelican：使用 Markdown 或 ReST 来处理内容， Jinja 2 来制作主题。支持 DVCS, Disqus.。AGPL 许可。<a href="http://blog.getpelican.com/" target="_blank" rel="noopener">官网</a></li><li>Cactus：为设计师设计的静态站点生成器。<a href="https://github.com/koenbok/Cactus/" target="_blank" rel="noopener">官网</a> </li><li>Hyde：基于 Jinja2 的静态站点生成器。<a href="http://hyde.github.io/" target="_blank" rel="noopener">官网</a></li><li>Nikola：一个静态网站和博客生成器。<a href="https://www.getnikola.com/" target="_blank" rel="noopener">官网</a></li><li>Tinkerer：Tinkerer 是一个博客引擎/静态站点生成器，由 Sphinx 驱动。<a href="http://tinkerer.me/" target="_blank" rel="noopener">官网</a></li><li>Lektor：一个简单易用的静态 CMS 和博客引擎。<a href="https://www.getlektor.com/" target="_blank" rel="noopener">官网</a></li></ul><h3 id="进程"><a href="#进程" class="headerlink" title="进程"></a>进程</h3><p>操作系统进程启动及通信库。</p><ul><li>envoy：比 Python <a href="https://docs.python.org/2/library/subprocess.html" target="_blank" rel="noopener">subprocess</a> 模块更人性化。<a href="https://github.com/kennethreitz/envoy" target="_blank" rel="noopener">官网</a></li><li>sarge：另一 种 subprocess 模块的封装。<a href="http://sarge.readthedocs.org/en/latest/" target="_blank" rel="noopener">官网</a></li><li>sh：一个完备的 subprocess 替代库。<a href="https://github.com/amoffat/sh" target="_blank" rel="noopener">官网</a></li></ul><h3 id="并发和并行"><a href="#并发和并行" class="headerlink" title="并发和并行"></a>并发和并行</h3><p>用以进行并发和并行操作的库。</p><ul><li>multiprocessing：(Python 标准库) 基于进程的“线程”接口。<a href="https://docs.python.org/2/library/multiprocessing.html" target="_blank" rel="noopener">官网</a></li><li>threading：(Python 标准库)更高层的线程接口。<a href="https://docs.python.org/2/library/threading.html" target="_blank" rel="noopener">官网</a></li><li>eventlet：支持 WSGI 的异步框架。<a href="http://eventlet.net/" target="_blank" rel="noopener">官网</a></li><li>gevent：一个基于协程的 Python 网络库，使用 <a href="https://github.com/python-greenlet/greenlet" target="_blank" rel="noopener">greenlet</a>。<a href="http://www.gevent.org/" target="_blank" rel="noopener">官网</a></li><li>Tomorrow：用于产生异步代码的神奇的装饰器语法实现。<a href="https://github.com/madisonmay/Tomorrow" target="_blank" rel="noopener">官网</a></li><li>uvloop：在 libuv 之上超快速实现 asyncio 事件循环。<a href="https://github.com/MagicStack/uvloop" target="_blank" rel="noopener">官网</a></li></ul><h3 id="网络"><a href="#网络" class="headerlink" title="网络"></a>网络</h3><p>用于网络编程的库。</p><ul><li>asyncio：(Python 标准库) 异步 I/O, 事件循环, 协程以及任务。<a href="https://docs.python.org/3/library/asyncio.html" target="_blank" rel="noopener">官网</a></li><li><a href="http://hao.jobbole.com/twisted/" target="_blank" rel="noopener">Twisted</a>：一个事件驱动的网络引擎。<a href="https://twistedmatrix.com/trac/" target="_blank" rel="noopener">官网</a></li><li>pulsar：事件驱动的并发框架。<a href="https://github.com/quantmind/pulsar" target="_blank" rel="noopener">官网</a></li><li>diesel：基于 Greenlet 的事件 I/O 框架。<a href="https://github.com/dieseldev/diesel" target="_blank" rel="noopener">官网</a></li><li>pyzmq：一个 ZeroMQ 消息库的 Python 封装。<a href="http://zeromq.github.io/pyzmq/" target="_blank" rel="noopener">官网</a></li><li>Toapi：一个轻巧，简单，快速的 Flask 库，致力于为所有网站提供 API 服务。<a href="https://github.com/gaojiuli/toapi" target="_blank" rel="noopener">官网</a></li><li>txZMQ：基于 Twisted 的 ZeroMQ 消息库的 Python 封装。<a href="https://github.com/smira/txZMQ" target="_blank" rel="noopener">官网</a></li></ul><h3 id="WebSocket"><a href="#WebSocket" class="headerlink" title="WebSocket"></a>WebSocket</h3><p>帮助使用 WebSocket 的库。</p><ul><li>AutobahnPython：给 Python 、使用的 WebSocket &amp; WAMP 基于 Twisted 和 <a href="https://docs.python.org/3/library/asyncio.html" target="_blank" rel="noopener">asyncio</a>。<a href="https://github.com/crossbario/autobahn-python" target="_blank" rel="noopener">官网</a></li><li>Crossbar：开源统一应用路由(Websocket &amp; WAMP for Python on Autobahn)。<a href="https://github.com/crossbario/crossbar/" target="_blank" rel="noopener">官网</a></li><li>django-socketio：给 Django 用的 WebSockets。<a href="https://github.com/stephenmcd/django-socketio" target="_blank" rel="noopener">官网</a></li><li>WebSocket-for-Python：为 Python2/3 以及 PyPy 编写的 WebSocket 客户端和服务器库。<a href="https://github.com/Lawouach/WebSocket-for-Python" target="_blank" rel="noopener">官网</a></li></ul><h3 id="WSGI-服务器"><a href="#WSGI-服务器" class="headerlink" title="WSGI 服务器"></a>WSGI 服务器</h3><p>兼容 WSGI 的 web 服务器</p><ul><li>gunicorn：Pre-forked, 部分是由 C 语言编写的。<a href="https://pypi.python.org/pypi/gunicorn" target="_blank" rel="noopener">官网</a></li><li>uwsgi：uwsgi 项目的目的是开发一组全栈工具，用来建立托管服务， 由 C 语言编写。<a href="https://uwsgi-docs.readthedocs.org/en/latest/" target="_blank" rel="noopener">官网</a></li><li><a href="http://hao.jobbole.com/bjoern/" target="_blank" rel="noopener">bjoern</a>：异步，非常快速，由 C 语言编写。<a href="https://pypi.python.org/pypi/bjoern" target="_blank" rel="noopener">官网</a></li><li>fapws3：异步 (仅对于网络端)，由 C 语言编写。<a href="http://www.fapws.org/" target="_blank" rel="noopener">官网</a></li><li>meinheld：异步，部分是由 C 语言编写的。<a href="https://pypi.python.org/pypi/meinheld" target="_blank" rel="noopener">官网</a></li><li>netius：异步，非常快速。<a href="https://github.com/hivesolutions/netius" target="_blank" rel="noopener">官网</a></li><li>paste：多线程，稳定，久经考验。<a href="http://pythonpaste.org/" target="_blank" rel="noopener">官网</a></li><li>rocket：多线程。<a href="https://pypi.python.org/pypi/rocket" target="_blank" rel="noopener">官网</a></li><li>waitress：多线程, 是它驱动着 Pyramid 框架。<a href="https://waitress.readthedocs.org/en/latest/" target="_blank" rel="noopener">官网</a></li><li>Werkzeug：一个 WSGI 工具库，驱动着 Flask ，而且可以很方便大嵌入到你的项目中去。<a href="http://werkzeug.pocoo.org/" target="_blank" rel="noopener">官网</a></li></ul><h3 id="RPC-服务器"><a href="#RPC-服务器" class="headerlink" title="RPC 服务器"></a>RPC 服务器</h3><p>兼容 RPC 的服务器。</p><ul><li>SimpleJSONRPCServer：这个库是 JSON-RPC 规范的一个实现。<a href="https://github.com/joshmarshall/jsonrpclib/" target="_blank" rel="noopener">官网</a></li><li>SimpleXMLRPCServer：(Python 标准库) 简单的 XML-RPC 服务器实现，单线程。<a href="https://docs.python.org/2/library/simplexmlrpcserver.html" target="_blank" rel="noopener">官网</a></li><li>zeroRPC：zerorpc 是一个灵活的 RPC 实现，基于 ZeroMQ 和 MessagePack。<a href="https://github.com/0rpc/zerorpc-python" target="_blank" rel="noopener">官网</a></li></ul><h3 id="密码学"><a href="#密码学" class="headerlink" title="密码学"></a>密码学</h3><ul><li>cryptography：这个软件包意在提供密码学基本内容和方法提供给 Python 开发者。<a href="https://cryptography.io/en/latest/" target="_blank" rel="noopener">官网</a></li><li>hashids：在 Python 中实现 <a href="http://hashids.org/" target="_blank" rel="noopener">hashids</a> 。<a href="https://github.com/davidaurelio/hashids-python" target="_blank" rel="noopener">官网</a></li><li>Paramiko：SSHv2 协议的 Python (2.6+, 3.3+) ，提供客户端和服务端的功能。<a href="http://www.paramiko.org/" target="_blank" rel="noopener">官网</a></li><li>Passlib：安全密码存储／哈希库，<a href="https://pythonhosted.org/passlib/" target="_blank" rel="noopener">官网</a></li><li>PyCrypto：Python 密码学工具箱。<a href="https://www.dlitz.net/software/pycrypto/" target="_blank" rel="noopener">官网</a></li><li>PyNacl：网络和密码学(NaCl) 库的 Python 绑定。<a href="https://github.com/pyca/pynacl" target="_blank" rel="noopener">官网</a></li></ul><h3 id="图形用户界面"><a href="#图形用户界面" class="headerlink" title="图形用户界面"></a>图形用户界面</h3><p>用来创建图形用户界面程序的库。</p><ul><li>curses：内建的 <a href="http://www.gnu.org/software/ncurses/" target="_blank" rel="noopener">ncurses</a> 封装，用来创建终端图形用户界面。<a href="https://docs.python.org/2/library/curses.html#module-curses" target="_blank" rel="noopener">官网</a></li><li>enaml：使用类似 QML 的 Declaratic 语法来创建美观的用户界面。<a href="https://github.com/nucleic/enaml" target="_blank" rel="noopener">官网</a></li><li><a href="http://hao.jobbole.com/kivy/" target="_blank" rel="noopener">kivy</a>：一个用来创建自然用户交互（NUI）应用程序的库，可以运行在 Windows, Linux, Mac OS X, Android 以及 iOS 平台上。<a href="https://kivy.org/" target="_blank" rel="noopener">官网</a></li><li>pyglet：一个 Python 的跨平台窗口及多媒体库。<a href="https://bitbucket.org/pyglet/pyglet/wiki/Home" target="_blank" rel="noopener">官网</a></li><li>PyQt：跨平台用户界面框架 <a href="http://www.qt.io/" target="_blank" rel="noopener">Qt</a> 的 Python 绑定 ，支持 Qt v4 和 Qt v5。<a href="https://riverbankcomputing.com/software/pyqt/intro" target="_blank" rel="noopener">官网</a></li><li>PySide：跨平台用户界面框架 <a href="http://www.qt.io/" target="_blank" rel="noopener">Qt</a> 的 Python 绑定 ，支持 Qt v4。<a href="https://wiki.qt.io/PySide" target="_blank" rel="noopener">官网</a></li><li>Tkinter：Tkinter 是 Python GUI 的一个事实标准库。<a href="https://wiki.python.org/moin/TkInter" target="_blank" rel="noopener">官网</a></li><li>Toga：一个 Python 原生的, 操作系统原生的 GUI 工具包。<a href="https://github.com/pybee/toga" target="_blank" rel="noopener">官网</a></li><li>urwid：一个用来创建终端 GUI 应用的库，支持组件，事件和丰富的色彩等。<a href="http://urwid.org/" target="_blank" rel="noopener">官网</a></li><li>wxPython：wxPython 是 wxWidgets C++ 类库和 Python 语言混合的产物。<a href="http://wxpython.org/" target="_blank" rel="noopener">官网</a></li><li>PyGObject：GLib/GObject/GIO/GTK+ (GTK+3) 的 Python 绑定。<a href="https://wiki.gnome.org/Projects/PyGObject" target="_blank" rel="noopener">官网</a></li><li>Flexx：Flexx 是一个纯 Python 语言编写的用来创建 GUI 程序的工具集，它使用 web 技术进行界面的展示。<a href="https://github.com/zoofIO/flexx" target="_blank" rel="noopener">官网</a></li></ul><h3 id="游戏开发"><a href="#游戏开发" class="headerlink" title="游戏开发"></a>游戏开发</h3><p>超赞的游戏开发库。</p><ul><li>Cocos2d：cocos2d 是一个用来开发 2D 游戏， 示例和其他图形/交互应用的框架。基于 pyglet。<a href="http://cocos2d.org/" target="_blank" rel="noopener">官网</a></li><li>Panda3D：由迪士尼开发的 3D 游戏引擎，并由卡内基梅陇娱乐技术中心负责维护。使用 C++ 编写, 针对 Python 进行了完全的封装。<a href="https://www.panda3d.org/" target="_blank" rel="noopener">官网</a></li><li>Pygame：Pygame 是一组 Python 模块，用来编写游戏。<a href="http://www.pygame.org/news.html" target="_blank" rel="noopener">官网</a></li><li>PyOgre：Ogre 3D 渲染引擎的 Python 绑定，可以用来开发游戏和仿真程序等任何 3D 应用。<a href="http://www.ogre3d.org/tikiwiki/PyOgre" target="_blank" rel="noopener">官网</a></li><li>PyOpenGL：OpenGL 的 Python 绑定及其相关 APIs。<a href="http://pyopengl.sourceforge.net/" target="_blank" rel="noopener">官网</a></li><li>PySDL2：SDL2 库的封装，基于 ctypes。<a href="http://pysdl2.readthedocs.org/en/latest/" target="_blank" rel="noopener">官网</a></li><li>RenPy：一个视觉小说（visual novel）引擎。<a href="https://www.renpy.org/" target="_blank" rel="noopener">官网</a></li></ul><h3 id="日志"><a href="#日志" class="headerlink" title="日志"></a>日志</h3><p>用来生成和操作日志的库。</p><ul><li>logging：(Python 标准库) 为 Python 提供日志功能。<a href="https://docs.python.org/2/library/logging.html" target="_blank" rel="noopener">官网</a></li><li>logbook：Logging 库的替代品。<a href="http://pythonhosted.org/Logbook/" target="_blank" rel="noopener">官网</a></li><li>Eliot：为复杂的和分布式系统创建日志。<a href="https://eliot.readthedocs.org/en/latest/" target="_blank" rel="noopener">官网</a></li><li>Raven：Sentry 的 Python 客户端。<a href="http://raven.readthedocs.org/en/latest/" target="_blank" rel="noopener">官网</a></li><li>Sentry：实时记录和收集日志的服务器。<a href="https://pypi.python.org/pypi/sentry" target="_blank" rel="noopener">官网</a></li></ul><h3 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h3><p>进行代码库测试和生成测试数据的库。</p><ul><li>测试框架<ul><li>unittest：(Python 标准库) 单元测试框架。<a href="https://docs.python.org/2/library/unittest.html" target="_blank" rel="noopener">官网</a></li><li>nose：nose 扩展了 unittest 的功能。<a href="https://nose.readthedocs.org/en/latest/" target="_blank" rel="noopener">官网</a></li><li>contexts：一个 Python 3.3+ 的 BDD 框架。受到 C# – Machine.Specifications 的启发。<a href="https://github.com/benjamin-hodgson/Contexts" target="_blank" rel="noopener">官网</a></li><li>hypothesis：Hypothesis 是一个基于先进的 Quickcheck 风格特性的测试库。<a href="https://github.com/DRMacIver/hypothesis" target="_blank" rel="noopener">官网</a></li><li>mamba：Python 的终极测试工具， 拥护 BDD。<a href="http://nestorsalceda.github.io/mamba/" target="_blank" rel="noopener">官网</a></li><li>PyAutoGUI：PyAutoGUI 是一个人性化的跨平台 GUI 自动测试模块。<a href="https://github.com/asweigart/pyautogui" target="_blank" rel="noopener">官网</a></li><li>pyshould：Should 风格的断言，基于 <a href="https://github.com/hamcrest/PyHamcrest" target="_blank" rel="noopener">PyHamcrest</a>。<a href="https://github.com/drslump/pyshould" target="_blank" rel="noopener">官网</a></li><li>pytest：一个成熟的全功能 Python 测试工具。<a href="http://pytest.org/latest/" target="_blank" rel="noopener">官网</a></li><li>green：干净，多彩的测试工具。<a href="https://github.com/CleanCut/green" target="_blank" rel="noopener">官网</a></li><li>pyvows：BDD 风格的测试工具，受 Vows.js 的启发。<a href="http://heynemann.github.io/pyvows/" target="_blank" rel="noopener">官网</a></li><li>Robot Framework：一个通用的自动化测试框架。<a href="https://github.com/robotframework/robotframework" target="_blank" rel="noopener">官网</a></li></ul></li><li>Web 测试<ul><li>Selenium：<a href="http://www.seleniumhq.org/" target="_blank" rel="noopener">Selenium</a> WebDriver 的 Python 绑定。<a href="https://pypi.python.org/pypi/selenium" target="_blank" rel="noopener">官网</a></li><li>locust：使用 Python 编写的，可扩展的用户加载测试工具。<a href="https://github.com/locustio/locust" target="_blank" rel="noopener">官网</a></li><li>sixpack：一个和语言无关的 A/B 测试框架。<a href="https://github.com/seatgeek/sixpack" target="_blank" rel="noopener">官网</a></li><li>splinter：开源的 web 应用测试工具。<a href="https://splinter.readthedocs.org/en/latest/" target="_blank" rel="noopener">官网</a></li></ul></li><li>Mock 测试<ul><li>mock：(Python 标准库) 一个用于伪造测试的库。<a href="https://docs.python.org/3/library/unittest.mock.html" target="_blank" rel="noopener">官网</a></li><li>doublex：Python 的一个功能强大的 doubles  测试框架。<a href="https://pypi.python.org/pypi/doublex" target="_blank" rel="noopener">官网</a></li><li>freezegun：通过伪造日期模块来生成不同的时间。<a href="https://github.com/spulec/freezegun" target="_blank" rel="noopener">官网</a></li><li>httmock：针对 Python 2.6+ 和 3.2+ 生成 伪造请求的库。<a href="https://github.com/patrys/httmock" target="_blank" rel="noopener">官网</a></li><li>httpretty：Python 的 HTTP 请求 mock 工具。<a href="http://falcao.it/HTTPretty/" target="_blank" rel="noopener">官网</a></li><li>responses：伪造 Python 中的 requests 库的一个通用库。<a href="https://github.com/getsentry/responses" target="_blank" rel="noopener">官网</a></li><li>VCR.py：在你的测试中记录和重放 HTTP 交互。<a href="https://github.com/kevin1024/vcrpy" target="_blank" rel="noopener">官网</a></li></ul></li><li>对象工厂<ul><li>factoryboy：一个 Python 用的测试固件 (test fixtures) 替代库。<a href="https://github.com/rbarrois/factoryboy" target="_blank" rel="noopener">官网</a></li><li>mixer：另外一个测试固件 (test fixtures) 替代库，支持 Django, Flask, SQLAlchemy, Peewee 等。<a href="https://github.com/klen/mixer" target="_blank" rel="noopener">官网</a></li><li>modelmommy：为 Django 测试创建随机固件。<a href="https://github.com/vandersonmota/modelmommy" target="_blank" rel="noopener">官网</a></li></ul></li><li>代码覆盖率<ul><li>coverage：代码覆盖率测量。<a href="https://pypi.python.org/pypi/coverage" target="_blank" rel="noopener">官网</a></li><li>Codecov：一个代码覆盖率测试工具，为开源项目提供免费代码覆盖率测试服务。<a href="https://codecov.io/" target="_blank" rel="noopener">官网</a></li></ul></li><li>伪数据<ul><li>faker：一个 Python 库，用来生成伪数据。<a href="http://www.joke2k.net/faker/" target="_blank" rel="noopener">官网</a></li><li>fake2db：伪数据库生成器。<a href="https://github.com/emirozer/fake2db" target="_blank" rel="noopener">官网</a></li><li>radar：生成随机的日期/时间。<a href="https://pypi.python.org/pypi/radar" target="_blank" rel="noopener">官网</a></li></ul></li><li>错误处理<ul><li>FuckIt.py：FuckIt.py 使用最先进的技术来保证你的 Python 代码无论对错都能继续运行。<a href="https://github.com/ajalt/fuckitpy" target="_blank" rel="noopener">官网</a></li></ul></li></ul><h3 id="代码分析和-Lint-工具"><a href="#代码分析和-Lint-工具" class="headerlink" title="代码分析和 Lint 工具"></a>代码分析和 Lint 工具</h3><p>进行代码分析，解析和操作代码库的库和工具。</p><ul><li>代码分析<ul><li>coala：语言独立和易于扩展的代码分析应用程序。<a href="http://coala-analyzer.org/" target="_blank" rel="noopener">官网</a></li><li>code2flow：把你的 Python 和 JavaScript 代码转换为流程图。<a href="https://github.com/scottrogowski/code2flow" target="_blank" rel="noopener">官网</a></li><li>pycallgraph：这个库可以把你的 Python 应用的流程(调用图)进行可视化。<a href="https://github.com/gak/pycallgraph" target="_blank" rel="noopener">官网</a></li><li>pysonar2：Python 类型推断和检索工具。<a href="https://github.com/yinwang0/pysonar2" target="_blank" rel="noopener">官网</a></li></ul></li><li>Lint 工具<ul><li>Flake8：模块化源码检查工具: pep8, pyflakes 以及 co。<a href="https://pypi.python.org/pypi/flake8" target="_blank" rel="noopener">官网</a></li><li>Pylint：一个完全可定制的源码分析器。<a href="https://www.pylint.org/" target="_blank" rel="noopener">官网</a></li><li>YAPF: Google 的 Python 代码格式化工具。<a href="https://github.com/google/yapf" target="_blank" rel="noopener">官网</a></li><li>pylama：Python 和 JavaScript 的代码审查工具。<a href="https://pylama.readthedocs.org/en/latest/" target="_blank" rel="noopener">官网</a></li></ul></li><li>代码格式化<ul><li>autopep8：自动格式化 Python 代码，以使其符合 PEP8 规范。<a href="https://github.com/hhatto/autopep8" target="_blank" rel="noopener">官网</a></li><li>black：一个坚定的 Python 代码格式化工具。<a href="https://github.com/ambv/black" target="_blank" rel="noopener">官网</a></li></ul></li></ul><h3 id="调试工具"><a href="#调试工具" class="headerlink" title="调试工具"></a>调试工具</h3><p>用来进行代码调试的库。</p><ul><li>调试器<ul><li>ipdb：IPython 启用的 <a href="https://docs.python.org/2/library/pdb.html" target="_blank" rel="noopener">pdb</a>。<a href="https://pypi.python.org/pypi/ipdb" target="_blank" rel="noopener">官网</a></li><li>pudb：全屏，基于控制台的 Python 调试器。<a href="https://pypi.python.org/pypi/pudb" target="_blank" rel="noopener">官网</a></li><li>pyringe：可以在 Python 进程中附加和注入代码的调试器。<a href="https://github.com/google/pyringe" target="_blank" rel="noopener">官网</a></li><li>wdb：一个奇异的 web 调试器，通过 WebSockets 工作。<a href="https://github.com/Kozea/wdb" target="_blank" rel="noopener">官网</a></li><li>winpdb：一个具有图形用户界面的 Python 调试器，可以进行远程调试，基于 rpdb2。<a href="http://winpdb.org/" target="_blank" rel="noopener">官网</a></li><li>django-debug-toolbar：为 Django 显示各种调试信息。<a href="https://github.com/django-debug-toolbar/django-debug-toolbar" target="_blank" rel="noopener">官网</a></li><li>django-devserver：一个 Django 运行服务器的替代品。<a href="https://github.com/dcramer/django-devserver" target="_blank" rel="noopener">官网</a></li><li>flask-debugtoolbar：django-debug-toolbar 的 flask 版。<a href="https://github.com/mgood/flask-debugtoolbar" target="_blank" rel="noopener">官网</a></li></ul></li><li>性能分析器<ul><li>lineprofiler：逐行性能分析。<a href="https://github.com/rkern/lineprofiler" target="_blank" rel="noopener">官网</a></li><li><a href="http://hao.jobbole.com/memory_profiler/" target="_blank" rel="noopener">Memory Profiler</a>：监控 Python 代码的内存使用。<a href="http://pypi.python.org/pypi/memory_profiler" target="_blank" rel="noopener">官网</a>、<a href="https://github.com/fabianp/memoryprofiler" target="_blank" rel="noopener">内存</a></li><li>profiling：一个交互式 Python 性能分析工具。<a href="https://github.com/what-studio/profiling" target="_blank" rel="noopener">官网</a></li></ul></li><li>其他<ul><li>pyelftools：解析和分析 ELF 文件以及 DWARF 调试信息。<a href="https://github.com/eliben/pyelftools" target="_blank" rel="noopener">官网</a></li><li>python-statsd：<a href="https://github.com/etsy/statsd/" target="_blank" rel="noopener">statsd</a> 服务器的 Python 客户端。<a href="https://github.com/WoLpH/python-statsd" target="_blank" rel="noopener">官网</a></li></ul></li></ul><h3 id="科学计算和数据分析"><a href="#科学计算和数据分析" class="headerlink" title="科学计算和数据分析"></a>科学计算和数据分析</h3><p>用来进行科学计算和数据分析的库。</p><ul><li>astropy：一个天文学 Python 库。<a href="http://www.astropy.org/" target="_blank" rel="noopener">官网</a></li><li><a href="http://hao.jobbole.com/bcbio-nextgen/" target="_blank" rel="noopener">bcbio-nextgen</a>：这个工具箱为全自动高通量测序分析提供符合最佳实践的处理流程。<a href="https://github.com/chapmanb/bcbio-nextgen" target="_blank" rel="noopener">官网</a></li><li>bccb：生物分析相关代码集合。<a href="https://github.com/chapmanb/bcbb" target="_blank" rel="noopener">官网</a></li><li>Biopython：Biopython 是一组可以免费使用的用来进行生物计算的工具。<a href="http://biopython.org/wiki/MainPage" target="_blank" rel="noopener">官网</a></li><li><a href="http://hao.jobbole.com/blaze/" target="_blank" rel="noopener">blaze</a>：NumPy 和 Pandas 的大数据接口。<a href="http://blaze.readthedocs.org/en/latest/index.html" target="_blank" rel="noopener">官网</a></li><li><a href="http://hao.jobbole.com/cclib/" target="_blank" rel="noopener">cclib</a>：一个用来解析和解释计算化学软件包输出结果的库。<a href="http://cclib.github.io/" target="_blank" rel="noopener">官网</a></li><li>NetworkX：一个为复杂网络设计的高性能软件。<a href="https://networkx.github.io/" target="_blank" rel="noopener">官网</a></li><li>Neupy：执行和测试各种不同的人工神经网络算法。<a href="http://neupy.com/pages/home.html" target="_blank" rel="noopener">官网</a></li><li>Numba：Python JIT (just in time) 编译器，针对科学用的 Python ，由 Cython 和 NumPy 的开发者开发。<a href="http://numba.pydata.org/" target="_blank" rel="noopener">官网</a></li><li><a href="http://hao.jobbole.com/numpy/" target="_blank" rel="noopener">NumPy</a>：使用 Python 进行科学计算的基础包。<a href="http://www.numpy.org/" target="_blank" rel="noopener">官网</a></li><li>Open Babel：一个化学工具箱，用来描述多种化学数据。<a href="http://openbabel.org/wiki/MainPage" target="_blank" rel="noopener">官网</a></li><li><a href="http://hao.jobbole.com/open-mining/" target="_blank" rel="noopener">Open Mining</a>：使用 Python 挖掘商业情报 (BI) (Pandas web 接口)。<a href="https://github.com/mining/mining" target="_blank" rel="noopener">官网</a></li><li><a href="http://hao.jobbole.com/orange/" target="_blank" rel="noopener">orange</a>：通过可视化编程或 Python 脚本进行数据挖掘，数据可视化，分析和机器学习。<a href="http://orange.biolab.si/" target="_blank" rel="noopener">官网</a></li><li>Pandas：提供高性能，易用的数据结构和数据分析工具。<a href="http://pandas.pydata.org/" target="_blank" rel="noopener">官网</a></li><li>PyDy：PyDy 是 Python Dynamics 的缩写，用来为动力学运动建模工作流程提供帮助， 基于 NumPy, SciPy, IPython 和 matplotlib。<a href="http://www.pydy.org/" target="_blank" rel="noopener">官网</a></li><li><a href="http://hao.jobbole.com/pymc/" target="_blank" rel="noopener">PyMC</a>：马尔科夫链蒙特卡洛采样工具。<a href="https://github.com/pymc-devs/pymc3" target="_blank" rel="noopener">官网</a></li><li>RDKit：化学信息学和机器学习软件。<a href="http://www.rdkit.org/" target="_blank" rel="noopener">官网</a></li><li><a href="http://hao.jobbole.com/scipy/" target="_blank" rel="noopener">SciPy</a>：由一些基于 Python ，用于数学，科学和工程的开源软件构成的生态系统。<a href="http://www.scipy.org/" target="_blank" rel="noopener">官网</a></li><li><a href="http://hao.jobbole.com/statsmodels/" target="_blank" rel="noopener">statsmodels</a>：统计建模和计量经济学。<a href="https://github.com/statsmodels/statsmodels" target="_blank" rel="noopener">官网</a></li><li>SymPy：一个用于符号数学的 Python 库。<a href="https://github.com/sympy/sympy" target="_blank" rel="noopener">官网</a></li><li>zipline：一个 Python 算法交易库。<a href="https://github.com/quantopian/zipline" target="_blank" rel="noopener">官网</a></li><li><a href="http://hao.jobbole.com/bayesian-belief-networks/" target="_blank" rel="noopener">Bayesian-belief-networks</a>：优雅的贝叶斯信念网络框架。<a href="https://github.com/eBay/bayesian-belief-networks" target="_blank" rel="noopener">官网</a></li></ul><h3 id="数据可视化"><a href="#数据可视化" class="headerlink" title="数据可视化"></a>数据可视化</h3><p>进行数据可视化的库。 参见: <a href="https://github.com/sorrycc/awesome-javascript#data-visualization" target="_blank" rel="noopener">awesome-javascript</a>。</p><ul><li>matplotlib：一个 Python 2D 绘图库。<a href="http://matplotlib.org/" target="_blank" rel="noopener">官网</a></li><li>bokeh：用 Python 进行交互式 web 绘图。<a href="https://github.com/bokeh/bokeh" target="_blank" rel="noopener">官网</a></li><li>ggplot：ggplot2 给 R 提供的 API 的 Python 版本。<a href="https://github.com/yhat/ggplot" target="_blank" rel="noopener">官网</a></li><li>plotly：协同 Python 和 matplotlib 工作的 web 绘图库。<a href="https://plot.ly/python/" target="_blank" rel="noopener">官网</a></li><li>pyecharts：基于百度 Echarts 的数据可视化库。<a href="https://github.com/chenjiandongx/pyecharts" target="_blank" rel="noopener">官网</a></li><li>pygal：一个 Python SVG 图表创建工具。<a href="http://www.pygal.org/en/latest/" target="_blank" rel="noopener">官网</a></li><li>pygraphviz：Graphviz 的 Python 接口。<a href="https://pypi.python.org/pypi/pygraphviz" target="_blank" rel="noopener">官网</a></li><li>PyQtGraph：交互式实时 2D/3D/ 图像绘制及科学/工程学组件。<a href="http://www.pyqtgraph.org/" target="_blank" rel="noopener">官网</a></li><li>SnakeViz：一个基于浏览器的 Python’s cProfile 模块输出结果查看工具。<a href="http://jiffyclub.github.io/snakeviz/" target="_blank" rel="noopener">官网</a></li><li>vincent：把 Python 转换为 Vega 语法的转换工具。<a href="https://github.com/wrobstory/vincent" target="_blank" rel="noopener">官网</a></li><li>VisPy：基于 OpenGL 的高性能科学可视化工具。<a href="http://vispy.org/" target="_blank" rel="noopener">官网</a></li></ul><h3 id="计算机视觉"><a href="#计算机视觉" class="headerlink" title="计算机视觉"></a>计算机视觉</h3><p>计算机视觉库。</p><ul><li>OpenCV：开源计算机视觉库。<a href="http://opencv.org/" target="_blank" rel="noopener">官网</a></li><li>pyocr：Tesseract 和 Cuneiform 的包装库。<a href="https://github.com/jflesch/pyocr" target="_blank" rel="noopener">官网</a></li><li>pytesseract：<a href="https://github.com/tesseract-ocr" target="_blank" rel="noopener">Google Tesseract OCR</a> 的另一包装库。<a href="https://github.com/madmaze/pytesseract" target="_blank" rel="noopener">官网</a></li><li><a href="http://hao.jobbole.com/simplecv/" target="_blank" rel="noopener">SimpleCV</a>：一个用来创建计算机视觉应用的开源框架。<a href="http://simplecv.org/" target="_blank" rel="noopener">官网</a></li></ul><h3 id="机器学习"><a href="#机器学习" class="headerlink" title="机器学习"></a>机器学习</h3><p>机器学习库。 参见: <a href="https://github.com/josephmisiti/awesome-machine-learning#python" target="_blank" rel="noopener">awesome-machine-learning</a>.</p><ul><li>Caffe: 一个 <a href="https://github.com/BVLC/caffe" target="_blank" rel="noopener">Caffe</a> 的 python 接口。<a href="http://caffe.berkeleyvision.org" target="_blank" rel="noopener">官网</a></li><li><a href="https://github.com/caffe2/caffe2/" target="_blank" rel="noopener">Caffe2</a>：一个轻量级的，模块化的，可扩展的深度学习框架。<a href="https://caffe2.ai/" target="_blank" rel="noopener">官网</a></li><li>Crab：灵活、快速的推荐引擎。<a href="https://github.com/muricoca/crab" target="_blank" rel="noopener">官网</a></li><li>gensim：人性化的话题建模库。<a href="https://github.com/piskvorky/gensim" target="_blank" rel="noopener">官网</a></li><li>hebel：GPU 加速的深度学习库。<a href="https://github.com/hannes-brt/hebel" target="_blank" rel="noopener">官网</a></li><li><a href="https://github.com/keras-team/keras" target="_blank" rel="noopener">keras</a>: 以 tensorflow/theano/CNTK 为后端的深度学习封装库，快速上手神经网络。<a href="https://keras.io/" target="_blank" rel="noopener">官网</a></li><li><a href="https://github.com/apache/incubator-mxnet" target="_blank" rel="noopener">MXNet</a>：一个高效和灵活的深度学习框架。<a href="http://mxnet.incubator.apache.org/" target="_blank" rel="noopener">官网</a></li><li>NuPIC：智能计算 Numenta 平台。<a href="https://github.com/numenta/nupic" target="_blank" rel="noopener">官网</a></li><li>pattern：Python 网络挖掘模块。<a href="https://github.com/clips/pattern" target="_blank" rel="noopener">官网</a></li><li><a href="http://hao.jobbole.com/pybrain/" target="_blank" rel="noopener">PyBrain</a>：另一个 Python 机器学习库。<a href="https://github.com/pybrain/pybrain" target="_blank" rel="noopener">官网</a></li><li>pydeep：Python 深度学习库。<a href="https://github.com/andersbll/deeppy" target="_blank" rel="noopener">官网</a></li><li><a href="http://hao.jobbole.com/pylearn2/" target="_blank" rel="noopener">Pylearn2</a>：一个基于 <a href="https://github.com/Theano/Theano" target="_blank" rel="noopener">Theano</a> 的机器学习库。<a href="https://github.com/lisa-lab/pylearn2" target="_blank" rel="noopener">官网</a></li><li><a href="http://hao.jobbole.com/python-recsys/" target="_blank" rel="noopener">python-recsys</a>：一个用来实现推荐系统的 Python 库。<a href="https://github.com/ocelma/python-recsys" target="_blank" rel="noopener">官网</a></li><li><a href="https://github.com/pytorch/pytorch" target="_blank" rel="noopener">Pytorch</a>：一个具有张量和动态神经网络，并有强大 GPU 加速能力的深度学习框架。<a href="http://pytorch.org/" target="_blank" rel="noopener">官网</a></li><li>scikit-learn：基于 SciPy 构建的机器学习 Python 模块。<a href="http://scikit-learn.org/" target="_blank" rel="noopener">官网</a></li><li>skflow：一个 <a href="https://github.com/tensorflow/tensorflow" target="_blank" rel="noopener">TensorFlow</a> 的简化接口(模仿 scikit-learn)。<a href="https://github.com/tensorflow/skflow" target="_blank" rel="noopener">官网</a></li><li><a href="https://github.com/tensorflow/tensorflow" target="_blank" rel="noopener">TensorFlow</a>：谷歌开源的最受欢迎的深度学习框架。<a href="http://tensorflow.org/" target="_blank" rel="noopener">官网</a></li><li>Theano：一个快速数值计算库。<a href="https://github.com/Theano/Theano" target="_blank" rel="noopener">官网</a></li><li>vowpalporpoise：轻量级 <a href="https://github.com/JohnLangford/vowpalwabbit/" target="_blank" rel="noopener">Vowpal Wabbit</a> 的 Python 封装。<a href="https://github.com/josephreisinger/vowpalporpoise" target="_blank" rel="noopener">官网</a></li></ul><h3 id="MapReduce"><a href="#MapReduce" class="headerlink" title="MapReduce"></a>MapReduce</h3><p>MapReduce 框架和库。</p><ul><li><a href="http://hao.jobbole.com/dpark/" target="_blank" rel="noopener">dpark</a>：Spark 的 Python 克隆版，一个类似 MapReduce 的框架。<a href="https://github.com/douban/dpark" target="_blank" rel="noopener">官网</a></li><li>dumbo：这个 Python 模块可以让人轻松的编写和运行 Hadoop 程序。<a href="https://github.com/klbostee/dumbo" target="_blank" rel="noopener">官网</a></li><li>luigi：这个模块帮你构建批处理作业的复杂流水线。<a href="https://github.com/spotify/luigi" target="_blank" rel="noopener">官网</a></li><li>mrjob：在 Hadoop 或 Amazon Web Services 上运行 MapReduce 任务。<a href="https://github.com/Yelp/mrjob" target="_blank" rel="noopener">官网</a></li><li>PySpark：Spark 的 Python API 。<a href="http://spark.apache.org/docs/latest/programming-guide.html" target="_blank" rel="noopener">官网</a></li><li>streamparse：运行针对事实数据流的 Python 代码。集成了 <a href="http://storm.apache.org/" target="_blank" rel="noopener">Apache Storm</a>。<a href="https://github.com/Parsely/streamparse" target="_blank" rel="noopener">官网</a></li></ul><h3 id="函数式编程"><a href="#函数式编程" class="headerlink" title="函数式编程"></a>函数式编程</h3><p>使用 Python 进行函数式编程。</p><ul><li>CyToolz：Toolz 的 Cython 实现 : 高性能函数式工具。<a href="https://github.com/pytoolz/cytoolz/" target="_blank" rel="noopener">官网</a></li><li>fn.py：在 Python 中进行函数式编程 : 实现了一些享受函数式编程缺失的功能。<a href="https://github.com/kachayev/fn.py" target="_blank" rel="noopener">官网</a></li><li>funcy：炫酷又实用的函数式工具。<a href="https://github.com/Suor/funcy" target="_blank" rel="noopener">官网</a></li><li>Toolz：一组用于迭代器，函数和字典的函数式编程工具。<a href="https://github.com/pytoolz/toolz" target="_blank" rel="noopener">官网</a></li></ul><h3 id="第三方-API"><a href="#第三方-API" class="headerlink" title="第三方 API"></a>第三方 API</h3><p>用来访问第三方 API 的库。 参见： <a href="https://github.com/realpython/list-of-python-api-wrappers" target="_blank" rel="noopener">List of Python API Wrappers and Libraries</a>。</p><ul><li>apache-libcloud：一个为各种云设计的 Python 库。<a href="https://libcloud.apache.org/" target="_blank" rel="noopener">官网</a></li><li>boto：Amazon Web Services 的 Python 接口。<a href="https://github.com/boto/boto" target="_blank" rel="noopener">官网</a></li><li>django-wordpress：WordPress models and views for Django.<a href="https://github.com/sunlightlabs/django-wordpress/" target="_blank" rel="noopener">官网</a></li><li>facebook-sdk：Facebook 平台的 Python SDK.<a href="https://github.com/mobolic/facebook-sdk" target="_blank" rel="noopener">官网</a></li><li>facepy：Facepy 让和 Facebook’s Graph API 的交互变得更容易。<a href="https://github.com/jgorset/facepy" target="_blank" rel="noopener">官网</a></li><li>gmail：Gmail 的 Python 接口。<a href="https://github.com/charlierguo/gmail" target="_blank" rel="noopener">官网</a></li><li>google-api-python-client：Python 用的 Google APIs 客户端库。<a href="https://github.com/google/google-api-python-client" target="_blank" rel="noopener">官网</a></li><li>gspread：Google 电子表格的 Python API.<a href="https://github.com/burnash/gspread" target="_blank" rel="noopener">官网</a></li><li>twython：Twitter API 的封装。<a href="https://github.com/ryanmcgrath/twython" target="_blank" rel="noopener">官网</a></li></ul><h3 id="DevOps-工具"><a href="#DevOps-工具" class="headerlink" title="DevOps 工具"></a>DevOps 工具</h3><p>用于 DevOps 的软件和库。</p><ul><li>Ansible：一个非常简单的 IT 自动化平台。<a href="https://github.com/ansible/ansible" target="_blank" rel="noopener">官网</a></li><li>SaltStack：基础设施自动化和管理系统。<a href="https://github.com/saltstack/salt" target="_blank" rel="noopener">官网</a></li><li>OpenStack：用于构建私有和公有云的开源软件。<a href="http://www.openstack.org/" target="_blank" rel="noopener">官网</a></li><li>Docker Compose：快速，分离的开发环境，使用 Docker。<a href="https://docs.docker.com/compose/" target="_blank" rel="noopener">官网</a></li><li>Fabric：一个简单的，Python 风格的工具，用来进行远程执行和部署。<a href="http://www.fabfile.org/" target="_blank" rel="noopener">官网</a></li><li>cuisine：为 Fabric 提供一系列高级函数。<a href="https://github.com/sebastien/cuisine" target="_blank" rel="noopener">官网</a></li><li>Fabtools：一个用来编写超赞的 Fabric 文件的工具。<a href="https://github.com/ronnix/fabtools" target="_blank" rel="noopener">官网</a></li><li>gitapi：Git 的纯 Python API。<a href="https://bitbucket.org/haard/gitapi" target="_blank" rel="noopener">官网</a></li><li>hgapi：Mercurial 的纯 Python API。<a href="https://bitbucket.org/haard/hgapi" target="_blank" rel="noopener">官网</a></li><li>honcho：<a href="https://github.com/ddollar/foreman" target="_blank" rel="noopener">Foreman</a> 的 Python 克隆版，用来管理基于 <a href="https://devcenter.heroku.com/articles/procfile" target="_blank" rel="noopener">Procfile</a> 的应用。<a href="https://github.com/nickstenning/honcho" target="_blank" rel="noopener">官网</a></li><li>pexpect：Controlling interactive programs in a pseudo-terminal like 在一个伪终端中控制交互程序，就像 GNU expect 一样。<a href="https://github.com/pexpect/pexpect" target="_blank" rel="noopener">官网</a></li><li>psutil：一个跨平台进程和系统工具模块。<a href="https://github.com/giampaolo/psutil" target="_blank" rel="noopener">官网</a></li><li>supervisor：UNIX 的进程控制系统。<a href="https://github.com/Supervisor/supervisor" target="_blank" rel="noopener">官网</a></li></ul><h3 id="任务调度"><a href="#任务调度" class="headerlink" title="任务调度"></a>任务调度</h3><p>任务调度库。</p><ul><li>APScheduler：轻巧但强大的进程内任务调度，使你可以调度函数。<a href="http://apscheduler.readthedocs.org/en/latest/" target="_blank" rel="noopener">官网</a></li><li>django-schedule：一个 Django 排程应用。<a href="https://github.com/thauber/django-schedule" target="_blank" rel="noopener">官网</a></li><li>doit：一个任务执行和构建工具。<a href="http://pydoit.org/" target="_blank" rel="noopener">官网</a></li><li>gunnery：分布式系统使用的多用途任务执行工具 ，具有 web 交互界面。<a href="https://github.com/gunnery/gunnery" target="_blank" rel="noopener">官网</a></li><li>Joblib：一组为 Python 提供轻量级作业流水线的工具。<a href="http://pythonhosted.org/joblib/index.html" target="_blank" rel="noopener">官网</a></li><li>Plan：如有神助地编写 crontab 文件。<a href="https://github.com/fengsp/plan" target="_blank" rel="noopener">官网</a></li><li>schedule：人性化的 Python 任务调度库。<a href="https://github.com/dbader/schedule" target="_blank" rel="noopener">官网</a></li><li>Spiff：使用纯 Python 实现的强大的工作流引擎。<a href="https://github.com/knipknap/SpiffWorkflow" target="_blank" rel="noopener">官网</a></li><li>TaskFlow：一个可以让你方便执行任务的 Python 库，一致并且可靠。<a href="http://docs.openstack.org/developer/taskflow/" target="_blank" rel="noopener">官网</a></li><li>AirFlow：Airflow 是Airbnb公司开源的，是一个工作流分配管理系统，通过有向非循环图的方式管理任务流程，设置任务依赖关系和时间调度。<a href="https://airflow.incubator.apache.org/" target="_blank" rel="noopener">官方</a></li></ul><h3 id="外来函数接口"><a href="#外来函数接口" class="headerlink" title="外来函数接口"></a>外来函数接口</h3><p>使用外来函数接口的库。</p><ul><li>cffi：用来调用 C 代码的外来函数接口。<a href="https://pypi.python.org/pypi/cffi" target="_blank" rel="noopener">官网</a></li><li><a href="http://hao.jobbole.com/ctypes/" target="_blank" rel="noopener">ctypes</a>：(Python 标准库) 用来调用 C 代码的外来函数接口。<a href="https://docs.python.org/2/library/ctypes.html" target="_blank" rel="noopener">官网</a></li><li>PyCUDA：Nvidia CUDA API 的封装。<a href="https://mathema.tician.de/software/pycuda/" target="_blank" rel="noopener">官网</a></li><li>SWIG：简化的封装和接口生成器。<a href="http://www.swig.org/Doc1.3/Python.html" target="_blank" rel="noopener">官网</a></li></ul><h3 id="高性能"><a href="#高性能" class="headerlink" title="高性能"></a>高性能</h3><p>让 Python 更快的库。</p><ul><li>Cython：优化的 Python 静态编译器。使用类型混合使 Python 编译成 C 或 C++ 模块来获得性能的极大提升。<a href="http://cython.org/" target="_blank" rel="noopener">官网</a></li><li>PeachPy：嵌入 Python 的 x86-64 汇编器。可以被用作 Python 内联的汇编器或者是独立的汇编器，用于 Windows, Linux, OS X, Native Client 或者 Go 。<a href="https://github.com/Maratyszcza/PeachPy" target="_blank" rel="noopener">官网</a></li><li>PyPy：使用 Python 实现的 Python。解释器使用黑魔法加快 Python 运行速度且不需要加入额外的类型信息。<a href="http://pypy.org/" target="_blank" rel="noopener">官网</a></li><li><a href="http://hao.jobbole.com/pyston-llvm-jit/" target="_blank" rel="noopener">Pyston</a>：使用 LLVM 和现代 JIT 技术构建的 Python 实现，目标是为了获得很好的性能。<a href="https://github.com/dropbox/pyston" target="_blank" rel="noopener">官网</a></li><li>Stackless Python：一个强化版的 Python。<a href="https://bitbucket.org/stackless-dev/stackless/overview" target="_blank" rel="noopener">官网</a></li></ul><h3 id="微软的-Windows-平台"><a href="#微软的-Windows-平台" class="headerlink" title="微软的 Windows 平台"></a>微软的 Windows 平台</h3><p>在 Windows 平台上进行 Python 编程。</p><ul><li>Python(x,y)：面向科学应用的 Python 发行版，基于 Qt 和 Spyder。<a href="http://python-xy.github.io/" target="_blank" rel="noopener">官网</a></li><li>pythonlibs：非官方的 Windows 平台 Python 扩展二进制包。<a href="http://www.lfd.uci.edu/~gohlke/pythonlibs/" target="_blank" rel="noopener">官网</a></li><li>PythonNet：Python 与 .NET 公共语言运行库 (CLR)的集成。<a href="https://github.com/pythonnet/pythonnet" target="_blank" rel="noopener">官网</a></li><li>PyWin32：针对 Windows 的 Python 扩展。<a href="https://sourceforge.net/projects/pywin32/" target="_blank" rel="noopener">官网</a></li><li>WinPython：Windows 7/8 系统下便携式开发环境。<a href="https://winpython.github.io/" target="_blank" rel="noopener">官网</a></li></ul><h3 id="网络可视化和-SDN"><a href="#网络可视化和-SDN" class="headerlink" title="网络可视化和 SDN"></a>网络可视化和 SDN</h3><p>用来进行网络可视化和 SDN(软件定义网络)的工具和库。</p><ul><li>Mininet：一款流行的网络模拟器以及用 Python 编写的 API。<a href="http://mininet.org/" target="_blank" rel="noopener">官网</a></li><li>POX：一个针对基于 Python 的软件定义网络应用（例如 OpenFlow SDN 控制器）的开源开发平台。<a href="https://github.com/noxrepo/pox" target="_blank" rel="noopener">官网</a></li><li>Pyretic：火热的 SDN 编程语言中的一员，为网络交换机和模拟器提供强大的抽象能力。<a href="http://frenetic-lang.org/pyretic/" target="_blank" rel="noopener">官网</a></li><li>SDX Platform：基于 SDN 的 IXP 实现，影响了 Mininet, POX 和 Pyretic。<a href="https://github.com/sdn-ixp/internet2award" target="_blank" rel="noopener">官网</a></li><li>NRU：一个基于组件的软件定义网络框架。<a href="http://ryu.readthedocs.io/en/latest/" target="_blank" rel="noopener">官网</a></li></ul><h3 id="硬件"><a href="#硬件" class="headerlink" title="硬件"></a>硬件</h3><p>用来对硬件进行编程的库。</p><ul><li>ino：操作 <a href="https://www.arduino.cc/" target="_blank" rel="noopener">Arduino</a> 的命令行工具。<a href="http://inotool.org/" target="_blank" rel="noopener">官网</a> </li><li>Pyro：Python 机器人编程库。<a href="http://pyrorobotics.com/" target="_blank" rel="noopener">官网</a></li><li>PyUserInput：跨平台的，控制鼠标和键盘的模块。<a href="https://github.com/SavinaRoja/PyUserInput" target="_blank" rel="noopener">官网</a></li><li>scapy：一个非常棒的操作数据包的库。<a href="https://github.com/secdev/scapy" target="_blank" rel="noopener">官网</a></li><li>wifi：一个 Python 库和命令行工具用来在 Linux 平台上操作 WiFi。<a href="https://wifi.readthedocs.org/en/latest/" target="_blank" rel="noopener">官网</a></li><li>Pingo：Pingo 为类似 Raspberry Pi，pcDuino， Intel Galileo 等设备提供统一的 API 用以编程。<a href="http://www.pingo.io/" target="_blank" rel="noopener">官网</a></li></ul><h3 id="兼容性"><a href="#兼容性" class="headerlink" title="兼容性"></a>兼容性</h3><p>帮助从 Python 2 向 Python 3 迁移的库。</p><ul><li>Python-Future：这就是 Python 2 和 Python 3 之间丢失的那个兼容性层。<a href="http://python-future.org/index.html" target="_blank" rel="noopener">官网</a></li><li>Python-Modernize：使 Python 代码更加现代化以便最终迁移到 Python 3。<a href="https://github.com/mitsuhiko/python-modernize" target="_blank" rel="noopener">官网</a></li><li>Six：Python 2 和 3 的兼容性工具。<a href="https://pypi.python.org/pypi/six" target="_blank" rel="noopener">官网</a></li></ul><h3 id="杂项"><a href="#杂项" class="headerlink" title="杂项"></a>杂项</h3><p>不属于上面任何一个类别，但是非常有用的库。</p><ul><li>blinker：一个快速的 Python 进程内信号/事件分发系统。<a href="https://github.com/jek/blinker" target="_blank" rel="noopener">官网</a></li><li>itsdangerous：一系列辅助工具用来将可信的数据传入不可信的环境。<a href="https://github.com/pallets/itsdangerous" target="_blank" rel="noopener">官网</a></li><li>pluginbase：一个简单但是非常灵活的 Python 插件系统。<a href="https://github.com/mitsuhiko/pluginbase" target="_blank" rel="noopener">官网</a></li><li>Pychievements：一个用来创建和追踪成就的 Python 框架。<a href="https://github.com/PacketPerception/pychievements" target="_blank" rel="noopener">官网</a></li><li><a href="http://hao.jobbole.com/tryton/" target="_blank" rel="noopener">Tryton</a>：一个通用商务框架。<a href="http://www.tryton.org/" target="_blank" rel="noopener">官网</a></li></ul><h3 id="算法和设计模式"><a href="#算法和设计模式" class="headerlink" title="算法和设计模式"></a>算法和设计模式</h3><p>Python 实现的算法和设计模式。</p><ul><li><a href="http://hao.jobbole.com/algorithms/" target="_blank" rel="noopener">algorithms</a>：一个 Python 算法模块。<a href="https://github.com/nryoung/algorithms" target="_blank" rel="noopener">官网</a> </li><li>python-patterns：Python 设计模式的集合。<a href="https://github.com/faif/python-patterns" target="_blank" rel="noopener">官网</a></li><li>sortedcontainers：快速，纯 Python 实现的 SortedList，SortedDict 和 SortedSet 类型。<a href="http://www.grantjenks.com/docs/sortedcontainers/" target="_blank" rel="noopener">官网</a></li></ul><h3 id="编辑器插件"><a href="#编辑器插件" class="headerlink" title="编辑器插件"></a>编辑器插件</h3><p>编辑器和 IDE 的插件</p><ul><li>Emacs<ul><li>Elpy：Emacs Python 开发环境。<a href="https://github.com/jorgenschaefer/elpy" target="_blank" rel="noopener">官网</a></li></ul></li><li>Sublime Text<ul><li>SublimeJEDI：一个 Sublime Text 插件，用来使用超赞的自动补全库 Jedi。<a href="https://github.com/srusskih/SublimeJEDI" target="_blank" rel="noopener">官网</a></li><li>Anaconda：Anaconda 把你的 Sublime Text 3 变成一个功能齐全的 Python IDE。<a href="https://github.com/DamnWidget/anaconda" target="_blank" rel="noopener">官网</a></li></ul></li><li>Vim<ul><li><a href="http://hao.jobbole.com/youcompleteme/" target="_blank" rel="noopener">YouCompleteMe</a>：引入基于 <a href="https://github.com/davidhalter/jedi" target="_blank" rel="noopener">Jedi</a> 的 Python 自动补全引擎。<a href="https://github.com/Valloric/YouCompleteMe" target="_blank" rel="noopener">官网</a></li><li>Jedi-vim：绑定 Vim 和 Jedi 自动补全库对 Python 进行自动补全。<a href="https://github.com/davidhalter/jedi-vim" target="_blank" rel="noopener">官网</a></li><li>Python-mode：将 Vim 变成 Python IDE 的一款多合一插件。<a href="https://github.com/klen/python-mode" target="_blank" rel="noopener">官网</a></li></ul></li><li>Visual Studio<ul><li>PTVS：Visual Studio 的 Python 工具。<a href="https://github.com/Microsoft/PTVS" target="_blank" rel="noopener">官网</a></li></ul></li></ul><h3 id="集成开发环境"><a href="#集成开发环境" class="headerlink" title="集成开发环境"></a>集成开发环境</h3><p>流行的 Python 集成开发环境。</p><ul><li>PyCharm：商业化的 Python IDE ，由 JetBrains 开发。也有免费的社区版提供。<a href="https://www.jetbrains.com/pycharm/" target="_blank" rel="noopener">官网</a></li><li>LiClipse：基于 Eclipse 的免费多语言 IDE 。使用 PyDev 来支持 Python 。<a href="http://www.liclipse.com/" target="_blank" rel="noopener">官网</a></li><li>Spyder：开源 Python IDE。<a href="https://github.com/spyder-ide/spyder" target="_blank" rel="noopener">官网</a></li></ul><h3 id="自动聊天工具"><a href="#自动聊天工具" class="headerlink" title="自动聊天工具"></a>自动聊天工具</h3><p>用于开发聊天机器人的库</p><ul><li>Errbot：最简单和最流行的聊天机器人用来实现自动聊天工具。<a href="http://errbot.io/en/latest/" target="_blank" rel="noopener">官网</a></li></ul><h2 id="服务"><a href="#服务" class="headerlink" title="服务"></a>服务</h2><p>在线工具和简化开发的 API 。</p><h3 id="金融数据"><a href="#金融数据" class="headerlink" title="金融数据"></a>金融数据</h3><ul><li>Tushare ：一个可以提供免费股票、基金、期货、港股等金融数据的 Python 开源数据。<a href="http://tushare.org" target="_blank" rel="noopener">官网</a></li><li>Ta-Lib ：金融数据技术分析库，可以依据原始金融数据计算各种技术指标,计算性能比较优异。<a href="https://www.ta-lib.org/" target="_blank" rel="noopener">官网</a></li></ul><h3 id="持续集成"><a href="#持续集成" class="headerlink" title="持续集成"></a>持续集成</h3><p>参见: <a href="https://github.com/ciandcd/awesome-ciandcd#online-build-system" target="_blank" rel="noopener">awesome-CIandCD</a>.</p><ul><li>Travis CI：一个流行的工具，为你的开源和 <a href="https://travis-ci.com/" target="_blank" rel="noopener">私人</a> 项目提供持续集成服务。(仅支持 GitHub)<a href="https://travis-ci.org/" target="_blank" rel="noopener">官网</a></li><li>CircleCI：一个持续集成工具，可以非常快速的进行并行测试。 (仅支持 GitHub)<a href="https://circleci.com/" target="_blank" rel="noopener">官网</a></li><li>Vexor CI：一个为私人 app 提供持续集成的工具，支持按分钟付费。<a href="https://vexor.io/" target="_blank" rel="noopener">官网</a></li><li>Wercker：基于 Docker 平台，用来构建和部署微服务。<a href="http://wercker.com/" target="_blank" rel="noopener">官网</a></li></ul><h3 id="代码质量"><a href="#代码质量" class="headerlink" title="代码质量"></a>代码质量</h3><ul><li>Codacy：自动化代码审查，更加快速的发布高质量代码。对于开源项目是免费的。<a href="https://www.codacy.com/" target="_blank" rel="noopener">官网</a></li><li>QuantifiedCode：一个数据驱动、自动、持续的代码审查工具。<a href="https://www.quantifiedcode.com/" target="_blank" rel="noopener">官网</a></li></ul><h2 id="资源"><a href="#资源" class="headerlink" title="资源"></a>资源</h2><p>在这里可以找到新的 Python 库。</p><h3 id="网站"><a href="#网站" class="headerlink" title="网站"></a>网站</h3><ul><li><a href="https://www.reddit.com/r/python" target="_blank" rel="noopener">r/Python</a></li><li><a href="https://www.coolgithubprojects.com/" target="_blank" rel="noopener">CoolGithubProjects</a></li><li><a href="https://www.djangopackages.com/" target="_blank" rel="noopener">Django Packages</a></li><li><a href="http://www.fullstackpython.com/" target="_blank" rel="noopener">Full Stack Python</a></li><li><a href="http://python3wos.appspot.com/" target="_blank" rel="noopener">Python 3 Wall of Superpowers</a></li><li><a href="http://pythonhackers.com/open-source/" target="_blank" rel="noopener">Python Hackers</a></li><li><a href="https://python.zeef.com/alan.richmond" target="_blank" rel="noopener">Python ZEEF</a></li><li><a href="https://github.com/trending?l=python" target="_blank" rel="noopener">Trending Python repositories on GitHub today</a></li><li><a href="http://pypi-ranking.info/alltime" target="_blank" rel="noopener">PyPI Ranking</a></li></ul><h3 id="周刊"><a href="#周刊" class="headerlink" title="周刊"></a>周刊</h3><ul><li><a href="http://importpython.com/newsletter/" target="_blank" rel="noopener">Import Python Newsletter</a></li><li><a href="http://pycoders.com/" target="_blank" rel="noopener">Pycoder’s Weekly</a></li><li><a href="http://www.pythonweekly.com/" target="_blank" rel="noopener">Python Weekly</a></li></ul><h3 id="Twitter"><a href="#Twitter" class="headerlink" title="Twitter"></a>Twitter</h3><ul><li><a href="https://twitter.com/codetengu" target="_blank" rel="noopener">@codetengu</a></li><li><a href="https://twitter.com/getpy" target="_blank" rel="noopener">@getpy</a></li><li><a href="https://twitter.com/planetpython" target="_blank" rel="noopener">@planetpython</a></li><li><a href="https://twitter.com/pycoders" target="_blank" rel="noopener">@pycoders</a></li><li><a href="https://twitter.com/pypi" target="_blank" rel="noopener">@pypi</a></li><li><a href="https://twitter.com/pythontrending" target="_blank" rel="noopener">@pythontrending</a></li><li><a href="https://twitter.com/PythonWeekly" target="_blank" rel="noopener">@PythonWeekly</a></li></ul><h3 id="学习指南"><a href="#学习指南" class="headerlink" title="学习指南"></a>学习指南</h3><ul><li><a href="http://hao.jobbole.com/scipy-lecture-notes/" target="_blank" rel="noopener">Scipy-lecture-notes</a>：如何用 Python 来做学术？<a href="https://github.com/scipy-lectures/scipy-lecture-notes" target="_blank" rel="noopener">官网</a></li><li><a href="http://hao.jobbole.com/scientific-python-lectures/" target="_blank" rel="noopener">SScientific-python-lectures</a>：Python 科学计算的资料。<a href="https://github.com/jrjohansson/scientific-python-lectures" target="_blank" rel="noopener">官网</a></li><li><a href="http://hao.jobbole.com/mario-level-1/" target="_blank" rel="noopener">Mario-Level-1</a>：用 Python 和 Pygame 写的超级马里奥第一关。<a href="https://github.com/justinmeister/Mario-Level-1" target="_blank" rel="noopener">官网</a></li><li><a href="http://hao.jobbole.com/python-koans/" target="_blank" rel="noopener">Python Koans</a>：Python 的交互式学习工具。<a href="https://github.com/gregmalcolm/python_koans" target="_blank" rel="noopener">官网</a></li><li><a href="http://hao.jobbole.com/minecraft-python/" target="_blank" rel="noopener">Minecraft</a>：用 python 写的 Minecraft 游戏。<a href="https://github.com/fogleman/Minecraft" target="_blank" rel="noopener">官网</a></li><li><a href="http://hao.jobbole.com/python-pycrumbs/" target="_blank" rel="noopener">pycrumbs</a>：Python 资源大全。<a href="https://github.com/kirang89/pycrumbs/blob/master/pycrumbs.md" target="_blank" rel="noopener">官网</a></li><li><a href="http://hao.jobbole.com/python-patterns/" target="_blank" rel="noopener">python-patterns</a>：使用 python 实现设计模式。<a href="https://github.com/faif/python-patterns" target="_blank" rel="noopener">官网</a></li><li><a href="http://hao.jobbole.com/python-projects/" target="_blank" rel="noopener">Projects</a>：Python 项目大集合。<a href="https://github.com/karan/Projects" target="_blank" rel="noopener">官网</a></li><li><a href="http://hao.jobbole.com/the-hitchhikers-guide-to-python/" target="_blank" rel="noopener">The Hitchhiker’s Guide to Python</a>：旅行者的 Python 学习指南。<a href="http://docs.python-guide.org/en/latest/" target="_blank" rel="noopener">官网</a></li><li><a href="http://top.jobbole.com/18767/" target="_blank" rel="noopener">Code Like a Pythonista: Idiomatic Python</a>：如何像 Python 高手(Pythonista)一样编程。<a href="http://python.net/~goodger/projects/pycon/2007/idiomatic/handout.html" target="_blank" rel="noopener">官网</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Python-资源大全中文版&quot;&gt;&lt;a href=&quot;#Python-资源大全中文版&quot; class=&quot;headerlink&quot; title=&quot;Python 资源大全中文版&quot;&gt;&lt;/a&gt;Python 资源大全中文版&lt;/h1&gt;&lt;h2 id=&quot;关于项目&quot;&gt;&lt;a href=&quot;#关
      
    
    </summary>
    
      <category term="资源" scheme="http://yoursite.com/categories/%E8%B5%84%E6%BA%90/"/>
    
    
  </entry>
  
  <entry>
    <title>Python3.x标准模块库目录</title>
    <link href="http://yoursite.com/2018/11/23/Python3-x%E6%A0%87%E5%87%86%E6%A8%A1%E5%9D%97%E5%BA%93%E7%9B%AE%E5%BD%95/"/>
    <id>http://yoursite.com/2018/11/23/Python3-x标准模块库目录/</id>
    <published>2018-11-23T07:28:16.000Z</published>
    <updated>2018-11-23T07:33:17.157Z</updated>
    
    <content type="html"><![CDATA[<p>Python3.x标准模块库目录</p><h1 id="文本"><a href="#文本" class="headerlink" title="文本"></a>文本</h1><pre><code>1. string：通用字符串操作2. re：正则表达式操作3. difflib：差异计算工具4. textwrap：文本填充5. unicodedata：Unicode字符数据库6. stringprep：互联网字符串准备工具7. readline：GNU按行读取接口8. rlcompleter：GNU按行读取的实现函数</code></pre><h1 id="二进制数据"><a href="#二进制数据" class="headerlink" title="二进制数据"></a>二进制数据</h1><pre><code>9. struct：将字节解析为打包的二进制数据10. codecs：注册表与基类的编解码器</code></pre><h1 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h1><pre><code>11. datetime：基于日期与时间工具12. calendar：通用月份函数13. collections：容器数据类型14. collections.abc：容器虚基类15. heapq：堆队列算法16. bisect：数组二分算法17. array：高效数值数组18. weakref：弱引用19. types：内置类型的动态创建与命名20. copy：浅拷贝与深拷贝21. pprint：格式化输出22. reprlib：交替repr()的实现</code></pre><h1 id="数学"><a href="#数学" class="headerlink" title="数学"></a>数学</h1><pre><code>23. numbers：数值的虚基类24. math：数学函数25. cmath：复数的数学函数26. decimal：定点数与浮点数计算27. fractions：有理数28. random：生成伪随机数</code></pre><h1 id="函数式编程"><a href="#函数式编程" class="headerlink" title="函数式编程"></a>函数式编程</h1><pre><code>29. itertools：为高效循环生成迭代器30. functools：可调用对象上的高阶函数与操作31. operator：针对函数的标准操作</code></pre><h1 id="文件与目录"><a href="#文件与目录" class="headerlink" title="文件与目录"></a>文件与目录</h1><pre><code>32. os.path：通用路径名控制33. fileinput：从多输入流中遍历行34. stat：解释stat()的结果35. filecmp：文件与目录的比较函数36. tempfile：生成临时文件与目录37. glob：Unix风格路径名格式的扩展38. fnmatch：Unix风格路径名格式的比对39. linecache：文本行的随机存储40. shutil：高级文件操作41. macpath：Mac OS 9路径控制函数</code></pre><h1 id="持久化"><a href="#持久化" class="headerlink" title="持久化"></a>持久化</h1><pre><code>42. pickle：Python对象序列化43. copyreg：注册机对pickle的支持函数44. shelve：Python对象持久化45. marshal：内部Python对象序列化46. dbm：Unix“数据库”接口47. sqlite3：针对SQLite数据库的API 2.0</code></pre><h1 id="压缩"><a href="#压缩" class="headerlink" title="压缩"></a>压缩</h1><pre><code>48. zlib：兼容gzip的压缩49. gzip：对gzip文件的支持50. bz2：对bzip2压缩的支持51. lzma：使用LZMA算法的压缩52. zipfile：操作ZIP存档53. tarfile：读写tar存档文件# 文件格式化54. csv：读写CSV文件55. configparser：配置文件解析器56. netrc：netrc文件处理器57. xdrlib：XDR数据编码与解码58. plistlib：生成和解析Mac OS X .plist文件</code></pre><h1 id="加密"><a href="#加密" class="headerlink" title="加密"></a>加密</h1><pre><code>59. hashlib：安全散列与消息摘要60. hmac：针对消息认证的键散列</code></pre><h1 id="操作系统工具"><a href="#操作系统工具" class="headerlink" title="操作系统工具"></a>操作系统工具</h1><pre><code>61. os：多方面的操作系统接口62. io：流核心工具63. time：时间的查询与转化64. argparser：命令行选项、参数和子命令的解析器65. optparser：命令行选项解析器66. getopt：C风格的命令行选项解析器67. logging：Python日志工具68. logging.config：日志配置69. logging.handlers：日志处理器70. getpass：简易密码输入71. curses：字符显示的终端处理72. curses.textpad：curses程序的文本输入域73. curses.ascii：ASCII字符集工具74. curses.panel：curses的控件栈扩展75. platform：访问底层平台认证数据76. errno：标准错误记号77. ctypes：Python外部函数库</code></pre><h1 id="并发"><a href="#并发" class="headerlink" title="并发"></a>并发</h1><pre><code>78. threading：基于线程的并行79. multiprocessing：基于进程的并行80. concurrent：并发包81. concurrent.futures：启动并行任务82. subprocess：子进程管理83. sched：事件调度84. queue：同步队列85. select：等待I/O完成86. dummy_threading：threading模块的替代（当_thread不可用时）87. _thread：底层的线程API（threading基于其上）88. _dummy_thread：_thread模块的替代（当_thread不可用时）</code></pre><h1 id="进程间通信"><a href="#进程间通信" class="headerlink" title="进程间通信"></a>进程间通信</h1><pre><code>89. socket：底层网络接口90. ssl：socket对象的TLS/SSL填充器91. asyncore：异步套接字处理器92. asynchat：异步套接字命令/响应处理器93. signal：异步事务信号处理器94. mmap：内存映射文件支持</code></pre><h1 id="互联网"><a href="#互联网" class="headerlink" title="互联网"></a>互联网</h1><pre><code>95. email：邮件与MIME处理包96. json：JSON编码与解码97. mailcap：mailcap文件处理98. mailbox：多种格式控制邮箱99. mimetypes：文件名与MIME类型映射100. base64：RFC 3548：Base16、Base32、Base64编码101. binhex：binhex4文件编码与解码102. binascii：二进制码与ASCII码间的转化103. quopri：MIME quoted-printable数据的编码与解码104. uu：uuencode文件的编码与解码</code></pre><p>#　HTML与XML</p><pre><code>105. html：HTML支持106. html.parser：简单HTML与XHTML解析器107. html.entities：HTML通用实体的定义108. xml：XML处理模块109. xml.etree.ElementTree：树形XML元素API110. xml.dom：XML DOM API111. xml.dom.minidom：XML DOM最小生成树112. xml.dom.pulldom：构建部分DOM树的支持113. xml.sax：SAX2解析的支持114. xml.sax.handler：SAX处理器基类115. xml.sax.saxutils：SAX工具116. xml.sax.xmlreader：SAX解析器接口117. xml.parsers.expat：运用Expat快速解析XML</code></pre><h1 id="互联网协议与支持"><a href="#互联网协议与支持" class="headerlink" title="互联网协议与支持"></a>互联网协议与支持</h1><pre><code>118. webbrowser：简易Web浏览器控制器119. cgi：CGI支持120. cgitb：CGI脚本反向追踪管理器121. wsgiref：WSGI工具与引用实现122. urllib：URL处理模块123. urllib.request：打开URL连接的扩展库124. urllib.response：urllib模块的响应类125. urllib.parse：将URL解析成组件126. urllib.error：urllib.request引发的异常类127. urllib.robotparser：robots.txt的解析器128. http：HTTP模块129. http.client：HTTP协议客户端130. ftplib：FTP协议客户端131. poplib：POP协议客户端132. imaplib：IMAP4协议客户端133. nntplib：NNTP协议客户端134. smtplib：SMTP协议客户端135. smtpd：SMTP服务器136. telnetlib：Telnet客户端137. uuid：RFC4122的UUID对象138. socketserver：网络服务器框架139. http.server：HTTP服务器140. http.cookies：HTTPCookie状态管理器141. http.cookiejar：HTTP客户端的Cookie处理142. xmlrpc：XML-RPC服务器和客户端模块143. xmlrpc.client：XML-RPC客户端访问144. xmlrpc.server：XML-RPC服务器基础145. ipaddress：IPv4/IPv6控制库</code></pre><h1 id="多媒体"><a href="#多媒体" class="headerlink" title="多媒体"></a>多媒体</h1><pre><code>146. audioop：处理原始音频数据147. aifc：读写AIFF和AIFC文件148. sunau：读写Sun AU文件149. wave：读写WAV文件150. chunk：读取IFF大文件151. colorsys：颜色系统间转化152. imghdr：指定图像类型153. sndhdr：指定声音文件类型154. ossaudiodev：访问兼容OSS的音频设备</code></pre><h1 id="国际化"><a href="#国际化" class="headerlink" title="国际化"></a>国际化</h1><pre><code>155. gettext：多语言的国际化服务156. locale：国际化服务</code></pre><h1 id="编程框架"><a href="#编程框架" class="headerlink" title="编程框架"></a>编程框架</h1><pre><code>157. turtle：Turtle图形库158. cmd：基于行的命令解释器支持159. shlex：简单词典分析</code></pre><h1 id="Tk图形用户接口"><a href="#Tk图形用户接口" class="headerlink" title="Tk图形用户接口"></a>Tk图形用户接口</h1><pre><code>160. tkinter：Tcl/Tk接口161. tkinter.ttk：Tk主题控件162. tkinter.tix：Tk扩展控件163. tkinter.scrolledtext：滚轴文本控件</code></pre><h1 id="开发工具"><a href="#开发工具" class="headerlink" title="开发工具"></a>开发工具</h1><pre><code>164. pydoc：文档生成器和在线帮助系统165. doctest：交互式Python示例166. unittest：单元测试框架167. unittest.mock：模拟对象库168. test：Python回归测试包169. test.support：Python测试工具套件170. venv：虚拟环境搭建</code></pre><h1 id="调试"><a href="#调试" class="headerlink" title="调试"></a>调试</h1><pre><code>171. bdb：调试框架172. faulthandler：Python反向追踪库173. pdb：Python调试器174. timeit：小段代码执行时间测算175. trace：Python执行状态追踪</code></pre><h1 id="运行时"><a href="#运行时" class="headerlink" title="运行时"></a>运行时</h1><pre><code>176. sys：系统相关的参数与函数177. sysconfig：访问Python配置信息178. builtins：内置对象179. __main__：顶层脚本环境180. warnings：警告控制181. contextlib：with状态的上下文工具182. abc：虚基类183. atexit：出口处理器184. traceback：打印或读取一条栈的反向追踪185. __future__：未来状态定义186. gc：垃圾回收接口187. inspect：检查存活的对象188. site：址相关的配置钩子（hook）189. fpectl：浮点数异常控制190. distutils：生成和安装Python模块</code></pre><h1 id="解释器"><a href="#解释器" class="headerlink" title="解释器"></a>解释器</h1><pre><code>191. code：基类解释器192. codeop：编译Python代码</code></pre><h1 id="导入模块"><a href="#导入模块" class="headerlink" title="导入模块"></a>导入模块</h1><pre><code>193. imp：访问import模块的内部194. zipimport：从ZIP归档中导入模块195. pkgutil：包扩展工具196. modulefinder：通过脚本查找模块197. runpy：定位并执行Python模块198. importlib：import的一种实施</code></pre><h1 id="Python语言"><a href="#Python语言" class="headerlink" title="Python语言"></a>Python语言</h1><pre><code>199. parser：访问Python解析树200. ast：抽象句法树201. symtable：访问编译器符号表202. symbol：Python解析树中的常量203. token：Python解析树中的常量204. keyword：Python关键字测试205. tokenize：Python源文件分词206. tabnany：模糊缩进检测207. pyclbr：Python类浏览支持208. py_compile：编译Python源文件209. compileall：按字节编译Python库210. dis：Python字节码的反汇编器211. pickletools：序列化开发工具</code></pre><h1 id="其它"><a href="#其它" class="headerlink" title="其它"></a>其它</h1><pre><code>212. formatter：通用格式化输出</code></pre><h1 id="Windows相关"><a href="#Windows相关" class="headerlink" title="Windows相关"></a>Windows相关</h1><pre><code>213. msilib：读写Windows Installer文件214. msvcrt：MS VC++ Runtime的有用程序215. winreg：Windows注册表访问216. winsound：Windows声音播放接口</code></pre><h1 id="Unix相关"><a href="#Unix相关" class="headerlink" title="Unix相关"></a>Unix相关</h1><pre><code>217. posix：最常用的POSIX调用218. pwd：密码数据库219. spwd：影子密码数据库220. grp：组数据库221. crypt：Unix密码验证222. termios：POSIX风格的tty控制223. tty：终端控制函数224. pty：伪终端工具225. fcntl：系统调用fcntl()和ioctl()226. pipes：shell管道接口227. resource：资源可用信息228. nis：Sun的NIS的接口229. syslog：Unix syslog程序库</code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Python3.x标准模块库目录&lt;/p&gt;
&lt;h1 id=&quot;文本&quot;&gt;&lt;a href=&quot;#文本&quot; class=&quot;headerlink&quot; title=&quot;文本&quot;&gt;&lt;/a&gt;文本&lt;/h1&gt;&lt;pre&gt;&lt;code&gt;1. string：通用字符串操作

2. re：正则表达式操作

3. d
      
    
    </summary>
    
      <category term="python模块" scheme="http://yoursite.com/categories/python%E6%A8%A1%E5%9D%97/"/>
    
    
  </entry>
  
  <entry>
    <title>Django之用户认证-auth模块</title>
    <link href="http://yoursite.com/2018/11/16/Django%E4%B9%8B%E7%94%A8%E6%88%B7%E8%AE%A4%E8%AF%81-auth%E6%A8%A1%E5%9D%97/"/>
    <id>http://yoursite.com/2018/11/16/Django之用户认证-auth模块/</id>
    <published>2018-11-16T10:05:56.000Z</published>
    <updated>2018-11-18T12:31:59.524Z</updated>
    
    <content type="html"><![CDATA[<h1 id="用户认知———auth模块"><a href="#用户认知———auth模块" class="headerlink" title="用户认知———auth模块"></a>用户认知———auth模块</h1><blockquote><h3 id="一、auth模块"><a href="#一、auth模块" class="headerlink" title="一、auth模块"></a>一、auth模块</h3></blockquote><blockquote><p>from django.contrib import auth</p></blockquote><blockquote><h6 id="1、authenticate-：验证用户输入的用户名和密码是否相同"><a href="#1、authenticate-：验证用户输入的用户名和密码是否相同" class="headerlink" title="1、authenticate()：验证用户输入的用户名和密码是否相同"></a>1、authenticate()：验证用户输入的用户名和密码是否相同</h6><ul><li><p>提供了用户认证，即<strong>验证用户名以及密码是否正确</strong>,一般需要usernamepassword两个关键字参数</p></li><li><p>如果认证信息有效，会返回一个User对象。authenticate()会在User对象上设置一个属性标识，那</p><p>种认证，后端认证了该用户，且信息在后面的登录过程中是需要的。当我们试图登录一个从数据库</p><p>中直接取出来不经过authenticate()的User对象会报错的！！！</p></li></ul><h6 id="2、login-HttpRequest-user-登录"><a href="#2、login-HttpRequest-user-登录" class="headerlink" title="2、login(HttpRequest,user):登录"></a>2、login(HttpRequest,user):登录</h6><ul><li><p>该函数接受一个HttpRequest对象，以及一个认证的User对象</p></li><li><p>此函数使用django的session框架给每个已认证的用户附加上session id等信息。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&gt;  <span class="keyword">from</span> django.contrib.auth <span class="keyword">import</span> authenticate, login</span><br><span class="line">&gt;     </span><br><span class="line">&gt;  <span class="function"><span class="keyword">def</span> <span class="title">my_view</span><span class="params">(request)</span>:</span></span><br><span class="line">&gt;    username = request.POST[<span class="string">'username'</span>]</span><br><span class="line">&gt;    password = request.POST[<span class="string">'password'</span>]</span><br><span class="line">&gt;    user = authenticate(username=username, password=password)</span><br><span class="line">&gt;    <span class="keyword">if</span> user:</span><br><span class="line">&gt;      login(request, user)</span><br><span class="line">&gt;      <span class="comment"># Redirect to a success page.</span></span><br><span class="line">&gt;      ...</span><br><span class="line">&gt;    <span class="keyword">else</span>:</span><br><span class="line">&gt;      <span class="comment"># Return an 'invalid login' error message.</span></span><br><span class="line">&gt;      ...</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></li></ul></blockquote><blockquote><h6 id="3、logout-request-注销用户"><a href="#3、logout-request-注销用户" class="headerlink" title="3、logout(request):注销用户"></a>3、logout(request):注销用户</h6><ul><li><p>该函数接受一个HttpRequest对象，无返回值，当调用该函数是时，当请求的session信息会全部</p><p>清除。该用户即使没有登录，使用该函数也不会登录。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;  <span class="keyword">from</span> django.contrib.auth <span class="keyword">import</span> logout</span><br><span class="line">&gt;     </span><br><span class="line">&gt;  <span class="function"><span class="keyword">def</span> <span class="title">logout_view</span><span class="params">(request)</span>:</span></span><br><span class="line">&gt;    logout(request)</span><br><span class="line">&gt;    <span class="comment"># Redirect to a success page.</span></span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></li></ul></blockquote><blockquote><h6 id="4、user对象的is-authenticated"><a href="#4、user对象的is-authenticated" class="headerlink" title="4、user对象的is_authenticated()"></a>4、user对象的is_authenticated()</h6><ul><li><p>要求</p><ul><li>用户登录后才能访问某些页面</li><li>如果用户没有登录就访问该页面的话直接跳转登录页面</li><li>用户在跳转的登录界面中完成登录后，自动访问跳转到之前访问的地址</li></ul></li><li><p>方法一</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;  <span class="function"><span class="keyword">def</span> <span class="title">my_view</span><span class="params">(request)</span>:</span></span><br><span class="line">&gt;    <span class="keyword">if</span> <span class="keyword">not</span> request.user.is_authenticated():</span><br><span class="line">&gt;      <span class="keyword">return</span> redirect(<span class="string">'%s?next=%s'</span> % (settings.LOGIN_URL, request.path))</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></li></ul></blockquote><blockquote><ul><li><p>方法二：django已经为我们设计好了一个用于次情况的装饰器：login_request()</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;  <span class="keyword">from</span> django.contrib.auth.decorators <span class="keyword">import</span> login_required</span><br><span class="line">&gt;        </span><br><span class="line">&gt;  @login_required</span><br><span class="line">&gt;  <span class="function"><span class="keyword">def</span> <span class="title">my_view</span><span class="params">(request)</span>:</span></span><br><span class="line">&gt;    ...</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></li></ul></blockquote><blockquote><p> 若用户没有登录，则会跳转到django默认的登录URL’/account/login’(这个值可以在settings文件中</p><p> 通过LOGIN_URL进行修改）。并传递当前访问url的绝对路径（登录成功后，会重定向该路径）</p></blockquote><blockquote><h3 id="二、User对象"><a href="#二、User对象" class="headerlink" title="二、User对象"></a>二、User对象</h3></blockquote><blockquote><ul><li><p>User对象属性：</p><ul><li>username</li><li>password（必填项）password用哈希算法保存到数据库</li><li>is_staff：用户是否拥有网站的管理权限</li><li>is_active：是否允许用户登录，设置为‘False’，可以不用删除用户来禁止用户登录</li></ul></li><li><p>is_authenticated()</p><ul><li><p>如果是真正的User对象，返回值恒为True。用于检测用户是否已经通过认证。</p></li><li><p>通过认证并不意味着用户拥有任何权限，甚至也不检查该用户是否处于激活状态，这只是表明</p><p>用户成功通过了认证。</p><ul><li>这个方法很重要，在后台使用</li><li>request.user.is_authenticated()判断用户是否已经登录，如果True则可以向前台展示</li><li>-request.user.name</li></ul></li></ul></li><li><p>创建用户<strong>create_user</strong> </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;  <span class="keyword">from</span> django.contrib.auth.models <span class="keyword">import</span> User</span><br><span class="line">&gt;  user = User.objects.create_user（username=<span class="string">''</span>,password=<span class="string">''</span>,email=<span class="string">''</span>）</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></li></ul></blockquote><blockquote><ul><li><p>check_passw(passwd):密码检测</p><p>用户需要修改密码的时候 首先要让他输入原来的密码 ，如果给定的字符串通过了密码检查，返回 </p><p>True</p></li><li><p>修改密码：set_password()</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;  user = User.objects.get(username=<span class="string">''</span>)</span><br><span class="line">&gt;  user.set_password(password=<span class="string">''</span>)</span><br><span class="line">&gt;  user.save　</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></li></ul></blockquote><blockquote></blockquote><h3 id="三、简单实例"><a href="#三、简单实例" class="headerlink" title="三、简单实例"></a>三、简单实例</h3><blockquote><p>登录：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="function"><span class="keyword">def</span> <span class="title">log_in</span><span class="params">(request)</span>:</span></span><br><span class="line">&gt;    print(request.POST)</span><br><span class="line">&gt;    <span class="keyword">if</span> request.method ==<span class="string">"POST"</span>:</span><br><span class="line">&gt;        username = request.POST.get(<span class="string">"username"</span>)</span><br><span class="line">&gt;        password = request.POST.get(<span class="string">"password"</span>)</span><br><span class="line">&gt;        print(username,password)</span><br><span class="line">&gt;        user=auth.authenticate(username=username,password=password)<span class="comment">#验证用户名和密码</span></span><br><span class="line">&gt;        <span class="keyword">if</span> user:</span><br><span class="line">&gt;            <span class="comment">#如果认证成功，就让登录，这个login里面包括了session操作和cookie</span></span><br><span class="line">&gt;            auth.login(request,user)</span><br><span class="line">&gt;            <span class="keyword">return</span> redirect(<span class="string">"/chakan/"</span>)</span><br><span class="line">&gt;        <span class="keyword">else</span>:</span><br><span class="line">&gt;            s = <span class="string">"用户名和密码输入错误"</span></span><br><span class="line">&gt;            <span class="keyword">return</span> render(request,<span class="string">"login.html"</span>,&#123;<span class="string">"s"</span>:s&#125;)</span><br><span class="line">&gt;    <span class="keyword">return</span> render(request,<span class="string">"login.html"</span>)</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></blockquote><blockquote><p>修改密码：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="function"><span class="keyword">def</span> <span class="title">set_pwd</span><span class="params">(request)</span>:</span></span><br><span class="line">&gt;    <span class="keyword">if</span> request.method==<span class="string">"POST"</span>:</span><br><span class="line">&gt;        oldpassword = request.POST.get(<span class="string">"oldpassword"</span>)</span><br><span class="line">&gt;        newpassword = request.POST.get(<span class="string">"newpassword"</span>)</span><br><span class="line">&gt;        <span class="comment">#得到当前登录的用户，判断旧密码是不是和当前的密码一样</span></span><br><span class="line">&gt;        username = request.user  <span class="comment">#打印的是当前登录的用户名</span></span><br><span class="line">&gt;        user = User.objects.get(username=username)  <span class="comment">#查看用户</span></span><br><span class="line">&gt;        ret = user.check_password(oldpassword)  <span class="comment">#检查密码是否正确</span></span><br><span class="line">&gt;        <span class="keyword">if</span> ret:</span><br><span class="line">&gt;            user.set_password(newpassword) <span class="comment">#如果正确就给设置一个新密码</span></span><br><span class="line">&gt;            user.save()  <span class="comment">#保存</span></span><br><span class="line">&gt;            <span class="keyword">return</span> redirect(<span class="string">"/login/"</span>)</span><br><span class="line">&gt;        <span class="keyword">else</span>:</span><br><span class="line">&gt;            info = <span class="string">"输入密码有误"</span></span><br><span class="line">&gt;            <span class="keyword">return</span> render(request,<span class="string">"set_pwd.html"</span>,&#123;<span class="string">"info"</span>:info&#125;)</span><br><span class="line">&gt;    <span class="keyword">return</span> render(request,<span class="string">"set_pwd.html"</span>)</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></blockquote><blockquote><p>注册：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="function"><span class="keyword">def</span> <span class="title">reg</span><span class="params">(request)</span>:</span></span><br><span class="line">&gt;    <span class="keyword">if</span> request.method==<span class="string">"POST"</span>:</span><br><span class="line">&gt;        username = request.POST.get(<span class="string">"username"</span>)</span><br><span class="line">&gt;        password = request.POST.get(<span class="string">"password"</span>)</span><br><span class="line">&gt;        <span class="comment">#得到用户输入的用户名和密码创建一个新用户</span></span><br><span class="line">&gt;        User.objects.create_user(username=username,password=password)  <span class="comment">#User是以个对象</span></span><br><span class="line">&gt;        s = <span class="string">"恭喜你注册成功，现在可以登录了"</span></span><br><span class="line">&gt;        <span class="keyword">return</span> redirect(<span class="string">"/login/"</span>)</span><br><span class="line">&gt;    <span class="keyword">return</span> render(request,<span class="string">"reg.html"</span>)</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></blockquote><blockquote><p>注销：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="function"><span class="keyword">def</span> <span class="title">log_out</span><span class="params">(request)</span>:</span></span><br><span class="line">&gt;    auth.logout(request)</span><br><span class="line">&gt;    <span class="keyword">return</span> redirect(<span class="string">"/login/"</span>)</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;用户认知———auth模块&quot;&gt;&lt;a href=&quot;#用户认知———auth模块&quot; class=&quot;headerlink&quot; title=&quot;用户认知———auth模块&quot;&gt;&lt;/a&gt;用户认知———auth模块&lt;/h1&gt;&lt;blockquote&gt;
&lt;h3 id=&quot;一、auth模块
      
    
    </summary>
    
      <category term="Django" scheme="http://yoursite.com/categories/Django/"/>
    
    
  </entry>
  
  <entry>
    <title>Django-admin管理工具</title>
    <link href="http://yoursite.com/2018/11/15/Django-admin%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/"/>
    <id>http://yoursite.com/2018/11/15/Django-admin管理工具/</id>
    <published>2018-11-15T11:29:08.130Z</published>
    <updated>2018-11-15T11:44:52.146Z</updated>
    
    <content type="html"><![CDATA[<h1 id="admin组件使用"><a href="#admin组件使用" class="headerlink" title="admin组件使用"></a>admin组件使用</h1><p>Django提供了基于web的管理工具</p><p>Django 自动管理工具是 django.contrib 的一部分。你可以在项目的 settings.py 中的</p><p> INSTALLED_APPS 看到它：</p><pre><code># Application definitionINSTALLED_APPS = [    &apos;django.contrib.admin&apos;,    &apos;django.contrib.auth&apos;,    &apos;django.contrib.contenttypes&apos;,    &apos;django.contrib.sessions&apos;,    &apos;django.contrib.messages&apos;,    &apos;django.contrib.staticfiles&apos;,    &quot;app01&quot;]</code></pre><p>django.contrib是一套庞大的功能集，它是Django基本代码的组成部分。</p><p>激活管理工具</p><p>通常在生成项目的时候会在urls.py中自动设置好</p><pre><code>from django.conf.urls import urlfrom django.contrib import adminurlpatterns = [    url(r&apos;^admin/&apos;, admin.site.urls),]</code></pre><p>当这一切配置好后，Django管理工具就可以运行了。</p><h1 id="使用管理工具"><a href="#使用管理工具" class="headerlink" title="使用管理工具"></a>使用管理工具</h1><p>启动开发服务器，然后在浏览器中访问 <a href="http://127.0.0.1:8000/admin/，得到登陆界面，" target="_blank" rel="noopener">http://127.0.0.1:8000/admin/，得到登陆界面，</a></p><p>你可以通过命令 python manage.py createsuperuser 来创建超级用户。</p><p>为了让 admin 界面管理某个数据模型，我们需要先注册该数据模型到 admin</p><pre><code>from django.db import models# Create your models here.class Author(models.Model):    name=models.CharField( max_length=32)    age=models.IntegerField()    def __str__(self):        return self.nameclass Publish(models.Model):    name=models.CharField( max_length=32)    email=models.EmailField()    def __str__(self):        return self.nameclass Book(models.Model):    title = models.CharField( max_length=32)    publishDate=models.DateField()    price=models.DecimalField(max_digits=5,decimal_places=2)    publisher=models.ForeignKey(to=&quot;Publish&quot;)    authors=models.ManyToManyField(to=&apos;Author&apos;)    def __str__(self):        return self.title</code></pre><h1 id="admin的定制"><a href="#admin的定制" class="headerlink" title="admin的定制"></a>admin的定制</h1><p>在admin中只需要将Model中的某个类注册，即可在Admin中实现增删改查的功能，如：</p><pre><code>admin.site.register(models.UserInfo)</code></pre><p>但是这种方式比较简单，如果想进行更多的定制操作，需要利用ModelAdmin进行操作，</p><p>如：</p><pre><code>方式一：    class UserAdmin(admin.ModelAdmin):        list_display = (&apos;user&apos;, &apos;pwd&apos;,)    admin.site.register(models.UserInfo, UserAdmin) # 第一个参数可以是列表方式二：    @admin.register(models.UserInfo)                # 第一个参数可以是列表    class UserAdmin(admin.ModelAdmin):        list_display = (&apos;user&apos;, &apos;pwd&apos;,)</code></pre><p>ModelAdmin中提供了大量的可定制功能，如：</p><p>1 list_display，列表时，定制显示的列。</p><pre><code>@admin.register(models.UserInfo)class UserAdmin(admin.ModelAdmin):    list_display = (&apos;user&apos;, &apos;pwd&apos;, &apos;xxxxx&apos;)    def xxxxx(self, obj):        return &quot;xxxxx&quot;</code></pre><p>2 list_display_links，列表时，定制列可以点击跳转。</p><pre><code>@admin.register(models.UserInfo)class UserAdmin(admin.ModelAdmin):    list_display = (&apos;user&apos;, &apos;pwd&apos;, &apos;xxxxx&apos;)    list_display_links = (&apos;pwd&apos;,)</code></pre><p>3 list_filter，列表时，定制右侧快速筛选。<br>4 list_select_related，列表时，连表查询是否自动select_related<br>5 list_editable，列表时，可以编辑的列 </p><pre><code>@admin.register(models.UserInfo)class UserAdmin(admin.ModelAdmin):    list_display = (&apos;user&apos;, &apos;pwd&apos;,&apos;ug&apos;,)    list_editable = (&apos;ug&apos;,)</code></pre><p>6 search_fields，列表时，模糊搜索的功能</p><pre><code>@admin.register(models.UserInfo)class UserAdmin(admin.ModelAdmin):    search_fields = (&apos;user&apos;, &apos;pwd&apos;)</code></pre><p>7 date_hierarchy，列表时，对Date和DateTime类型进行搜索</p><pre><code>@admin.register(models.UserInfo)class UserAdmin(admin.ModelAdmin):    date_hierarchy = &apos;ctime&apos;</code></pre><p>8  inlines，详细页面，如果有其他表和当前表做FK，那么详细页面可以进行动态增加和删除</p><pre><code>class UserInfoInline(admin.StackedInline): # TabularInline    extra = 0    model = models.UserInfoclass GroupAdminMode(admin.ModelAdmin):    list_display = (&apos;id&apos;, &apos;title&apos;,)    inlines = [UserInfoInline, ]</code></pre><p>9 action，列表时，定制action中的操作</p><pre><code>@admin.register(models.UserInfo)class UserAdmin(admin.ModelAdmin):    # 定制Action行为具体方法    def func(self, request, queryset):        print(self, request, queryset)        print(request.POST.getlist(&apos;_selected_action&apos;))    func.short_description = &quot;中文显示自定义Actions&quot;    actions = [func, ]    # Action选项都是在页面上方显示    actions_on_top = True    # Action选项都是在页面下方显示    actions_on_bottom = False    # 是否显示选择个数    actions_selection_counter = True</code></pre><p>10 定制HTML模板</p><pre><code>add_form_template = Nonechange_form_template = Nonechange_list_template = Nonedelete_confirmation_template = Nonedelete_selected_confirmation_template = Noneobject_history_template = None</code></pre><p>11 raw_id_fields，详细页面，针对FK和M2M字段变成以Input框形式</p><pre><code>@admin.register(models.UserInfo)class UserAdmin(admin.ModelAdmin):    raw_id_fields = (&apos;FK字段&apos;, &apos;M2M字段&apos;,)</code></pre><p>12  fields，详细页面时，显示字段的字段</p><pre><code>@admin.register(models.UserInfo)class UserAdmin(admin.ModelAdmin):    fields = (&apos;user&apos;,)</code></pre><p>13 exclude，详细页面时，排除的字段</p><pre><code>@admin.register(models.UserInfo)class UserAdmin(admin.ModelAdmin):    exclude = (&apos;user&apos;,)</code></pre><p>14  readonly_fields，详细页面时，只读字段</p><pre><code>@admin.register(models.UserInfo)class UserAdmin(admin.ModelAdmin):    readonly_fields = (&apos;user&apos;,)</code></pre><p>15 fieldsets，详细页面时，使用fieldsets标签对数据进行分割显示</p><pre><code>@admin.register(models.UserInfo)class UserAdmin(admin.ModelAdmin):    fieldsets = (        (&apos;基本数据&apos;, {            &apos;fields&apos;: (&apos;user&apos;, &apos;pwd&apos;, &apos;ctime&apos;,)        }),        (&apos;其他&apos;, {            &apos;classes&apos;: (&apos;collapse&apos;, &apos;wide&apos;, &apos;extrapretty&apos;),  # &apos;collapse&apos;,&apos;wide&apos;, &apos;extrapretty&apos;            &apos;fields&apos;: (&apos;user&apos;, &apos;pwd&apos;),        }),    )</code></pre><p>16 详细页面时，M2M显示时，数据移动选择（方向：上下和左右）</p><pre><code>@admin.register(models.UserInfo)class UserAdmin(admin.ModelAdmin):    filter_vertical = (&quot;m2m字段&quot;,) # 或filter_horizontal = (&quot;m2m字段&quot;,)</code></pre><p>17 ordering，列表时，数据排序规则</p><pre><code>@admin.register(models.UserInfo)class UserAdmin(admin.ModelAdmin):    ordering = (&apos;-id&apos;,)    或    def get_ordering(self, request):        return [&apos;-id&apos;, ]</code></pre><p>18 radio_fields，详细页面时，使用radio显示选项（FK默认使用select）</p><pre><code>radio_fields = {&quot;ug&quot;: admin.VERTICAL} # 或admin.HORIZONTAL</code></pre><p>19 form = ModelForm，用于定制用户请求时候表单验证</p><pre><code>from app01 import modelsfrom django.forms import ModelFormfrom django.forms import fieldsclass MyForm(ModelForm):    others = fields.CharField()    class Meta:        model = models = models.UserInfo        fields = &quot;__all__&quot;@admin.register(models.UserInfo)class UserAdmin(admin.ModelAdmin):    form = MyForm</code></pre><p>20 empty_value_display = “列数据为空时，显示默认值”</p><pre><code>@admin.register(models.UserInfo)class UserAdmin(admin.ModelAdmin):    empty_value_display = &quot;列数据为空时，默认显示&quot;    list_display = (&apos;user&apos;,&apos;pwd&apos;,&apos;up&apos;)    def up(self,obj):        return obj.user    up.empty_value_display = &quot;指定列数据为空时，默认显示&quot;</code></pre><p>例子：</p><pre><code>from django.contrib import admin# Register your models here.from .models import *class BookInline(admin.StackedInline): # TabularInline    extra = 0    model = Bookclass BookAdmin(admin.ModelAdmin):    list_display = (&quot;title&quot;,&apos;publishDate&apos;, &apos;price&apos;,&quot;foo&quot;,&quot;publisher&quot;)    list_display_links = (&apos;publishDate&apos;,&quot;price&quot;)    list_filter = (&apos;price&apos;,)    list_editable=(&quot;title&quot;,&quot;publisher&quot;)    search_fields = (&apos;title&apos;,)    date_hierarchy = &apos;publishDate&apos;    preserve_filters=False    def foo(self,obj):        return obj.title+str(obj.price)    # 定制Action行为具体方法    def func(self, request, queryset):        print(self, request, queryset)        print(request.POST.getlist(&apos;_selected_action&apos;))    func.short_description = &quot;中文显示自定义Actions&quot;    actions = [func, ]    # Action选项都是在页面上方显示    actions_on_top = True    # Action选项都是在页面下方显示    actions_on_bottom = False    # 是否显示选择个数    actions_selection_counter = True    change_list_template=&quot;my_change_list_template.html&quot;class PublishAdmin(admin.ModelAdmin):     list_display = (&apos;name&apos;, &apos;email&apos;,)     inlines = [BookInline, ]admin.site.register(Book, BookAdmin) # 第一个参数可以是列表admin.site.register(Publish,PublishAdmin)admin.site.register(Author)</code></pre><h1 id="admin源码解析"><a href="#admin源码解析" class="headerlink" title="admin源码解析"></a>admin源码解析</h1><h2 id="单例模式"><a href="#单例模式" class="headerlink" title="单例模式"></a>单例模式</h2><pre><code>单例模式（Singleton Pattern）是一种常用的软件设计模式，该模式主要目的是确保某一个类只有一个实例存在。当我们希望在整个系统中，某个类只能出现一个实例时，单例对象就能派上用场。比如，某个服务器程序的配置信息存放在一个文件中，客户端通过一个APPConfig    的类来读取配置文件的信息。如果在程序运行期间，有很多地方需要使用配置文    件的内容，也就是说，很多地方都需要APPConfig的实例对象，而这样会严重浪费    内存资源，尤其是在配置文件内容很多的情况下。事实上，类似AppConfig这样的类，我们希望在程序运行期间只存在一个实例对象。</code></pre><p>在python中，我们可以用很多种方式来实现单例模式：<br>使用模块（模块的导入）<br>使用<strong>new</strong><br>使用装饰器（decorator）<br>使用元类（metaclass）<br>（1）使用<strong>new</strong><br>    为了使类只能出现一个实例，我们可以使用<strong>new</strong>来控制实例的创建过程，代码<br>    如下：</p><pre><code>class Singleton(object):    _instance = None    def __new__(cls, *args, **kw):        if not cls._instance:            cls._instance = super(Singleton, cls).__new__(cls, *args, **kw)          return cls._instance  class MyClass(Singleton):      a = 1</code></pre><p>  在上面的代码中，我们将类的实例和一个类变量instance关联起来，如果cls.instance为None则创<br>建实例，否则直接返回cls._instance<br>执行情况：</p><pre><code>&gt;&gt;&gt; one = MyClass()&gt;&gt;&gt; two = MyClass()&gt;&gt;&gt; one == twoTrue&gt;&gt;&gt; one is twoTrue&gt;&gt;&gt; id(one), id(two)(4303862608, 4303862608)</code></pre><p>(2)使用模块<br>    其实，Python 的模块就是天然的单例模式，因为模块在第一次导入时，会生成 .pyc 文件，当<br>    第二次导入时，就会直接加载 .pyc 文件，而不会再次执行模块代码。因此，我们只需把相关的<br>    函数和数据定义在一个模块中，就可以获得一个单例对象了。如果我们真的想要一个单例类，可<br>    以考虑这样做：</p><pre><code>    # mysingleton.py    class My_Singleton(object):        def foo(self):            pass    my_singleton = My_Singleton()将上面的代码保存在文件 mysingleton.py 中，然后这样使用：    from mysingleton import my_singleton    my_singleton.foo()</code></pre><h2 id="admin执行流程"><a href="#admin执行流程" class="headerlink" title="admin执行流程"></a>admin执行流程</h2><h3 id="循环加载执行所有已经注册的app中的admin-py文件"><a href="#循环加载执行所有已经注册的app中的admin-py文件" class="headerlink" title="循环加载执行所有已经注册的app中的admin.py文件"></a>循环加载执行所有已经注册的app中的admin.py文件</h3><pre><code>def autodiscover():    autodiscover_modules(&apos;admin&apos;, register_to=site)</code></pre><h3 id="执行代码"><a href="#执行代码" class="headerlink" title="执行代码"></a>执行代码</h3><pre><code>＃admin.pyclass BookAdmin(admin.ModelAdmin):    list_display = (&quot;title&quot;,&apos;publishDate&apos;, &apos;price&apos;)admin.site.register(Book, BookAdmin) admin.site.register(Publish)</code></pre><h3 id="admin-site"><a href="#admin-site" class="headerlink" title="admin.site"></a>admin.site</h3><pre><code>class AdminSite(object):...# This global object represents the default admin site, for the common case.# You can instantiate AdminSite in your own code to create a custom admin site.site = AdminSite()</code></pre><p>这里应用的是一个单例模式，对于AdminSite类的一个单例模式，执行的每一个app中的每一个admin.site</p><p>都是一个对象。</p><h3 id="执行register方法"><a href="#执行register方法" class="headerlink" title="执行register方法"></a>执行register方法</h3><pre><code>admin.site.register(Book, BookAdmin) admin.site.register(Publish)class ModelAdmin(BaseModelAdmin):passdef register(self, model_or_iterable, admin_class=None, **options):    if not admin_class:            admin_class = ModelAdmin    # Instantiate the admin class to save in the registry    self._registry[model] = admin_class(model, self)# 思考：在每一个app的admin .py中加上print(admin.site._registry)   ＃ 执行结果？</code></pre><p> 到这里，注册结束！</p><h3 id="admin的URL配置"><a href="#admin的URL配置" class="headerlink" title="admin的URL配置"></a>admin的URL配置</h3><pre><code>urlpatterns = [    url(r&apos;^admin/&apos;, admin.site.urls),]class AdminSite(object):     def get_urls(self):        from django.conf.urls import url, include        urlpatterns = []        # Add in each model&apos;s views, and create a list of valid URLS for the        # app_index        valid_app_labels = []        for model, model_admin in self._registry.items():            urlpatterns += [                url(r&apos;^%s/%s/&apos; % (model._meta.app_label, model._meta.model_name), include(model_admin.urls)),            ]            if model._meta.app_label not in valid_app_labels:                valid_app_labels.append(model._meta.app_label)        return urlpatterns    @property    def urls(self):        return self.get_urls(), &apos;admin&apos;, self.name</code></pre><h3 id="url方法的扩展应用"><a href="#url方法的扩展应用" class="headerlink" title="url方法的扩展应用"></a>url方法的扩展应用</h3><pre><code>from django.shortcuts import HttpResponsedef test01(request):    return HttpResponse(&quot;test01&quot;)def test02(request):    return HttpResponse(&quot;test02&quot;)urlpatterns = [    url(r&apos;^admin/&apos;, admin.site.urls),    url(r&apos;^ward/&apos;, ([                    url(r&apos;^test01/&apos;, test01),                    url(r&apos;^test02/&apos;, test02),                    ],None,None)),]</code></pre><h1 id="扩展优化"><a href="#扩展优化" class="headerlink" title="扩展优化"></a>扩展优化</h1><pre><code>from django.conf.urls import url,includefrom django.contrib import adminfrom django.shortcuts import HttpResponsedef change_list_view(request):    return HttpResponse(&quot;change_list_view&quot;)def add_view(request):    return HttpResponse(&quot;add_view&quot;)def delete_view(request):    return HttpResponse(&quot;delete_view&quot;)def change_view(request):    return HttpResponse(&quot;change_view&quot;)def get_urls():    temp=[        url(r&quot;^$&quot;.format(app_name,model_name),change_list_view),        url(r&quot;^add/$&quot;.format(app_name,model_name),add_view),        url(r&quot;^\d+/del/$&quot;.format(app_name,model_name),delete_view),        url(r&quot;^\d+/change/$&quot;.format(app_name,model_name),change_view),    ]    return tempurl_list=[]for model_class,obj in admin.site._registry.items():    model_name=model_class._meta.model_name    app_name=model_class._meta.app_label    # temp=url(r&quot;{0}/{1}/&quot;.format(app_name,model_name),(get_urls(),None,None))    temp=url(r&quot;{0}/{1}/&quot;.format(app_name,model_name),include(get_urls()))    url_list.append(temp)urlpatterns = [    url(r&apos;^admin/&apos;, admin.site.urls),    url(r&apos;^ward/&apos;, (url_list,None,None)),]</code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;admin组件使用&quot;&gt;&lt;a href=&quot;#admin组件使用&quot; class=&quot;headerlink&quot; title=&quot;admin组件使用&quot;&gt;&lt;/a&gt;admin组件使用&lt;/h1&gt;&lt;p&gt;Django提供了基于web的管理工具&lt;/p&gt;
&lt;p&gt;Django 自动管理工具是 
      
    
    </summary>
    
      <category term="Django" scheme="http://yoursite.com/categories/Django/"/>
    
    
  </entry>
  
  <entry>
    <title>vue-cli目录结构总结的步骤</title>
    <link href="http://yoursite.com/2018/11/14/vue-cli%E8%87%AA%E5%B7%B1%E6%80%BB%E7%BB%93%E7%9A%84%E6%AD%A5%E9%AA%A4/"/>
    <id>http://yoursite.com/2018/11/14/vue-cli自己总结的步骤/</id>
    <published>2018-11-14T12:37:04.000Z</published>
    <updated>2018-11-15T06:33:03.252Z</updated>
    
    <content type="html"><![CDATA[<h1 id="main-js这是js的入口文件"><a href="#main-js这是js的入口文件" class="headerlink" title="main.js这是js的入口文件"></a>main.js这是js的入口文件</h1><pre><code>// The Vue build version to load with the `import` command// (runtime-only or standalone) has been set in webpack.base.conf with an alias.import Vue from &apos;vue&apos;import App from &apos;./App&apos;import router from &apos;./router&apos;import store from &quot;./store&quot;import axios from &apos;axios&apos;// 使用element-uiimport ElementUI from &apos;element-ui&apos;import &apos;element-ui/lib/theme-chalk/index.css&apos;Vue.use(ElementUI);// 全局的（一个一个比较麻烦）// axios.request({//   url: XXX,//   method: &quot;get&quot;// });// 通过使用原型链 这样所有的组件都可以通过$axios去访问了Vue.prototype.$axios = axios;Vue.config.productionTip = false;/* eslint-disable no-new */new Vue({el: &apos;#app&apos;,router,store,components: { App },template: &apos;&lt;App/&gt;&apos;});</code></pre><h1 id="App-vue页面级App组件"><a href="#App-vue页面级App组件" class="headerlink" title="App.vue页面级App组件"></a>App.vue页面级App组件</h1><pre><code>&lt;template&gt;&lt;div id=&quot;app&quot;&gt;    &lt;MyHeader&gt;&lt;/MyHeader&gt;    &lt;router-view&gt;&lt;/router-view&gt;    &lt;MyFooter&gt;&lt;/MyFooter&gt;&lt;/div&gt;&lt;/template&gt;&lt;script&gt;import MyHeader from &quot;./components/MyHeader&quot;import MyFooter from &quot;./components/MyFooter&quot;export default {name: &apos;App&apos;,components: {    MyHeader,    MyFooter,}}&lt;/script&gt;&lt;style&gt;body {    margin: 0;    padding: 0;}&lt;/style&gt;</code></pre><h1 id="router-index-js"><a href="#router-index-js" class="headerlink" title="router-index.js"></a>router-index.js</h1><pre><code>import Vue from &apos;vue&apos;import Router from &apos;vue-router&apos;import Home from &apos;../components/headers/Home&apos;import Course from &apos;../components/headers/Course&apos;Vue.use(Router);export default new Router({routes: [    {    path: &apos;/&apos;,    name: &apos;home&apos;,    component: Home    },    {    path: &apos;/course&apos;,    name: &apos;course&apos;,    component: Course    }]})</code></pre><h1 id="Vuex-axios的使用"><a href="#Vuex-axios的使用" class="headerlink" title="Vuex+axios的使用"></a>Vuex+axios的使用</h1><h2 id="store-js"><a href="#store-js" class="headerlink" title="store.js"></a>store.js</h2><pre><code>import Vue from &quot;vue&quot;import Vuex from &quot;vuex&quot;Vue.use(Vuex);export default new Vuex.Store({// this.$store.state.name    拿数据state: {    name: &apos;1&apos;,},// 对state中的数据进行处理// this.$store.getters.new_name    拿数据getters: {    new_name: function (state) {    return state.name + &apos;xxx&apos;;    },    new_new_name: function (state, getters) {    return getters.new_name + &apos;000&apos;;    },},mutations: {    change_data: function (state, data) {    // 自己处理change_data事件的    state.name = data;    }}})</code></pre><h2 id="Course-vue"><a href="#Course-vue" class="headerlink" title="Course.vue"></a>Course.vue</h2><pre><code>&lt;template&gt;&lt;div&gt;&lt;h1&gt;course&lt;/h1&gt;{{name}}{{new_name}}&lt;hr&gt;{{try_again}}&lt;/div&gt;&lt;/template&gt;&lt;script&gt;    export default {        name: &quot;Course&quot;,    data(){        return {            name : this.$store.state.name,            new_name: this.$store.getters.new_new_name,            try_again: &apos;&apos;,        }    },    // 方法执行完会改版数据但是不会刷新    // methods: {    //     my_click: function () {    //       this.$store.commit(&quot;change_data&quot;, &apos;到到&apos;)    //     }    // },    // 能够监听到数据的改变能够实时跟新    // computed: {    //     name: function () {    //       return  this.$store.state.name;    //     }    // }    mounted(){        let that = this;        this.$axios.request({            url: &quot;http://127.0.0.1:8000/tryagain/&quot;,            method: &apos;get&apos;,        }).then(function (data) {            // success do something~~            that.try_again = data.data        }).catch(function (data) {            // fail do something~~        })        // 单纯的发get请求        // this.$axios.get(&quot;url&quot;, {}).then()    }    }&lt;/script&gt;&lt;style scoped&gt;&lt;/style&gt;</code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;main-js这是js的入口文件&quot;&gt;&lt;a href=&quot;#main-js这是js的入口文件&quot; class=&quot;headerlink&quot; title=&quot;main.js这是js的入口文件&quot;&gt;&lt;/a&gt;main.js这是js的入口文件&lt;/h1&gt;&lt;pre&gt;&lt;code&gt;// The
      
    
    </summary>
    
      <category term="Vue" scheme="http://yoursite.com/categories/Vue/"/>
    
    
  </entry>
  
  <entry>
    <title>Vuex+axios</title>
    <link href="http://yoursite.com/2018/11/13/Vuex-axios/"/>
    <id>http://yoursite.com/2018/11/13/Vuex-axios/</id>
    <published>2018-11-13T13:54:25.000Z</published>
    <updated>2018-11-15T06:36:23.979Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Vuex-简介"><a href="#Vuex-简介" class="headerlink" title="Vuex 简介"></a>Vuex 简介</h1><pre><code>vuex是一个专门为Vue.js设计的集中式状态管理架构。状态？ 我们把它理解为在data中需要共享给其他组件使用的部分。Vuex和单纯的全局对象有以下不同：1、Vuex 的状态存储是响应式的。当vue组件从store中读取状态的时候，若store中的状态发生变化，那么相应的组件也会相应的得到高效更新。2、你不能直接改变store中的状态。改变store中的状态的唯一途径就是显示的提交(commit)mutation。这样使得我们可以方便的跟踪每一个状态的变化，从而让我们能够实现一些工具来帮助我们更好的了解我们的应用。</code></pre><h2 id="安装使用vuex"><a href="#安装使用vuex" class="headerlink" title="安装使用vuex"></a>安装使用vuex</h2><p>–  npm install vuex</p><pre><code>vuex的使用一// main.jsimport Vue from &apos;vue&apos;import App from &apos;./App&apos;import router from &apos;./router&apos;import vuex from &apos;vuex&apos;Vue.use(vuex)Vue.config.productionTip = falseconst store = new vuex.Store({    state: {    show: false,    }});new Vue({el: &apos;#app&apos;,router,store,components: { App },template: &apos;&lt;App/&gt;&apos;});vuex的使用二// 为了方便维护，我们通常把在src下面新建一个store文件夹，// 然后在里面新建一个index.jsimport Vue from &apos;vue&apos;import Vue_x from &quot;vuex&quot;Vue.use(Vue_x);export default  new Vue_x.Store({state: {    show: false,    },});// 那么main.js要改成import Vue from &apos;vue&apos;import App from &apos;./App&apos;import router from &apos;./router&apos;import store from &quot;./store&quot;Vue.config.productionTip = false;new Vue({el: &apos;#app&apos;,router,store,components: { App },template: &apos;&lt;App/&gt;&apos;});</code></pre><h2 id="State"><a href="#State" class="headerlink" title="State"></a>State</h2><pre><code>简而言之~~state是保存我们data中需要共享的数据。由于Vuex的存储是响应式的，从store实例中读取状态的最简单的方式就是在计算属性中返回某个状态。this.$store.state.count</code></pre><p>组件中获取vuex中状态</p><pre><code>// 创建一个组件const Counter = {template: `&lt;div&gt;{{ count }}&lt;/div&gt;`,computed: {    count(){    return this.$store.state.count    }}};</code></pre><h2 id="Getter"><a href="#Getter" class="headerlink" title="Getter"></a>Getter</h2><p>有时候我们需要从store中的state中派生出一些状态，例如对数据进行简单的计算。</p><p>并且很多组件都需要用到此方法，我们要么复制这个函数，要么抽取到一个公共函数，多处导入。</p><p>我们vuex提供了更加方便的方法，getter ，它就像计算属性一样，getter的返回值会根据它的依赖被</p><p>缓存起来，只有它的依赖发生改变时，才会重新计算。</p><p>Getter会接收state作为其第一个参数：</p><pre><code>import Vue from &apos;vue&apos;import Vue_x from &quot;vuex&quot;Vue.use(Vue_x);export default  new Vue_x.Store({state: {    count: 20,},// 通过 this.$store.getters.my_funcgetters: {    my_func: function (state) {    return state.count * 2    }},});</code></pre><p>Getter也可以接收getters为第二个参数：</p><pre><code>import Vue from &apos;vue&apos;import Vue_x from &quot;vuex&quot;Vue.use(Vue_x);export default  new Vue_x.Store({state: {    count: 20,},// 通过 this.$store.getters.my_funcgetters: {    my_func: function (state) {    return state.count * 2    },    // 通过 this.$store.getters.my_func_count    my_func_count: function (state, getters) {    return getters.my_func.length    }},});</code></pre><h2 id="Mutatiion"><a href="#Mutatiion" class="headerlink" title="Mutatiion"></a>Mutatiion</h2><p>更改Vuex中的store中的状态的唯一方法是提交mutation。</p><p>每个mutation都有一个字符串的事件类型(type)，和一个回调函数handler。</p><p>也就是说我们要触发mutation中定义的方法(type)，然后才会执行这个方法(handler)。</p><p>这个方法就是我们更改状态的地方，它会接收state为第一个参数，后面接收其他参数：</p><pre><code>Mutation基本使用import Vue from &apos;vue&apos;import Vue_x from &quot;vuex&quot;Vue.use(Vue_x);export default  new Vue_x.Store({state: {    count: 20,},// 需要通过 this.$store.commit(&apos;increment&apos;, 10)mutations: {    increment (state, n) {    // 变更状态    state.count += n    }}});</code></pre><p>Mutation需要遵守Vue的响应规则</p><p>既然vuex中的store中的状态是响应式的，那么当我们状态变更时，监视状态的vue组件也会更新。</p><p>这就意味着vuex中的mutation也需要与使用vue一样遵守一些注意事项：</p><p>　　– 1，最好提前在你的store中初始化好所有的所需要的属性</p><p>　　– 2，当对象需要添加属性时，你应该使用</p><p>　　　　　　–  Vue.set(obj, ‘newProp’, 123)</p><p>　　　　　　–  以新对象代替老对象  state.obj = { …state.obj, newProp: 123}</p><h1 id="axios的简单使用"><a href="#axios的简单使用" class="headerlink" title="axios的简单使用"></a>axios的简单使用</h1><p>基于Promise的HTTP请求客户端，可以同时在浏览器和node.js使用。</p><p>##　使用npm安装axios</p><p>– npm install axios -D</p><h2 id="基本的配置"><a href="#基本的配置" class="headerlink" title="基本的配置"></a>基本的配置</h2><pre><code>// main.jsimport axios from &quot;axios&quot;Vue.prototype.$axios = axios// 组件中methods: {    init () {        this.$axios({            method: &quot;get&quot;,            url: &quot;/user&quot;        })    },};</code></pre><h2 id="基本的使用"><a href="#基本的使用" class="headerlink" title="基本的使用"></a>基本的使用</h2><p>get请求</p><pre><code>test(){      this.$axios.get(this.$store.state.apiList.course,{        params: {          id: 123,        }      }).then(function (response) {        // 请求成功回调函数      }).catch(function (response) {        // 请求失败的回调函数      })}</code></pre><p>post请求</p><pre><code>test(){      this.$axios.post(this.$store.state.apiList.course,{          course_title: &quot;Python&quot;,          course_price: &quot;19.88&quot;      }).then(function (response) {        // 请求成功回调函数      }).catch(function (response) {        // 请求失败的回调函数      })}</code></pre><p>发送多个并发请求</p><pre><code>function getCourse(){      return this.$axios.get(&apos;/course/12&apos;)    }function getCourse_all() {        return this.$axios.get(&apos;/course&apos;)        }this.$axios.all([getCourse_all(),getCourse()])        .then().catch()</code></pre><p>axios.request</p><pre><code>methods: {      init(){        var that = this        this.$axios.request({          url: that.$store.state.apiList.course,          method: &apos;get&apos;        }).then(function (data) {          if (data.status === 200){              that.courseList = data.data          }        }).catch(function (reason) {          console.log(reason)        })      }},</code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Vuex-简介&quot;&gt;&lt;a href=&quot;#Vuex-简介&quot; class=&quot;headerlink&quot; title=&quot;Vuex 简介&quot;&gt;&lt;/a&gt;Vuex 简介&lt;/h1&gt;&lt;pre&gt;&lt;code&gt;vuex是一个专门为Vue.js设计的集中式状态管理架构。
状态？ 我们把它理解
      
    
    </summary>
    
      <category term="Vue" scheme="http://yoursite.com/categories/Vue/"/>
    
    
  </entry>
  
  <entry>
    <title>npm+webpack+vue-cli快速上手</title>
    <link href="http://yoursite.com/2018/11/13/npm-webpack-vue-cli%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/"/>
    <id>http://yoursite.com/2018/11/13/npm-webpack-vue-cli快速上手/</id>
    <published>2018-11-13T12:53:56.000Z</published>
    <updated>2018-11-15T06:37:09.961Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Node-js-npm"><a href="#Node-js-npm" class="headerlink" title="Node.js   npm"></a>Node.js   npm</h1><h2 id="什么是Node-js-以及npm"><a href="#什么是Node-js-以及npm" class="headerlink" title="什么是Node.js  以及npm"></a>什么是Node.js  以及npm</h2><pre><code>简单的来说 Node.js 就是运行在服务端的JavaScript，基于Chrome V8 引擎的。npm 是Node.js 的包管理工具。</code></pre><h2 id="npm的安装和更新"><a href="#npm的安装和更新" class="headerlink" title="npm的安装和更新"></a>npm的安装和更新</h2><pre><code>Node.js下载安装   Node.js 官网下载安装。npm自带的包管理工具。查看安装版本信息：</code></pre><p>　　    –  node -v  查看Node.js 版本信息</p><p>　　    –  npm -v  查看npm版本信息</p><pre><code>更新npm到指定版本：</code></pre><p>　　    –  npm install <a href="mailto:npm@5.3.0" target="_blank" rel="noopener">npm@5.3.0</a> -g</p><p>　　    – npm install npm@latest -g 更新最新的稳定版本</p><h2 id="npm-常用操作"><a href="#npm-常用操作" class="headerlink" title="npm 常用操作"></a>npm 常用操作</h2><pre><code>之前我们用JQuery或者Bootstrap用cdn 或者直接手动下载并放入项目，而且要管理版本。有了npm，我们管理自己的依赖包以及版本更加简单。到自己项目目录下，进行以下命令：</code></pre><p>　　    – npm init -y    输入-y使用默认配置项 生成package.json文件。</p><p>　　    – npm i <a href="mailto:jquery@0.0.0" target="_blank" rel="noopener">jquery@0.0.0</a>   简写install 为 i 下载依赖  不写@ 默认最新版本</p><p>　　    – npm uninstall jquery  卸载依赖包</p><p>　　    – npm update jquery   更新依赖包</p><p>　　    – npm list  列出已安装的依赖</p><p>　　    – npm install webpack –D 保存为开发环境依赖</p><p>　　    – 老版本需要 –save 参数 现在不需要了</p><pre><code>我们的项目目录下会生成一个 node_modules 目录，我们用npm下的包会在这个目录下。我们所有的依赖信息放在package.json文件中，包括我们所有的依赖以及版本。如果我们删掉 node_modules目录，可以使用 npm i  来下载所有依赖。</code></pre><h2 id="npm-常用配置项"><a href="#npm-常用配置项" class="headerlink" title="npm 常用配置项"></a>npm 常用配置项</h2><pre><code>当我们用npm init 的时候用了参数 -y，如果不用-y我们可以进行一些配置。在我们的package.json文件中有很多配置项</code></pre><p>　　    – name  项目名字 中间不能有空格只能用小写</p><p>　　    – version  项目版本</p><p>　　    – description   项目描述信息</p><p>　　    – main  项目的入口文件</p><p>　　    – scripts 指定命令的快捷方式 npm run test     test是scripts里的键名 值为具体命令</p><p>　　    – author 作者</p><p>　　    – license  许可证</p><p>　　    – dependencies  生成环境依赖的包以及版本信息</p><p>　　    – devDependencies  开发环境的依赖</p><h1 id="webpack3"><a href="#webpack3" class="headerlink" title="webpack3"></a>webpack3</h1><h2 id="webpack是什么"><a href="#webpack是什么" class="headerlink" title="webpack是什么"></a>webpack是什么</h2><p>webpack是一个模块打包器，它将根据模块的依赖关系进行静态分析，</p><p>然后将这些模块按照指定的规则生成静态资源。</p><p>那么，我们为什么要用这个东西呢~~因为前端的包袱太多，历史遗留问题太重<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">##安装和配置</span><br><span class="line">    webpack是跑在Node.js环境下的，所以确定自己有node环境。</span><br><span class="line"></span><br><span class="line">安装方式：</span><br><span class="line"></span><br><span class="line">　　-- npm install webpack -g  全局安装</span><br><span class="line"></span><br><span class="line">　　-- webpack  &lt;要打包文件&gt;  &lt;打包后文件&gt;     全局这种方式进行打包</span><br><span class="line"></span><br><span class="line">　　-- npm install webpack   在自己的项目下 npm init 后在下载webpack 这就是局部安装</span><br><span class="line"></span><br><span class="line">　　-- node_modules/.bin/webpack &lt;要打包文件&gt;  &lt;打包后文件&gt;   项目里要打包文件是入口文件</span><br><span class="line"></span><br><span class="line">　　-- 路径太长 太烦 可以自定义命令  在package.json 文件的 scripts下面自定义</span><br><span class="line"></span><br><span class="line">## entry 和 output</span><br><span class="line">    entry 入口文件  output 出口文件</span><br><span class="line"></span><br><span class="line">    上面我们自定义命令的时候 命令太长了~~而且我们命令太多的时候我们需要每次都自定义多条命令~~</span><br><span class="line"></span><br><span class="line">    我们可以把命令写在webpack.config.js文件中~~</span><br><span class="line">&gt;webpack.config.js</span><br><span class="line">module.export = &#123;</span><br><span class="line">    // 所有的入口文件</span><br><span class="line">    entry: &#123;</span><br><span class="line">         home: &apos;./main.js&apos;, </span><br><span class="line">         login: &apos;./login.js&apos;,</span><br><span class="line">    &#125;, </span><br><span class="line">    // 出口文件  </span><br><span class="line">    output: &#123;</span><br><span class="line">         filename: &apos;[name].bundle.js&apos;,</span><br><span class="line">         path: __dirname + &apos;/dist&apos;,</span><br><span class="line">    &#125;       </span><br><span class="line">&#125;</span><br><span class="line">// backage.json  下的scripts</span><br><span class="line">scripts: &#123;</span><br><span class="line">     &quot;pack&quot;: &quot;node_moudles/.bin/webpack --watch&quot;</span><br><span class="line">&#125;</span><br><span class="line">//  运行命令</span><br><span class="line">npm  run pack</span><br><span class="line"></span><br><span class="line"># webpack4</span><br><span class="line">## webpack的新特性</span><br><span class="line">1, webpack不在单独使用，需要webpack-cli</span><br><span class="line"></span><br><span class="line">　　-- 全局安装  npm install webpack webpack-cli -g -D</span><br><span class="line"></span><br><span class="line">　　-- 局部安装  npm install webpack webpack-cli -D</span><br><span class="line"></span><br><span class="line">2, 增加了模式区分 （development, production）</span><br><span class="line"></span><br><span class="line">　　--webpack --mode development/production 进行模式切换</span><br><span class="line"></span><br><span class="line">　　-- development 开发者模式 打包默认不压缩代码</span><br><span class="line"></span><br><span class="line">　　-- production  生产者模式 上线时使用，压缩代码。 默认是这个模式</span><br><span class="line"></span><br><span class="line">3，固定入口目录为src，与入口默认文件index.js，打包后文件在新增的dist目录下</span><br><span class="line"></span><br><span class="line">　　-- 当只有一个入口文件也就是src/index.js时，无需增加webpack.config.js</span><br><span class="line"></span><br><span class="line">4，多入口以及多出口</span><br><span class="line">&gt;webpack.config.js　</span><br><span class="line">entry: &#123;</span><br><span class="line">    // 多入口</span><br><span class="line">    a: &quot;./src/js/index.js&quot;,</span><br><span class="line">    b: &quot;./src/js/index2.js&quot;,</span><br><span class="line">&#125;</span><br><span class="line">output: &#123;</span><br><span class="line">    // 多出口</span><br><span class="line">    path: path.resolve(__dirname, &apos;dist&apos;),</span><br><span class="line">    filename: &apos;./js/[name].bundle.js&apos;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># vue-cli</span><br><span class="line">vue-cli是官方提供的快速构建这个单页面应用的脚手架。</span><br><span class="line"></span><br><span class="line">## 根据官方文档中的构件流程：</span><br><span class="line"></span><br><span class="line">　　-- 前提是已经安装了node.js 否则npm都用不了</span><br><span class="line"></span><br><span class="line">　　-- 1，使用npm全局安装vue-cli </span><br><span class="line"></span><br><span class="line">　　　　　　npm install -g vue-cli</span><br><span class="line"></span><br><span class="line">　　-- 2, 安装完成后在自己的工作空间里</span><br><span class="line"></span><br><span class="line">　　　　　　vue init webpack vue-demo  </span><br><span class="line"></span><br><span class="line">　　　　输入命令后进入安装阶段，需要用户输入一些信息 这里省略了.....</span><br><span class="line"></span><br><span class="line">　　-- 3，切换到我们的项目目录下 </span><br><span class="line"></span><br><span class="line">　　　　　　cd vue-demo</span><br><span class="line"></span><br><span class="line">　　　　　　npm run dev</span><br><span class="line"></span><br><span class="line">## 目录结构：</span><br><span class="line"></span><br><span class="line">　　-- build 里面是一些操作文件，使用npm run * 时其实执行的就是这里的文件</span><br><span class="line"></span><br><span class="line">　　-- config 配置文件，执行文件需要的配置信息</span><br><span class="line"></span><br><span class="line">　　-- src 资源文件 所有的组件以及所有的图片 都在这个文件夹下</span><br><span class="line"></span><br><span class="line">　　-- node_modules  项目依赖包</span><br><span class="line"></span><br><span class="line">　　-- static 静态资源</span><br><span class="line"></span><br><span class="line">　　-- package.json   依赖包的json文件</span><br><span class="line"></span><br><span class="line">其实这里面命令很多~我们在后续项目中应用到再说</span><br></pre></td></tr></table></figure></p><h1 id="vue-cli配置JQuery、bootstrap"><a href="#vue-cli配置JQuery、bootstrap" class="headerlink" title="vue-cli配置JQuery、bootstrap"></a>vue-cli配置JQuery、bootstrap</h1><h2 id="第一步-下载安装"><a href="#第一步-下载安装" class="headerlink" title="第一步  下载安装"></a>第一步  下载安装</h2><p>　　– npm install jquery </p><p>　　– npm install bootstrap </p><h2 id="第二步-修改build-webpack-base-conf-js"><a href="#第二步-修改build-webpack-base-conf-js" class="headerlink" title="第二步 修改build/webpack.base.conf.js"></a>第二步 修改build/webpack.base.conf.js</h2><blockquote><p>const webpack = require(‘webpack’)<br>// 在module.exports里添加插件<br>plugins: [<br>    new webpack.ProvidePlugin({<br>      $: “jquery”,<br>      jQuery: “jquery”,<br>      “windows.jQuery”: “jquery”,<br>      // Popper: [‘popper.js’, ‘default’]<br>    })<br>],<br>//  <strong>***</strong>下面是如果手动下载bootstrap用的<strong>***</strong><br>resolve: {<br>    extensions: [‘.js’, ‘.vue’, ‘.json’],<br>    alias: {<br>      ‘vue$’: ‘vue/dist/vue.esm.js’,<br>      ‘@’: resolve(‘src’),<br>      // 如果是手动下载的bootstrap需要添加这个配置<br>      // ‘assets’: path.resolve(__dirname, ‘../src/assets’),<br>      // ‘jquery’: ‘jquery/src/jquery’<br>    }<br>  },</p></blockquote><p>修改配置文件</p><h2 id="第三步-修改主程序的js文件-main-js"><a href="#第三步-修改主程序的js文件-main-js" class="headerlink" title="第三步 修改主程序的js文件 main.js"></a>第三步 修改主程序的js文件 main.js</h2><blockquote><p>import $ from ‘jquery’<br>import ‘bootstrap/dist/css/bootstrap.min.css’<br>import ‘bootstrap/dist/js/bootstrap.min.js’</p></blockquote><h1 id="vue-cli-3-0"><a href="#vue-cli-3-0" class="headerlink" title="vue-cli 3.0"></a>vue-cli 3.0</h1><h2 id="第一步-下载vue-cli-3-0"><a href="#第一步-下载vue-cli-3-0" class="headerlink" title="第一步 下载vue-cli 3.0"></a>第一步 下载vue-cli 3.0</h2><p>　　– npm install -g @vue/cli</p><p>　　– 报错 npm error  可以运行下面命令</p><p>　　　　– npm cache clean –force &amp;&amp; npm cache verify</p><h2 id="第二步-创建项目"><a href="#第二步-创建项目" class="headerlink" title="第二步 创建项目"></a>第二步 创建项目</h2><p>　　– vue create xxxx</p><p>　　之后会出现很多选项，我们可以根据自己的习惯去选择~~</p><h2 id="第三步-目录结构以及配置文件"><a href="#第三步-目录结构以及配置文件" class="headerlink" title="第三步 目录结构以及配置文件"></a>第三步 目录结构以及配置文件</h2><p>　　– vue-cli3 目录更加简单</p><p>　　– 我们手动在项目根目录下创建  vue.config.js 里面写vue的配置信息</p><h1 id="vue-cli3-配置jQuery、bootstrap"><a href="#vue-cli3-配置jQuery、bootstrap" class="headerlink" title="vue-cli3 配置jQuery、bootstrap"></a>vue-cli3 配置jQuery、bootstrap</h1><p>　　– 跟vue-cli2一样的配置，手动创建一个webpack.base.conf.js </p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Node-js-npm&quot;&gt;&lt;a href=&quot;#Node-js-npm&quot; class=&quot;headerlink&quot; title=&quot;Node.js   npm&quot;&gt;&lt;/a&gt;Node.js   npm&lt;/h1&gt;&lt;h2 id=&quot;什么是Node-js-以及npm&quot;&gt;&lt;a href
      
    
    </summary>
    
      <category term="Vue" scheme="http://yoursite.com/categories/Vue/"/>
    
    
  </entry>
  
  <entry>
    <title>Vue总结</title>
    <link href="http://yoursite.com/2018/11/13/Vue%E6%80%BB%E7%BB%93/"/>
    <id>http://yoursite.com/2018/11/13/Vue总结/</id>
    <published>2018-11-13T00:30:00.000Z</published>
    <updated>2018-11-15T06:36:05.536Z</updated>
    
    <content type="html"><![CDATA[<h1 id="vue总结"><a href="#vue总结" class="headerlink" title="vue总结"></a>vue总结</h1><blockquote><p>MVC  Model View Controller</p></blockquote><blockquote><p>MVVM Model View ViweMode</p></blockquote><h2 id="ES6常用语法"><a href="#ES6常用语法" class="headerlink" title="ES6常用语法"></a>ES6常用语法</h2><pre><code>1.1 变量的提升1.2 模板字符串 ``${}1.3 数据的解构1.4 类 class extends constructor  super1.5 函数    1.5.1 注意this和普通函数的区别1.6 箭头函数1.7 单体模式1.8 import export   export default</code></pre><h2 id="Vue常用指令"><a href="#Vue常用指令" class="headerlink" title="Vue常用指令"></a>Vue常用指令</h2><pre><code>2.1 v-text  innerText2.2 v-html  innerHtml2.3 v-for  :key2.4 v-if v-else-if v-else  appendChild2.5 v-show  display2.6 v-on  @xxxx=&quot;自己处理的方法&quot;2.7 v-bind  :属性名称=“属性的值”2.8 v-model    2.8.1 input    2.8.2 textarea    2.8.3 select2.9 指令修饰符    2.9.1 .lazy    2.9.2 .number    2.9.3 .trim2.10 计算属性    2.10.1 放入缓存    2.10.2 只有数据改变的时候才会重新计算2.11 数据监听    2.11.1 注意可变类型和不可变    2.11.2 深监听  deep=true2.12 获取DOM    2.12.1 给便签绑定ref属性  ref=“属性值”    2.12.2 this.$refs.属性值2.13 自定义指令    2.13.1 vue.directive(“指令名称”, function(el, binding){        el 绑定指令的便签元素        binding 指令的所有信息    })</code></pre><h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><pre><code>3.1 数据监听    3.1.1 改变数据        直接赋值    3.1.2 改变数组长度        能够被监听到，新值和旧值一样    3.1.3 改变数组内的值        app = new vue({})        app.$set(this.hobby, 0, &apos;抽烟&apos;)        $set()修改数组中的值可以监听        $delete()</code></pre><h2 id="Vue的组件"><a href="#Vue的组件" class="headerlink" title="Vue的组件"></a>Vue的组件</h2><h3 id="组件的注册"><a href="#组件的注册" class="headerlink" title="组件的注册"></a>组件的注册</h3><h4 id="全局注册"><a href="#全局注册" class="headerlink" title="全局注册"></a>全局注册</h4><pre><code>Vue.compontent(“组件名称”, {})</code></pre><h4 id="局部注册"><a href="#局部注册" class="headerlink" title="局部注册"></a>局部注册</h4><pre><code>const = app = new Vue({    el: &apos;#app&apos;,    components: {        组件的名称: 组件的配置信息    }})</code></pre><h4 id="子组件的注册"><a href="#子组件的注册" class="headerlink" title="子组件的注册"></a>子组件的注册</h4><pre><code>在父组件中注册components## 注意写组件标签## 每个组件的template只识别一个作用域块</code></pre><h3 id="通信"><a href="#通信" class="headerlink" title="通信"></a>通信</h3><h4 id="父子的通信"><a href="#父子的通信" class="headerlink" title="父子的通信"></a>父子的通信</h4><pre><code>在父组件中给子组件绑定属性子组件通过props=[&quot;属性名称&quot;]</code></pre><h4 id="子父的通信"><a href="#子父的通信" class="headerlink" title="子父的通信"></a>子父的通信</h4><pre><code>子组件先提交事件    this.$emit(&quot;事件名称&quot;, 值)在父组件中给子组件绑定事件    &lt;child @事件名称=&quot;父亲处理的方法&quot;&gt;&lt;/child&gt;</code></pre><h4 id="非父子的通信"><a href="#非父子的通信" class="headerlink" title="非父子的通信"></a>非父子的通信</h4><pre><code>其中一个组件向中间调度器提交事件另一个组件监听中间调度器的事件注意this的问题中间调度器  let temp = new Vue();temp.$emit(&quot;say&quot;, value) // 事件名称和值mounted(){    that = this    // 监听中间调度器中的方法    temp.$on(&quot;say&quot;, function(data){        // 这里的this是temp的this        that.xxx = data // 这样改值    })}</code></pre><h3 id="插槽"><a href="#插槽" class="headerlink" title="插槽"></a>插槽</h3><pre><code>&lt;slot&gt;&lt;/slot&gt;命名的插槽</code></pre><h3 id="混合"><a href="#混合" class="headerlink" title="混合"></a>混合</h3><pre><code>代码重用的mixins = [base] </code></pre><h2 id="Vue的生命周期"><a href="#Vue的生命周期" class="headerlink" title="Vue的生命周期"></a>Vue的生命周期</h2><h3 id="vue生命周期之beforeCreate"><a href="#vue生命周期之beforeCreate" class="headerlink" title="vue生命周期之beforeCreate"></a>vue生命周期之beforeCreate</h3><pre><code>实例创建之前除标签外，所有的vue需要的数据，事件都不存在</code></pre><h3 id="vue生命周期之created"><a href="#vue生命周期之created" class="headerlink" title="vue生命周期之created"></a>vue生命周期之created</h3><pre><code>实例创建之后，data和事件已经被解析到，el还没有找到</code></pre><h3 id="vue生命周期之beforeMount"><a href="#vue生命周期之beforeMount" class="headerlink" title="vue生命周期之beforeMount"></a>vue生命周期之beforeMount</h3><pre><code>开始找标签，数据还没有被渲染，事件也没有被监听</code></pre><h3 id="vue生命周期之mounted"><a href="#vue生命周期之mounted" class="headerlink" title="vue生命周期之mounted"></a>vue生命周期之mounted</h3><pre><code>开始渲染数据，开始监听事件</code></pre><h3 id="vue生命周期之beforeUpdata"><a href="#vue生命周期之beforeUpdata" class="headerlink" title="vue生命周期之beforeUpdata"></a>vue生命周期之beforeUpdata</h3><pre><code>数据已经被修改在虚拟DOM，但没有被渲染到页面上</code></pre><h3 id="vue生命周期之updata"><a href="#vue生命周期之updata" class="headerlink" title="vue生命周期之updata"></a>vue生命周期之updata</h3><pre><code>开始使用Diff算法，将虚拟DOM中的修改应用大页面上，此时真实DOM中数据被修改</code></pre><h3 id="vue生命周期之beforeDestory"><a href="#vue生命周期之beforeDestory" class="headerlink" title="vue生命周期之beforeDestory"></a>vue生命周期之beforeDestory</h3><pre><code>所有的数据都存在</code></pre><h3 id="vue生命周期之destoryed"><a href="#vue生命周期之destoryed" class="headerlink" title="vue生命周期之destoryed"></a>vue生命周期之destoryed</h3><pre><code>所有的数据都有(虚拟DOM中找数据)展示的真实DOM已经是静态页面了&lt;keep-alive&gt;&lt;/keep-alive&gt;vue提供的用来缓存被消除的标签用activated和deactivated取代了beforeUpdate和destory的执行</code></pre><h3 id="最常用的钩子"><a href="#最常用的钩子" class="headerlink" title="最常用的钩子"></a>最常用的钩子</h3><pre><code>beforeMountmounted</code></pre><h2 id="路由"><a href="#路由" class="headerlink" title="路由"></a>路由</h2><h3 id="注册"><a href="#注册" class="headerlink" title="注册"></a>注册</h3><pre><code>let url = [    {        path: &apos;/&apos;,        name: &quot;home&quot;,        component: {            template: ``,        }    }]let router = nwe VueRouter({    routes: url})const app = new Vue({    el: &apos;app&apos;,    router: router,})&lt;router-link to=&apos;/&apos;&gt;首页&lt;/router-link&gt;&lt;router-link :to=&apos;{name: &quot;home&quot;}&apos;&gt;首页&lt;/router-link&gt;&lt;router-view&gt;&lt;/router-view&gt;</code></pre><h3 id="子路由"><a href="#子路由" class="headerlink" title="子路由"></a>子路由</h3><pre><code>children: [    {}]append在父路由对应的组件的template里面写router-link router-view</code></pre><h3 id="路由的命名"><a href="#路由的命名" class="headerlink" title="路由的命名"></a>路由的命名</h3><pre><code>name注意to加冒号动态绑定</code></pre><h3 id="路由的参数"><a href="#路由的参数" class="headerlink" title="路由的参数"></a>路由的参数</h3><pre><code>{    path: &quot;/course/:id&quot;,}this.$route.params.idthis.$route.query.xxx$route 是一个对象 存放当前路由的所有信息$router VueRouter实例化对象</code></pre><h3 id="手动路由"><a href="#手动路由" class="headerlink" title="手动路由"></a>手动路由</h3><pre><code>this.$router.push(&apos;/&apos;)this.$router.push({name:&quot;home&quot;})</code></pre><h3 id="重定向"><a href="#重定向" class="headerlink" title="重定向"></a>重定向</h3><pre><code>redirect: {name: &apos;xxx&apos;, params: {key: value}}</code></pre><h3 id="路由的钩子"><a href="#路由的钩子" class="headerlink" title="路由的钩子"></a>路由的钩子</h3><pre><code>router.beforeEach(function(to, from next){    // to 你要去哪    // from 你要从哪里来    // next() 你要去做什么 参数可以给路径  必须有，没有就不走})router.afterEach(function(to, from){    // to 你要去哪    // from 你从哪里来})to和from都是$route对象   路由的所有信息</code></pre><p></p><h2 id="node-js-npm-webpack-vue-cli-自带webpack"><a href="#node-js-npm-webpack-vue-cli-自带webpack" class="headerlink" title="node.js + npm + webpack + vue-cli(自带webpack)"></a>node.js + npm + webpack + vue-cli(自带webpack)</h2><pre><code>node.js / npm    - npm 管理工作目录        npm init -y    - 下载包        npm i xxx@0.0.0    - 卸载        npm uninstall xxx    - 更新        npm updata xxxwebpack  4    - 下载        npm i webpack webpack-cli    - 打包        webpack --mode development/production    - 打包默认的入口文件        src目录下的index.js    - 出口文件        dist目录的main.jswue-cli  2    - 帮助我们快速搭建项目的脚手架工具    - 下载        npm i vue-cli    - 用vue-cli帮助我们创建项目        vue init webpack xxxx(项目名称)    - 启动项目        cd xxxx(项目名称)        npm run dev    - 打吧包        npm run build</code></pre><h2 id="Vuex和axios"><a href="#Vuex和axios" class="headerlink" title="Vuex和axios"></a>Vuex和axios</h2><h3 id="Vuex"><a href="#Vuex" class="headerlink" title="Vuex"></a>Vuex</h3><pre><code>存放一些公共的东西,是一个仓库安装    npm i vuex配置    导入        import vuex from &quot;vuex&quot;    vue使用vuex        vue.use(vuex)    实例化仓库        new vuex.Store({            state: {},            getters: {},            mutations: {}        })    new Vue({        el: &apos;#app&apos;,        store,    })获取残仓库数据    this.$store.state.xxx    this.$store.getters.xxx改变仓库中的数据    组件向仓库提交修改事件        this.$store.commit(&quot;事件名称&quot;, data)    在仓库中的mutations中        mutations: {            &quot;事件名称&quot;: function(state, data){                修改state中的数据            }        }注意计算属性    仓库中的数据建议都放在计算属性中</code></pre><h3 id="axios"><a href="#axios" class="headerlink" title="axios"></a>axios</h3><pre><code>向后端服务器发送请求实现ajax技术的工具配置    下载        npm i axios    导入        import axios from “axios”    在vue的原型链中加入方法        Vue.prototype.#axios = axios发送请求    this.$axios.request({        url: &apos;&apos;,        method: &apos;&apos;,    }).then(function(){    }).catch(function(){    })</code></pre><h2 id="前后端的接通"><a href="#前后端的接通" class="headerlink" title="前后端的接通"></a>前后端的接通</h2><pre><code>后端设计一个接口前端通过axios发送请求拿到数据跨域问题</code></pre><h2 id="element-ui"><a href="#element-ui" class="headerlink" title="element-ui"></a>element-ui</h2><pre><code>按照文档安装，并研究如何使用</code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;vue总结&quot;&gt;&lt;a href=&quot;#vue总结&quot; class=&quot;headerlink&quot; title=&quot;vue总结&quot;&gt;&lt;/a&gt;vue总结&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;MVC  Model View Controller&lt;/p&gt;
&lt;/blockquote&gt;

      
    
    </summary>
    
      <category term="Vue" scheme="http://yoursite.com/categories/Vue/"/>
    
    
  </entry>
  
  <entry>
    <title>Vue组件系统</title>
    <link href="http://yoursite.com/2018/10/14/vue%E7%BB%84%E4%BB%B6%E7%B3%BB%E7%BB%9F/"/>
    <id>http://yoursite.com/2018/10/14/vue组件系统/</id>
    <published>2018-10-14T12:37:04.000Z</published>
    <updated>2018-11-15T06:36:47.011Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Vue组件系统之全局组件的注册"><a href="#Vue组件系统之全局组件的注册" class="headerlink" title="Vue组件系统之全局组件的注册"></a>Vue组件系统之全局组件的注册</h1><blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">'app'</span>&gt;</span></span><br><span class="line">&gt;<span class="tag">&lt;<span class="name">global-component</span>&gt;</span><span class="tag">&lt;/<span class="name">global-component</span>&gt;</span></span><br><span class="line">&gt;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">&gt;</span><br><span class="line">&gt;<span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">&gt;    // 注册</span></span><br><span class="line"><span class="undefined">&gt;    Vue.component(</span></span><br><span class="line"><span class="undefined">&gt;        // 第一个是组件名称  第二个object</span></span><br><span class="line"><span class="undefined">&gt;        "global-component", &#123;</span></span><br><span class="line"><span class="undefined">&gt;            // 组件内容  抱一个div-单个根元素</span></span><br><span class="line"><span class="xml">&gt;            template: `<span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span>&gt;</span>&#123;&#123; db &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span>`,</span></span><br><span class="line"><span class="undefined">&gt;            // data必须是函数</span></span><br><span class="line"><span class="undefined">&gt;            data()&#123;</span></span><br><span class="line"><span class="undefined">&gt;                // return中写数据</span></span><br><span class="line"><span class="undefined">&gt;                return &#123;</span></span><br><span class="line"><span class="undefined">&gt;                    db: 'hello',</span></span><br><span class="line"><span class="undefined">&gt;                &#125;</span></span><br><span class="line"><span class="undefined">&gt;            &#125;</span></span><br><span class="line"><span class="undefined">&gt;        &#125;</span></span><br><span class="line"><span class="undefined">&gt;    );</span></span><br><span class="line"><span class="undefined">&gt;    </span></span><br><span class="line"><span class="undefined">&gt;    new Vue(&#123;</span></span><br><span class="line"><span class="undefined">&gt;        el: '#app',</span></span><br><span class="line"><span class="xml">&gt;        // template: `<span class="tag">&lt;<span class="name">global-component</span>&gt;</span><span class="tag">&lt;/<span class="name">global-component</span>&gt;</span>`</span></span><br><span class="line"><span class="undefined">&gt;    &#125;)</span></span><br><span class="line"><span class="undefined">&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></blockquote><blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">'app'</span>&gt;</span></span><br><span class="line">&gt;</span><br><span class="line">&gt;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">&gt;</span><br><span class="line">&gt;<span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">&gt;    // 注册组件</span></span><br><span class="line"><span class="undefined">&gt;    Vue.component(</span></span><br><span class="line"><span class="undefined">&gt;        // 第一个是组件名称  第二个object</span></span><br><span class="line"><span class="undefined">&gt;        "global-component", &#123;</span></span><br><span class="line"><span class="undefined">&gt;            // 组件内容  抱一个div-单个根元素，包在app这个div中</span></span><br><span class="line"><span class="xml">&gt;            template: `<span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span>&gt;</span>&#123;&#123; db &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span>`,</span></span><br><span class="line"><span class="undefined">&gt;            // data必须是函数</span></span><br><span class="line"><span class="undefined">&gt;            data()&#123;</span></span><br><span class="line"><span class="undefined">&gt;                // return中写数据</span></span><br><span class="line"><span class="undefined">&gt;                return &#123;</span></span><br><span class="line"><span class="undefined">&gt;                    db: 'hello',</span></span><br><span class="line"><span class="undefined">&gt;                &#125;</span></span><br><span class="line"><span class="undefined">&gt;            &#125;</span></span><br><span class="line"><span class="undefined">&gt;        &#125;</span></span><br><span class="line"><span class="undefined">&gt;    );</span></span><br><span class="line"><span class="undefined">&gt;    </span></span><br><span class="line"><span class="undefined">&gt;    new Vue(&#123;</span></span><br><span class="line"><span class="undefined">&gt;        el: '#app',</span></span><br><span class="line"><span class="undefined">&gt;        // 根元素会替换div</span></span><br><span class="line"><span class="xml">&gt;        template: `<span class="tag">&lt;<span class="name">global-component</span>&gt;</span><span class="tag">&lt;/<span class="name">global-component</span>&gt;</span>`</span></span><br><span class="line"><span class="undefined">&gt;    &#125;)</span></span><br><span class="line"><span class="undefined">&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></blockquote><blockquote><p>全局组件</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&gt;// 总结</span><br><span class="line">&gt;Vue.component(</span><br><span class="line">&gt;        // 第一个是组件名称  第二个object</span><br><span class="line">&gt;        "global-component", &#123;</span><br><span class="line">&gt;            // 组件内容  抱一个div-单个根元素，包在app这个div中</span><br><span class="line">&gt;            template: `<span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span>&gt;</span>&#123;&#123; db &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span>`,</span><br><span class="line">&gt;            // data必须是函数</span><br><span class="line">&gt;            data()&#123;</span><br><span class="line">&gt;                // return中写数据</span><br><span class="line">&gt;                return &#123;</span><br><span class="line">&gt;                    db: 'hello',</span><br><span class="line">&gt;                &#125;,</span><br><span class="line">&gt;computed: &#123;&#125;,</span><br><span class="line">&gt;watch: &#123;&#125;,</span><br><span class="line">&gt;methods: &#123;&#125;,</span><br><span class="line">&gt;            &#125;</span><br><span class="line">&gt;        &#125;</span><br><span class="line">&gt;    );</span><br><span class="line">&gt;</span><br><span class="line">&gt;new Vue(&#123;</span><br><span class="line">&gt;        el: '#app',</span><br><span class="line">&gt;        // 根元素会替换div</span><br><span class="line">&gt;        template: `<span class="tag">&lt;<span class="name">global-component</span>&gt;</span><span class="tag">&lt;/<span class="name">global-component</span>&gt;</span>`</span><br><span class="line">&gt;    &#125;)</span><br><span class="line">&gt;</span><br><span class="line">&gt;// data 必须是函数</span><br><span class="line">&gt;// 没有属性</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></blockquote><h1 id="组件系统之组件的复用"><a href="#组件系统之组件的复用" class="headerlink" title="组件系统之组件的复用"></a>组件系统之组件的复用</h1><blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">'app'</span>&gt;</span></span><br><span class="line">&gt;<span class="tag">&lt;<span class="name">global-component</span>&gt;</span><span class="tag">&lt;/<span class="name">global-component</span>&gt;</span></span><br><span class="line">&gt;    <span class="tag">&lt;<span class="name">global-component</span>&gt;</span><span class="tag">&lt;/<span class="name">global-component</span>&gt;</span></span><br><span class="line">&gt;    <span class="tag">&lt;<span class="name">global-component</span>&gt;</span><span class="tag">&lt;/<span class="name">global-component</span>&gt;</span></span><br><span class="line">&gt;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">&gt;</span><br><span class="line">&gt;<span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">&gt;    // 注册</span></span><br><span class="line"><span class="undefined">&gt;    Vue.component(</span></span><br><span class="line"><span class="undefined">&gt;        // 第一个是组件名称  第二个object</span></span><br><span class="line"><span class="undefined">&gt;        "global-component", &#123;</span></span><br><span class="line"><span class="undefined">&gt;            // 组件内容  抱一个div-单个根元素</span></span><br><span class="line"><span class="xml">&gt;            template: `<span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span>&gt;</span>&#123;&#123; db &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span>`,</span></span><br><span class="line"><span class="undefined">&gt;            // data必须是函数</span></span><br><span class="line"><span class="undefined">&gt;            data()&#123;</span></span><br><span class="line"><span class="undefined">&gt;                // return中写数据</span></span><br><span class="line"><span class="undefined">&gt;                return &#123;</span></span><br><span class="line"><span class="undefined">&gt;                    db: 'hello',</span></span><br><span class="line"><span class="undefined">&gt;                &#125;</span></span><br><span class="line"><span class="undefined">&gt;            &#125;</span></span><br><span class="line"><span class="undefined">&gt;        &#125;</span></span><br><span class="line"><span class="undefined">&gt;    );</span></span><br><span class="line"><span class="undefined">&gt;    </span></span><br><span class="line"><span class="undefined">&gt;    new Vue(&#123;</span></span><br><span class="line"><span class="undefined">&gt;        el: '#app',</span></span><br><span class="line"><span class="undefined">&gt;        </span></span><br><span class="line"><span class="undefined">&gt;    &#125;)</span></span><br><span class="line"><span class="undefined">&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></blockquote><h1 id="组价系统之局部组件的注册"><a href="#组价系统之局部组件的注册" class="headerlink" title="组价系统之局部组件的注册"></a>组价系统之局部组件的注册</h1><blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">'app'</span>&gt;</span></span><br><span class="line">&gt;<span class="tag">&lt;<span class="name">app-header</span>&gt;</span><span class="tag">&lt;/<span class="name">app-header</span>&gt;</span></span><br><span class="line">&gt;   </span><br><span class="line">&gt;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">&gt;</span><br><span class="line">&gt;<span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">&gt;    let Header = &#123;</span></span><br><span class="line"><span class="xml">&gt;      template: `<span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span>&gt;</span>&#123;&#123; db &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span>`,</span></span><br><span class="line"><span class="undefined">&gt;        data()&#123;</span></span><br><span class="line"><span class="undefined">&gt;            return &#123;</span></span><br><span class="line"><span class="undefined">&gt;                    db: 'hello',</span></span><br><span class="line"><span class="undefined">&gt;                &#125;</span></span><br><span class="line"><span class="undefined">&gt;        &#125;,</span></span><br><span class="line"><span class="undefined">&gt;        computed: &#123;&#125;,</span></span><br><span class="line"><span class="undefined">&gt;    &#125;;</span></span><br><span class="line"><span class="undefined">&gt;    </span></span><br><span class="line"><span class="undefined">&gt;    new Vue(&#123;</span></span><br><span class="line"><span class="undefined">&gt;        el: '#app',</span></span><br><span class="line"><span class="xml">&gt;        template: `<span class="tag">&lt;<span class="name">app-header</span>&gt;</span><span class="tag">&lt;/<span class="name">app-header</span>&gt;</span>`,</span></span><br><span class="line"><span class="undefined">&gt;        components: &#123;</span></span><br><span class="line"><span class="undefined">&gt;            'app-header': Header</span></span><br><span class="line"><span class="undefined">&gt;        &#125;</span></span><br><span class="line"><span class="undefined">&gt;    &#125;)</span></span><br><span class="line"><span class="undefined">&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></blockquote><blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">'app'</span>&gt;</span></span><br><span class="line">&gt;    <span class="comment">&lt;!--&lt;App&gt;&lt;/App&gt;--&gt;</span>   </span><br><span class="line">&gt;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">&gt;</span><br><span class="line">&gt;<span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">&gt;    let Header = &#123;</span></span><br><span class="line"><span class="xml">&gt;      template: `<span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span>&gt;</span>&#123;&#123; db &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span>`,</span></span><br><span class="line"><span class="undefined">&gt;        data()&#123;</span></span><br><span class="line"><span class="undefined">&gt;            return &#123;</span></span><br><span class="line"><span class="undefined">&gt;                    db: 'hello',</span></span><br><span class="line"><span class="undefined">&gt;                &#125;</span></span><br><span class="line"><span class="undefined">&gt;        &#125;,</span></span><br><span class="line"><span class="undefined">&gt;        computed: &#123;&#125;,</span></span><br><span class="line"><span class="undefined">&gt;        // ...</span></span><br><span class="line"><span class="undefined">&gt;    &#125;;</span></span><br><span class="line"><span class="undefined">&gt;    // 在入口组件中注册写的局部组件</span></span><br><span class="line"><span class="undefined">&gt;    let App = &#123;</span></span><br><span class="line"><span class="undefined">&gt;        template: `</span></span><br><span class="line"><span class="xml">&gt;<span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">&gt;    <span class="tag">&lt;<span class="name">app-header</span>&gt;</span><span class="tag">&lt;/<span class="name">app-header</span>&gt;</span></span></span><br><span class="line"><span class="xml">&gt;    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="undefined">&gt;`,</span></span><br><span class="line"><span class="undefined">&gt;        components: &#123;</span></span><br><span class="line"><span class="undefined">&gt;            'app-header': Header</span></span><br><span class="line"><span class="undefined">&gt;        &#125;,</span></span><br><span class="line"><span class="undefined">&gt;        // 组件的私有数据</span></span><br><span class="line"><span class="undefined">&gt;        data()&#123;&#125;,</span></span><br><span class="line"><span class="undefined">&gt;    &#125;;</span></span><br><span class="line"><span class="undefined">&gt;    // 根实例</span></span><br><span class="line"><span class="undefined">&gt;    new Vue(&#123;</span></span><br><span class="line"><span class="undefined">&gt;        el: '#app',</span></span><br><span class="line"><span class="undefined">&gt;        // 作为根被渲染</span></span><br><span class="line"><span class="xml">&gt;        template: `<span class="tag">&lt;<span class="name">App</span>&gt;</span><span class="tag">&lt;/<span class="name">App</span>&gt;</span>`,</span></span><br><span class="line"><span class="undefined">&gt;        components: &#123;</span></span><br><span class="line"><span class="undefined">&gt;            // App:App,</span></span><br><span class="line"><span class="undefined">&gt;            App,</span></span><br><span class="line"><span class="undefined">&gt;        &#125;</span></span><br><span class="line"><span class="undefined">&gt;    &#125;)</span></span><br><span class="line"><span class="undefined">&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></blockquote><blockquote><p>局部组件</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&gt;- 总结</span><br><span class="line">&gt;</span><br><span class="line">&gt;创建组件</span><br><span class="line">&gt;创建局部组件，起始就是创建一个JavaScript object</span><br><span class="line">&gt;    let Header = &#123;</span><br><span class="line">&gt;      template: `<span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span>&gt;</span>&#123;&#123; db &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span>`,</span><br><span class="line">&gt;        data()&#123;</span><br><span class="line">&gt;            return &#123;</span><br><span class="line">&gt;                    db: 'hello',</span><br><span class="line">&gt;                &#125;</span><br><span class="line">&gt;        &#125;,</span><br><span class="line">&gt;        computed: &#123;&#125;,</span><br><span class="line">&gt;    &#125;;</span><br><span class="line">&gt;注册组件</span><br><span class="line">&gt;</span><br><span class="line">&gt;    new Vue(&#123;</span><br><span class="line">&gt;        el: '#app',</span><br><span class="line">&gt;        template: `<span class="tag">&lt;<span class="name">app-header</span>&gt;</span><span class="tag">&lt;/<span class="name">app-header</span>&gt;</span>`,</span><br><span class="line">&gt;        components: &#123;</span><br><span class="line">&gt;            'app-header': Header</span><br><span class="line">&gt;        &#125;</span><br><span class="line">&gt;    &#125;)</span><br><span class="line">&gt;</span><br><span class="line">&gt;组件可以嵌套使用</span><br><span class="line">&gt;</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></blockquote><blockquote></blockquote><h1 id="Vue组件系统之父子组件的通信"><a href="#Vue组件系统之父子组件的通信" class="headerlink" title="Vue组件系统之父子组件的通信"></a>Vue组件系统之父子组件的通信</h1><blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">'app'</span>&gt;</span></span><br><span class="line">&gt;   </span><br><span class="line">&gt;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">&gt;</span><br><span class="line">&gt;<span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">&gt;    // 子</span></span><br><span class="line"><span class="undefined">&gt;    let Header = &#123;</span></span><br><span class="line"><span class="undefined">&gt;      template: `&lt;div&gt;&lt;h3&gt;&#123;&#123; db &#125;&#125;&lt;/h3&gt;&lt;h3&gt;&#123;&#123; fData &#125;&#125;&lt;/h3&gt;&lt;&lt;/div&gt;`,</span></span><br><span class="line"><span class="undefined">&gt;        data()&#123;</span></span><br><span class="line"><span class="undefined">&gt;            return &#123;</span></span><br><span class="line"><span class="undefined">&gt;                    db: 'hello',</span></span><br><span class="line"><span class="undefined">&gt;                &#125;</span></span><br><span class="line"><span class="undefined">&gt;        &#125;,</span></span><br><span class="line"><span class="undefined">&gt;        // 接收父亲传来的数据</span></span><br><span class="line"><span class="undefined">&gt;        props:['fData'],</span></span><br><span class="line"><span class="undefined">&gt;        computed: &#123;&#125;,</span></span><br><span class="line"><span class="undefined">&gt;        // ...</span></span><br><span class="line"><span class="undefined">&gt;    &#125;;</span></span><br><span class="line"><span class="undefined">&gt;    // 在入口组件中注册写的局部组件</span></span><br><span class="line"><span class="undefined">&gt;    // 父</span></span><br><span class="line"><span class="undefined">&gt;    let App = &#123;</span></span><br><span class="line"><span class="undefined">&gt;        template: `</span></span><br><span class="line"><span class="xml">&gt;<span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">&gt;    <span class="tag">&lt;<span class="name">app-header</span> <span class="attr">v-bind:fData</span>=<span class="string">"fatherData"</span>&gt;</span><span class="tag">&lt;/<span class="name">app-header</span>&gt;</span></span></span><br><span class="line"><span class="xml">&gt;    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="undefined">&gt;`,</span></span><br><span class="line"><span class="undefined">&gt;        components: &#123;</span></span><br><span class="line"><span class="undefined">&gt;            'app-header': Header</span></span><br><span class="line"><span class="undefined">&gt;        &#125;,</span></span><br><span class="line"><span class="undefined">&gt;        // 组件的私有数据</span></span><br><span class="line"><span class="undefined">&gt;        data()&#123;</span></span><br><span class="line"><span class="undefined">&gt;            return &#123;fatherData: 0,&#125;</span></span><br><span class="line"><span class="undefined">&gt;        &#125;,</span></span><br><span class="line"><span class="undefined">&gt;    &#125;;</span></span><br><span class="line"><span class="undefined">&gt;    // 根实例</span></span><br><span class="line"><span class="undefined">&gt;    new Vue(&#123;</span></span><br><span class="line"><span class="undefined">&gt;        el: '#app',</span></span><br><span class="line"><span class="undefined">&gt;        // 作为根被渲染</span></span><br><span class="line"><span class="xml">&gt;        template: `<span class="tag">&lt;<span class="name">App</span>&gt;</span><span class="tag">&lt;/<span class="name">App</span>&gt;</span>`,</span></span><br><span class="line"><span class="undefined">&gt;        components: &#123;</span></span><br><span class="line"><span class="undefined">&gt;            // App:App,</span></span><br><span class="line"><span class="undefined">&gt;            App,</span></span><br><span class="line"><span class="undefined">&gt;        &#125;</span></span><br><span class="line"><span class="undefined">&gt;    &#125;)</span></span><br><span class="line"><span class="undefined">&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></blockquote><h1 id="Vue组件系统之子父组件的通信"><a href="#Vue组件系统之子父组件的通信" class="headerlink" title="Vue组件系统之子父组件的通信"></a>Vue组件系统之子父组件的通信</h1><blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">'app'</span>&gt;</span></span><br><span class="line">&gt;<span class="tag">&lt;/<span class="name">dic</span>&gt;</span></span><br><span class="line">&gt;</span><br><span class="line">&gt;<span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">&gt;    // 子</span></span><br><span class="line"><span class="undefined">&gt;    let Header = &#123;</span></span><br><span class="line"><span class="xml">&gt;      template: `<span class="tag">&lt;<span class="name">div</span>&gt;</span> </span></span><br><span class="line"><span class="xml">&gt;<span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">'sonClick'</span>&gt;</span>点击改变字体大小<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">&gt;    <span class="tag">&lt;/<span class="name">div</span>&gt;</span>`,</span></span><br><span class="line"><span class="undefined">&gt;        methods: &#123;</span></span><br><span class="line"><span class="undefined">&gt;            sonClick: function()&#123;</span></span><br><span class="line"><span class="undefined">&gt;                // 儿子的的行为传给父亲</span></span><br><span class="line"><span class="undefined">&gt;                this.$emit("change-size", 0.1)</span></span><br><span class="line"><span class="undefined">&gt;            &#125;  </span></span><br><span class="line"><span class="undefined">&gt;        &#125;,</span></span><br><span class="line"><span class="undefined">&gt;        computed: &#123;&#125;,</span></span><br><span class="line"><span class="undefined">&gt;        // ...</span></span><br><span class="line"><span class="undefined">&gt;    &#125;;</span></span><br><span class="line"><span class="undefined">&gt;    // 父</span></span><br><span class="line"><span class="undefined">&gt;    let App = &#123;</span></span><br><span class="line"><span class="undefined">&gt;        template: `</span></span><br><span class="line"><span class="xml">&gt;<span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">&gt;    <span class="tag">&lt;<span class="name">span</span> <span class="attr">:style</span>=<span class="string">"&#123; fontSize: postFontSize + 'em' &#125;"</span>&gt;</span>我是字体<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="xml">&gt;    <span class="tag">&lt;<span class="name">app-header</span> <span class="attr">v-on:change-size</span>=<span class="string">"fatherClick"</span>&gt;</span><span class="tag">&lt;/<span class="name">app-header</span>&gt;</span></span></span><br><span class="line"><span class="xml">&gt;    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="undefined">&gt;`,</span></span><br><span class="line"><span class="undefined">&gt;        components: &#123;</span></span><br><span class="line"><span class="undefined">&gt;            'app-header': Header</span></span><br><span class="line"><span class="undefined">&gt;        &#125;,</span></span><br><span class="line"><span class="undefined">&gt;        // 组件的私有数据</span></span><br><span class="line"><span class="undefined">&gt;        data()&#123;</span></span><br><span class="line"><span class="undefined">&gt;            return &#123;</span></span><br><span class="line"><span class="undefined">&gt;                postFontSize: 1,</span></span><br><span class="line"><span class="undefined">&gt;            &#125;</span></span><br><span class="line"><span class="undefined">&gt;        &#125;,</span></span><br><span class="line"><span class="undefined">&gt;        methods: &#123;</span></span><br><span class="line"><span class="undefined">&gt;            // 自己定义的change-size事件，一直在监听，等着儿子传来的信息</span></span><br><span class="line"><span class="undefined">&gt;            fatherClick: function(value)&#123;</span></span><br><span class="line"><span class="undefined">&gt;                this.postFontSize += value;</span></span><br><span class="line"><span class="undefined">&gt;            &#125;</span></span><br><span class="line"><span class="undefined">&gt;        &#125;</span></span><br><span class="line"><span class="undefined">&gt;    &#125;;</span></span><br><span class="line"><span class="undefined">&gt;    // 根实例</span></span><br><span class="line"><span class="undefined">&gt;    new Vue(&#123;</span></span><br><span class="line"><span class="undefined">&gt;        el: '#app',</span></span><br><span class="line"><span class="undefined">&gt;        // 作为根被渲染</span></span><br><span class="line"><span class="xml">&gt;        template: `<span class="tag">&lt;<span class="name">App</span>&gt;</span><span class="tag">&lt;/<span class="name">App</span>&gt;</span>`,</span></span><br><span class="line"><span class="undefined">&gt;        components: &#123;</span></span><br><span class="line"><span class="undefined">&gt;            // App:App,</span></span><br><span class="line"><span class="undefined">&gt;            App,</span></span><br><span class="line"><span class="undefined">&gt;        &#125;</span></span><br><span class="line"><span class="undefined">&gt;    &#125;)</span></span><br><span class="line"><span class="undefined">&gt;    </span></span><br><span class="line"><span class="undefined">&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></blockquote><h1 id="Vue组件系统之混入（mixin）"><a href="#Vue组件系统之混入（mixin）" class="headerlink" title="Vue组件系统之混入（mixin）"></a>Vue组件系统之混入（mixin）</h1><blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">'app'</span>&gt;</span></span><br><span class="line">&gt;<span class="tag">&lt;/<span class="name">dic</span>&gt;</span></span><br><span class="line">&gt;<span class="tag">&lt;<span class="name">my-header</span>&gt;</span><span class="tag">&lt;/<span class="name">my-header</span>&gt;</span></span><br><span class="line">&gt;        <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&gt;        <span class="tag">&lt;<span class="name">my-app</span>&gt;</span><span class="tag">&lt;/<span class="name">my-app</span>&gt;</span></span><br><span class="line">&gt;<span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">&gt;    let Header = &#123;</span></span><br><span class="line"><span class="xml">&gt;      template: `<span class="tag">&lt;<span class="name">div</span>&gt;</span> </span></span><br><span class="line"><span class="xml">&gt;<span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">'show('</span><span class="attr">xxx</span>')'&gt;</span>点击显示xxx来了<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">&gt;<span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">'hide('</span><span class="attr">xxx</span>')'&gt;</span>点击显示xxx去了<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">&gt;    <span class="tag">&lt;/<span class="name">div</span>&gt;</span>`,</span></span><br><span class="line"><span class="undefined">&gt;        methods: &#123;</span></span><br><span class="line"><span class="undefined">&gt;            show: function(name)&#123;</span></span><br><span class="line"><span class="undefined">&gt;                console.log(name+'来了');</span></span><br><span class="line"><span class="undefined">&gt;            &#125;,</span></span><br><span class="line"><span class="undefined">&gt;            hide: function(name)&#123;</span></span><br><span class="line"><span class="undefined">&gt;                console.log(name+'来了');</span></span><br><span class="line"><span class="undefined">&gt;            &#125;,</span></span><br><span class="line"><span class="undefined">&gt;        &#125;,</span></span><br><span class="line"><span class="undefined">&gt;    &#125;;</span></span><br><span class="line"><span class="undefined">&gt;    let App = &#123;</span></span><br><span class="line"><span class="undefined">&gt;        template: `</span></span><br><span class="line"><span class="xml">&gt;<span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">&gt;    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">mouseenter</span>=<span class="string">'show('</span><span class="attr">000</span>')'&gt;</span>点击显示000来了<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">&gt;<span class="tag">&lt;<span class="name">button</span> @<span class="attr">mouseleve</span>=<span class="string">'hide('</span><span class="attr">000</span>')'&gt;</span>点击显示000去了<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">&gt;    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="undefined">&gt;`,</span></span><br><span class="line"><span class="undefined">&gt;        methods: &#123;</span></span><br><span class="line"><span class="undefined">&gt;            show: function(name)&#123;</span></span><br><span class="line"><span class="undefined">&gt;                console.log(name+'来了');</span></span><br><span class="line"><span class="undefined">&gt;            &#125;,</span></span><br><span class="line"><span class="undefined">&gt;            hide: function(name)&#123;</span></span><br><span class="line"><span class="undefined">&gt;                console.log(name+'来了');</span></span><br><span class="line"><span class="undefined">&gt;            &#125;,</span></span><br><span class="line"><span class="undefined">&gt;        &#125;</span></span><br><span class="line"><span class="undefined">&gt;    &#125;;</span></span><br><span class="line"><span class="undefined">&gt;    // 根实例</span></span><br><span class="line"><span class="undefined">&gt;    new Vue(&#123;</span></span><br><span class="line"><span class="undefined">&gt;        el: '#app',</span></span><br><span class="line"><span class="undefined">&gt;        components: &#123;</span></span><br><span class="line"><span class="undefined">&gt;            "my-header": Header,</span></span><br><span class="line"><span class="undefined">&gt;            "my-app": App,</span></span><br><span class="line"><span class="undefined">&gt;        &#125;</span></span><br><span class="line"><span class="undefined">&gt;    &#125;)</span></span><br><span class="line"><span class="undefined">&gt;    </span></span><br><span class="line"><span class="undefined">&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></blockquote><blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">'app'</span>&gt;</span></span><br><span class="line">&gt;    <span class="tag">&lt;<span class="name">my-header</span>&gt;</span><span class="tag">&lt;/<span class="name">my-header</span>&gt;</span></span><br><span class="line">&gt;        <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&gt;        <span class="tag">&lt;<span class="name">my-app</span>&gt;</span><span class="tag">&lt;/<span class="name">my-app</span>&gt;</span></span><br><span class="line">&gt;<span class="tag">&lt;/<span class="name">dic</span>&gt;</span></span><br><span class="line">&gt;</span><br><span class="line">&gt;<span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">&gt;    let mixs = &#123;</span></span><br><span class="line"><span class="undefined">&gt;        methods:&#123;</span></span><br><span class="line"><span class="undefined">&gt;            show: function(name)&#123;</span></span><br><span class="line"><span class="undefined">&gt;                    console.log(name+'来了');</span></span><br><span class="line"><span class="undefined">&gt;                &#125;,</span></span><br><span class="line"><span class="undefined">&gt;            hide: function(name)&#123;</span></span><br><span class="line"><span class="undefined">&gt;                    console.log(name+'来了');</span></span><br><span class="line"><span class="undefined">&gt;                &#125;,</span></span><br><span class="line"><span class="undefined">&gt;        &#125;</span></span><br><span class="line"><span class="undefined">&gt;    &#125;</span></span><br><span class="line"><span class="undefined">&gt;    let Header = &#123;</span></span><br><span class="line"><span class="xml">&gt;      template: `<span class="tag">&lt;<span class="name">div</span>&gt;</span> </span></span><br><span class="line"><span class="xml">&gt;<span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">'show('</span><span class="attr">xxx</span>')'&gt;</span>点击显示xxx来了<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">&gt;<span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">'hide('</span><span class="attr">xxx</span>')'&gt;</span>点击显示xxx去了<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">&gt;    <span class="tag">&lt;/<span class="name">div</span>&gt;</span>`,</span></span><br><span class="line"><span class="undefined">&gt;        mixins: [mixs],</span></span><br><span class="line"><span class="undefined">&gt;    &#125;;</span></span><br><span class="line"><span class="undefined">&gt;    let App = &#123;</span></span><br><span class="line"><span class="undefined">&gt;        template: `</span></span><br><span class="line"><span class="xml">&gt;<span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">&gt;    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">mouseenter</span>=<span class="string">'show("000")'</span>&gt;</span>点击显示000来了<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">&gt;<span class="tag">&lt;<span class="name">button</span> @<span class="attr">mouseleve</span>=<span class="string">'hide("000")'</span>&gt;</span>点击显示000去了<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">&gt;    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="undefined">&gt;`,</span></span><br><span class="line"><span class="undefined">&gt;        mixins: [mixs],</span></span><br><span class="line"><span class="undefined">&gt;    &#125;;</span></span><br><span class="line"><span class="undefined">&gt;    // 根实例</span></span><br><span class="line"><span class="undefined">&gt;    new Vue(&#123;</span></span><br><span class="line"><span class="undefined">&gt;        el: '#app',</span></span><br><span class="line"><span class="undefined">&gt;        components: &#123;</span></span><br><span class="line"><span class="undefined">&gt;            "my-header": Header,</span></span><br><span class="line"><span class="undefined">&gt;            "my-app": App,</span></span><br><span class="line"><span class="undefined">&gt;        &#125;</span></span><br><span class="line"><span class="undefined">&gt;    &#125;)</span></span><br><span class="line"><span class="undefined">&gt;    </span></span><br><span class="line"><span class="undefined">&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></blockquote><blockquote></blockquote><h1 id="Vue组件系统之插槽"><a href="#Vue组件系统之插槽" class="headerlink" title="Vue组件系统之插槽"></a>Vue组件系统之插槽<slot></slot></h1><blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&gt;- 内容分发</span><br><span class="line">&gt;<span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">&gt;    .box &#123;</span></span><br><span class="line"><span class="undefined">&gt;        width: 50px;</span></span><br><span class="line"><span class="undefined">&gt;        height: 50px;</span></span><br><span class="line"><span class="undefined">&gt;        float: left;</span></span><br><span class="line"><span class="undefined">&gt;    &#125;</span></span><br><span class="line"><span class="undefined">&gt;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">&gt;<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">'app'</span>&gt;</span></span><br><span class="line">&gt;<span class="tag">&lt;<span class="name">global-component</span>&gt;</span>首页<span class="tag">&lt;/<span class="name">global-component</span>&gt;</span></span><br><span class="line">&gt;    <span class="tag">&lt;<span class="name">global-component</span>&gt;</span>免费<span class="tag">&lt;/<span class="name">global-component</span>&gt;</span></span><br><span class="line">&gt;    <span class="tag">&lt;<span class="name">global-component</span>&gt;</span>收费<span class="tag">&lt;/<span class="name">global-component</span>&gt;</span></span><br><span class="line">&gt;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">&gt;</span><br><span class="line">&gt;<span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">&gt;    // 注册全局组件</span></span><br><span class="line"><span class="undefined">&gt;    Vue.component(</span></span><br><span class="line"><span class="undefined">&gt;        "global-component", &#123;</span></span><br><span class="line"><span class="xml">&gt;            template: `<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span><span class="tag">&lt;<span class="name">slot</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span>`,</span></span><br><span class="line"><span class="undefined">&gt;        &#125;</span></span><br><span class="line"><span class="undefined">&gt;    );</span></span><br><span class="line"><span class="undefined">&gt;    </span></span><br><span class="line"><span class="undefined">&gt;    new Vue(&#123;</span></span><br><span class="line"><span class="undefined">&gt;        el: '#app',</span></span><br><span class="line"><span class="undefined">&gt;    &#125;)</span></span><br><span class="line"><span class="undefined">&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></blockquote><h1 id="Vue组件系统之具名插槽"><a href="#Vue组件系统之具名插槽" class="headerlink" title="Vue组件系统之具名插槽"></a>Vue组件系统之具名插槽</h1><blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">&gt;    .box &#123;</span></span><br><span class="line"><span class="undefined">&gt;        width: 50px;</span></span><br><span class="line"><span class="undefined">&gt;        height: 50px;</span></span><br><span class="line"><span class="undefined">&gt;        float: left;</span></span><br><span class="line"><span class="undefined">&gt;    &#125;</span></span><br><span class="line"><span class="undefined">&gt;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">&gt;<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">'app'</span>&gt;</span></span><br><span class="line">&gt;<span class="tag">&lt;<span class="name">global-component</span>&gt;</span></span><br><span class="line">&gt;    <span class="tag">&lt;<span class="name">div</span> <span class="attr">slot</span>=<span class="string">'home'</span>&gt;</span>首页<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">&gt;        <span class="tag">&lt;<span class="name">div</span> <span class="attr">slot</span>=<span class="string">'free'</span>&gt;</span>免费<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">&gt;        <span class="tag">&lt;<span class="name">div</span> <span class="attr">slot</span>=<span class="string">'toll'</span>&gt;</span>收费<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">&gt;    <span class="tag">&lt;/<span class="name">global-component</span>&gt;</span></span><br><span class="line">&gt;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">&gt;</span><br><span class="line">&gt;<span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">&gt;    // 注册全局组件</span></span><br><span class="line"><span class="undefined">&gt;    Vue.component(</span></span><br><span class="line"><span class="undefined">&gt;        "global-component", &#123;</span></span><br><span class="line"><span class="xml">&gt;            template: `<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span></span></span><br><span class="line"><span class="xml">&gt;<span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">"home"</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span></span><br><span class="line"><span class="xml">&gt;<span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">"free"</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span></span><br><span class="line"><span class="xml">&gt;<span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">"toll"</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span></span><br><span class="line"><span class="xml">&gt;    <span class="tag">&lt;/<span class="name">div</span>&gt;</span>`,</span></span><br><span class="line"><span class="undefined">&gt;        &#125;</span></span><br><span class="line"><span class="undefined">&gt;    );</span></span><br><span class="line"><span class="undefined">&gt;    </span></span><br><span class="line"><span class="undefined">&gt;    new Vue(&#123;</span></span><br><span class="line"><span class="undefined">&gt;        el: '#app',</span></span><br><span class="line"><span class="undefined">&gt;    &#125;)</span></span><br><span class="line"><span class="undefined">&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Vue组件系统之全局组件的注册&quot;&gt;&lt;a href=&quot;#Vue组件系统之全局组件的注册&quot; class=&quot;headerlink&quot; title=&quot;Vue组件系统之全局组件的注册&quot;&gt;&lt;/a&gt;Vue组件系统之全局组件的注册&lt;/h1&gt;&lt;blockquote&gt;
&lt;figure 
      
    
    </summary>
    
      <category term="Vue" scheme="http://yoursite.com/categories/Vue/"/>
    
    
  </entry>
  
  <entry>
    <title>权限管理的三级菜单的流程</title>
    <link href="http://yoursite.com/2018/08/14/%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E7%BB%84%E4%BB%B6%E6%B5%81%E7%A8%8B%E5%A4%A7%E6%80%BB%E7%BB%93/"/>
    <id>http://yoursite.com/2018/08/14/权限管理组件流程大总结/</id>
    <published>2018-08-14T08:34:44.000Z</published>
    <updated>2018-11-15T06:39:17.433Z</updated>
    
    <content type="html"><![CDATA[<h1 id="权限管理的三级菜单的流程"><a href="#权限管理的三级菜单的流程" class="headerlink" title="权限管理的三级菜单的流程"></a>权限管理的三级菜单的流程</h1><blockquote><p>权限控制</p><ul><li><p>url代表了权限</p></li><li><p>表结构（6张表，ORM创建4个类，两个many2many会自动再生成两张表）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&gt;  用户表</span><br><span class="line">&gt;  用户名</span><br><span class="line">&gt;  密码</span><br><span class="line">&gt;  多对多 roles(角色)</span><br><span class="line">&gt;  角色表</span><br><span class="line">&gt;  标题 title</span><br><span class="line">&gt;  多对多 permission(权限)</span><br><span class="line">&gt;  权限表</span><br><span class="line">&gt;  标题 title</span><br><span class="line">&gt;  权限 url</span><br><span class="line">&gt;  URL别名 name    - 设置唯一(方便为了将权限粒度控制到按钮级别)</span><br><span class="line">&gt;  外键 menu(菜单)</span><br><span class="line">&gt;  外键 permission(self自己)</span><br><span class="line">&gt;  菜单表</span><br><span class="line">&gt;  标题 title</span><br><span class="line">&gt;  图标 icon</span><br><span class="line">&gt;  权重 weight</span><br><span class="line">&gt;  用户和角色关系表</span><br><span class="line">&gt;  角色和权限的关系表</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></li></ul></blockquote><blockquote><blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">&gt;  &gt;from django.db import models</span><br><span class="line">&gt;  &gt;</span><br><span class="line">&gt;  &gt;</span><br><span class="line">&gt;  &gt;class Menu(models.Model):</span><br><span class="line">&gt;  &gt;    &quot;&quot;&quot;</span><br><span class="line">&gt;  &gt;    一级菜单</span><br><span class="line">&gt;  &gt;    &quot;&quot;&quot;</span><br><span class="line">&gt;  &gt;    title = models.CharField(max_length=32, verbose_name=&apos;标题&apos;, unique=True)  # 一级菜单的名字</span><br><span class="line">&gt;  &gt;    icon = models.CharField(max_length=32, verbose_name=&apos;图标&apos;, null=True, blank=True)</span><br><span class="line">&gt;  &gt;    weight = models.IntegerField(verbose_name=&apos;权重&apos;, default=1)</span><br><span class="line">&gt;  &gt;</span><br><span class="line">&gt;  &gt;    class Meta:</span><br><span class="line">&gt;  &gt;        verbose_name_plural = &apos;菜单表&apos;</span><br><span class="line">&gt;  &gt;        verbose_name = &apos;菜单表&apos;</span><br><span class="line">&gt;  &gt;</span><br><span class="line">&gt;  &gt;    def __str__(self):</span><br><span class="line">&gt;  &gt;        return self.title</span><br><span class="line">&gt;  &gt;</span><br><span class="line">&gt;  &gt;</span><br><span class="line">&gt;  &gt;class Permission(models.Model):</span><br><span class="line">&gt;  &gt;    &quot;&quot;&quot;</span><br><span class="line">&gt;  &gt;    权限表</span><br><span class="line">&gt;  &gt;    有关联Menu的二级菜单</span><br><span class="line">&gt;  &gt;    没有关联Menu的不是二级菜单，是不可以做菜单的权限</span><br><span class="line">&gt;  &gt;    &quot;&quot;&quot;</span><br><span class="line">&gt;  &gt;    title = models.CharField(max_length=32, verbose_name=&apos;标题&apos;)</span><br><span class="line">&gt;  &gt;    url = models.CharField(max_length=32, verbose_name=&apos;权限&apos;)</span><br><span class="line">&gt;  &gt;    menu = models.ForeignKey(&apos;Menu&apos;, null=True, blank=True, verbose_name=&apos;菜单&apos;)</span><br><span class="line">&gt;  &gt;    # 该权限关联的其他权限是否也是在当前url上展示</span><br><span class="line">&gt;  &gt;    parent = models.ForeignKey(to=&apos;Permission&apos;, null=True, blank=True, verbose_name=&apos;父权限&apos;)</span><br><span class="line">&gt;  &gt;</span><br><span class="line">&gt;  &gt;    name = models.CharField(max_length=32, null=True, blank=True, unique=True, verbose_name=&apos;权限的别名&apos;)</span><br><span class="line">&gt;  &gt;</span><br><span class="line">&gt;  &gt;    class Meta:</span><br><span class="line">&gt;  &gt;        verbose_name_plural = &apos;权限表&apos;</span><br><span class="line">&gt;  &gt;        verbose_name = &apos;权限表&apos;</span><br><span class="line">&gt;  &gt;</span><br><span class="line">&gt;  &gt;    def __str__(self):</span><br><span class="line">&gt;  &gt;        return self.title</span><br><span class="line">&gt;  &gt;</span><br><span class="line">&gt;  &gt;</span><br><span class="line">&gt;  &gt;class Role(models.Model):</span><br><span class="line">&gt;  &gt;    name = models.CharField(max_length=32, verbose_name=&apos;角色名称&apos;)</span><br><span class="line">&gt;  &gt;    permissions = models.ManyToManyField(to=&apos;Permission&apos;, verbose_name=&apos;角色所拥有的权限&apos;, blank=True)</span><br><span class="line">&gt;  &gt;</span><br><span class="line">&gt;  &gt;    def __str__(self):</span><br><span class="line">&gt;  &gt;        return self.name</span><br><span class="line">&gt;  &gt;</span><br><span class="line">&gt;  &gt;</span><br><span class="line">&gt;  &gt;class User(models.Model):</span><br><span class="line">&gt;  &gt;    &quot;&quot;&quot;</span><br><span class="line">&gt;  &gt;    用户表</span><br><span class="line">&gt;  &gt;    &quot;&quot;&quot;</span><br><span class="line">&gt;  &gt;    name = models.CharField(max_length=32, verbose_name=&apos;用户名&apos;)</span><br><span class="line">&gt;  &gt;    password = models.CharField(max_length=32, verbose_name=&apos;密码&apos;)</span><br><span class="line">&gt;  &gt;    roles = models.ManyToManyField(to=&apos;Role&apos;, verbose_name=&apos;用户所拥有的角色&apos;, blank=True)</span><br><span class="line">&gt;  &gt;</span><br><span class="line">&gt;  &gt;    def __str__(self):</span><br><span class="line">&gt;  &gt;        return self.name</span><br><span class="line">&gt;  &gt;</span><br><span class="line">&gt;  &gt;</span><br></pre></td></tr></table></figure></blockquote></blockquote><blockquote><ul><li><p>流程梳理</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&gt;  - 当一个url回车发出这个请求后，给到server端先判断这个请求url是不是有访问的权限</span><br><span class="line">&gt;    这个时候我们设置了白名单(在中间件这里(因为一开始就要判断身份))，如果是白名单</span><br><span class="line">&gt;    谁都可以访问</span><br><span class="line">&gt;    eg：</span><br><span class="line">&gt;      PERMISSION_SESSION_KEY = &apos;permissions&apos;</span><br><span class="line">&gt;      MENU_SESSION_KEY = &apos;menus&apos;</span><br><span class="line">&gt;      WHITE_URL_LIST = [</span><br><span class="line">&gt;          r&apos;^/login/$&apos;,</span><br><span class="line">&gt;          r&apos;^/logout/$&apos;,</span><br><span class="line">&gt;          r&apos;^/reg/$&apos;,</span><br><span class="line">&gt;          r&apos;^/admin/.*&apos;,</span><br><span class="line">&gt;      ]</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></li></ul></blockquote><blockquote> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;  - 这时用户登录，如果登录成功</span><br><span class="line">&gt;    不同的用户对应不同的权限，也就是可以访问不同的url</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></blockquote><blockquote> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&gt;  - 登录成功，(权限信息的初始化)</span><br><span class="line">&gt;    我们该做的就是拿到这个用户对应的权限信息 - ORM(用户信息-角色-权限-菜单)</span><br><span class="line">&gt;    # user = models.User.objects.filter(name=username, password=pwd).first()</span><br><span class="line">&gt;    permission_query = user.roles.filter(permissions__url__isnull=False).values(</span><br><span class="line">&gt;          &apos;permissions__url&apos;,  # 权限url</span><br><span class="line">&gt;          &apos;permissions__title&apos;,  # 权限的标题</span><br><span class="line">&gt;          &apos;permissions__id&apos;,  # 权限的id</span><br><span class="line">&gt;          &apos;permissions__name&apos;,  # 权限的别名</span><br><span class="line">&gt;          &apos;permissions__parent_id&apos;,  # 此权限对应的父权限的id</span><br><span class="line">&gt;          &apos;permissions__parent__name&apos;,  # 次权限对应的父权限的别名</span><br><span class="line">&gt;          &apos;permissions__menu_id&apos;,  # 此权限对应的菜单id</span><br><span class="line">&gt;          &apos;permissions__menu__title&apos;,  # 此权限对应的菜单标题</span><br><span class="line">&gt;          &apos;permissions__menu__icon&apos;,  # 此权限对应的菜单的图标</span><br><span class="line">&gt;          &apos;permissions__menu__weight&apos;,  # 表单排序用的</span><br><span class="line">&gt;      ).distinct()</span><br><span class="line">&gt;    数据结构(字典)</span><br><span class="line">&gt;    permission_dict来存储此权限信息</span><br><span class="line">&gt;    menu_dict来存储菜单信息</span><br><span class="line">&gt;    permission_dict = &#123;</span><br><span class="line">&gt;        &apos;URL的别名&apos;：&#123;&apos;url&apos;,&apos;title&apos;,&apos;id&apos;,&apos;pid&apos;,&apos;pname&apos; &#125;</span><br><span class="line">&gt;    &#125;</span><br><span class="line">&gt;    menu_list = &#123;</span><br><span class="line">&gt;        &apos;菜单ID&apos;：&#123;</span><br><span class="line">&gt;  &apos;title&apos;: 一级菜单的标题，</span><br><span class="line">&gt;  &apos;icon&apos;: 一级菜单的图标，</span><br><span class="line">&gt;  &apos;weight&apos;: 权重，</span><br><span class="line">&gt;  &apos;children&apos;: [</span><br><span class="line">&gt;  &#123;&apos;url&apos;,&apos;title&apos;,&apos;id&apos;,&#125;</span><br><span class="line">&gt;  ]</span><br><span class="line">&gt;  &#125;</span><br><span class="line">&gt;    &#125;</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></blockquote><blockquote> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt;  权限信息存的就是：</span><br><span class="line">&gt;  当前这个权限的是谁，他的id多少，他的标题是什么，他的父权限是谁(id)，他的父权限的别名是什么</span><br><span class="line">&gt;  菜单信息存的就是：</span><br><span class="line">&gt;  这个权限(url)对应的菜单的标题是什么，菜单的图标是什么，权重是多少，他对应的二级菜单是哪些</span><br><span class="line">&gt;  二级菜单(children)也就是，对应的权限信息</span><br><span class="line">&gt;  这里面存的也就是他的权限信息(他的title，url，id，parent_id)</span><br><span class="line">&gt;  将所有的权限遍历一遍后，将这些信息存入session中</span><br><span class="line">&gt;  为什么存入session，是因为session可以配置(放入缓存，访问次数比较多，所有存到缓存比较好)</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></blockquote><blockquote> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&gt;  # 遍历此用户对应的权限信息</span><br><span class="line">&gt;  for item in permission_query:</span><br><span class="line">&gt;  # 首先是权限信息，以权限的别名为键</span><br><span class="line">&gt;          permission_dict[item[&apos;permissions__name&apos;]] = (&#123;</span><br><span class="line">&gt;              &apos;url&apos;: item[&apos;permissions__url&apos;],</span><br><span class="line">&gt;              &apos;id&apos;: item[&apos;permissions__id&apos;],</span><br><span class="line">&gt;              &apos;parent_id&apos;: item[&apos;permissions__parent_id&apos;],</span><br><span class="line">&gt;              &apos;parent_name&apos;: item[&apos;permissions__parent__name&apos;],</span><br><span class="line">&gt;              &apos;title&apos;: item[&apos;permissions__title&apos;],</span><br><span class="line">&gt;          &#125;)</span><br><span class="line">&gt;          menu_id = item.get(&apos;permissions__menu_id&apos;)</span><br><span class="line">&gt;          if not menu_id:</span><br><span class="line">&gt;              continue</span><br><span class="line">&gt;          if menu_id not in menu_dict:</span><br><span class="line">&gt;              menu_dict[menu_id] = &#123;</span><br><span class="line">&gt;                  &apos;title&apos;: item[&apos;permissions__menu__title&apos;],</span><br><span class="line">&gt;                  &apos;icon&apos;: item[&apos;permissions__menu__icon&apos;],</span><br><span class="line">&gt;                  &apos;weight&apos;: item[&apos;permissions__menu__weight&apos;],</span><br><span class="line">&gt;                  &apos;children&apos;: [</span><br><span class="line">&gt;                      &#123;</span><br><span class="line">&gt;                          &apos;title&apos;: item[&apos;permissions__title&apos;],</span><br><span class="line">&gt;                          &apos;url&apos;: item[&apos;permissions__url&apos;],</span><br><span class="line">&gt;                          &apos;id&apos;: item[&apos;permissions__id&apos;],</span><br><span class="line">&gt;                          &apos;parent_id&apos;: item[&apos;permissions__parent_id&apos;],</span><br><span class="line">&gt;                      &#125;</span><br><span class="line">&gt;                  ]</span><br><span class="line">&gt;              &#125;</span><br><span class="line">&gt;          else:</span><br><span class="line">&gt;              menu_dict[menu_id][&apos;children&apos;].append(</span><br><span class="line">&gt;                  &#123;</span><br><span class="line">&gt;                      &apos;title&apos;: item[&apos;permissions__title&apos;],</span><br><span class="line">&gt;                      &apos;url&apos;: item[&apos;permissions__url&apos;],</span><br><span class="line">&gt;                      &apos;id&apos;: item[&apos;permissions__id&apos;],</span><br><span class="line">&gt;                      &apos;parent_id&apos;: item[&apos;permissions__parent_id&apos;],</span><br><span class="line">&gt;                  &#125;)</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></blockquote><blockquote> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">&gt;  - 登录成功后，信息存入session后，这时给服务器发送一个请求，这时就会走中间件进行权限的校验</span><br><span class="line">&gt;  </span><br><span class="line">&gt;  - 走中间件process_request(self, request):</span><br><span class="line">&gt;  - 先获取这个请求的url   request.path_info</span><br><span class="line">&gt;  刚开始也先判断白名单， 白名单不符合从session中获取这个用户存的权限信息</span><br><span class="line">&gt;  permission_dict = request.session.get(settings.PERMISSION_SESSION_KEY)</span><br><span class="line">&gt;  - 导航栏可以存这里  - 写了一个inclution_tag来处理</span><br><span class="line">&gt;  request.breadcrumd_list = [</span><br><span class="line">&gt;              &#123;&quot;title&quot;: &apos;首页&apos;, &apos;url&apos;: &apos;#&apos;&#125;,</span><br><span class="line">&gt;          ]</span><br><span class="line">&gt;          @register.inclusion_tag(&apos;rbac/breadcrumbs.html&apos;)</span><br><span class="line">&gt;  def breadcrumb(request):</span><br><span class="line">&gt;      return &#123;&quot;breadcrumd_list&quot;: request.breadcrumd_list&#125;</span><br><span class="line">&gt;  - 遍历这个权限信息</span><br><span class="line">&gt;  可以通过正则匹配，匹配他是不是该用户的权限</span><br><span class="line">&gt;  如果匹配成功看他是否由parent_id有是子权限没有是父权限</span><br><span class="line">&gt;  </span><br><span class="line">&gt;  if parent_id:</span><br><span class="line">&gt;          # 表示当前权限是子权限，让父权限是展开</span><br><span class="line">&gt;              request.current_menu_id = parent_id</span><br><span class="line">&gt;              request.breadcrumd_list.extend([</span><br><span class="line">&gt;              &#123;</span><br><span class="line">&gt;                &quot;title&quot;: permission_dict[parent_name][&apos;title&apos;],</span><br><span class="line">&gt;                    &apos;url&apos;: permission_dict[parent_name][&apos;url&apos;]</span><br><span class="line">&gt;                   &#125;,</span><br><span class="line">&gt;                     &#123;&quot;title&quot;: item[&apos;title&apos;], &apos;url&apos;: item[&apos;url&apos;]&#125;,</span><br><span class="line">&gt;                   ])</span><br><span class="line">&gt;           else:</span><br><span class="line">&gt;           # 表示当前权限是父权限，要展开的二级菜单</span><br><span class="line">&gt;              request.current_menu_id = id</span><br><span class="line">&gt;              # 添加面包屑导航</span><br><span class="line">&gt;              request.breadcrumd_list.append(&#123;</span><br><span class="line">&gt;              &quot;title&quot;: item[&apos;title&apos;], </span><br><span class="line">&gt;              &apos;url&apos;: item[&apos;url&apos;]</span><br><span class="line">&gt;              &#125;)</span><br><span class="line">&gt;   </span><br><span class="line">&gt;   - request.current_menu_id</span><br><span class="line">&gt;  这个就是用来展示菜单和展示该权限的子权限为了选中同一个二级菜单的时候用的</span><br><span class="line">&gt;  -写一个includtion_tag</span><br><span class="line">&gt;  - </span><br><span class="line">&gt;     @register.inclusion_tag(&apos;rbac/menu.html&apos;)</span><br><span class="line">&gt;                  def menu(request):</span><br><span class="line">&gt;                      menu_list = request.session.get(settings.MENU_SESSION_KEY)</span><br><span class="line">&gt;                      order_dict = OrderedDict()</span><br><span class="line">&gt;                      for key in sorted(menu_list, key=lambda x: menu_list[x][&apos;weight&apos;], reverse=True):</span><br><span class="line">&gt;                          order_dict[key] = menu_list[key]</span><br><span class="line">&gt;                          item = order_dict[key]</span><br><span class="line">&gt;                          item[&apos;class&apos;] = &apos;hide&apos;</span><br><span class="line">&gt;  </span><br><span class="line">&gt;                          for i in item[&apos;children&apos;]:</span><br><span class="line">&gt;  </span><br><span class="line">&gt;                              if i[&apos;id&apos;] == request.current_menu_id:</span><br><span class="line">&gt;                                  i[&apos;class&apos;] = &apos;active&apos;</span><br><span class="line">&gt;                                  item[&apos;class&apos;] = &apos;&apos;</span><br><span class="line">&gt;                      return &#123;&quot;menu_list&quot;: order_dict&#125;</span><br><span class="line">&gt;  </span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></blockquote><blockquote> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">&gt;  from django.utils.deprecation import MiddlewareMixin</span><br><span class="line">&gt;  from django.conf import settings</span><br><span class="line">&gt;  from django.shortcuts import HttpResponse</span><br><span class="line">&gt;  import re</span><br><span class="line">&gt;  </span><br><span class="line">&gt;  </span><br><span class="line">&gt;  class PermissionMiddleware(MiddlewareMixin):</span><br><span class="line">&gt;      def process_request(self, request):</span><br><span class="line">&gt;          # 对权限进行校验</span><br><span class="line">&gt;          # 1. 当前访问的URL</span><br><span class="line">&gt;          current_url = request.path_info</span><br><span class="line">&gt;  </span><br><span class="line">&gt;          # 白名单的判断</span><br><span class="line">&gt;          for i in settings.WHITE_URL_LIST:</span><br><span class="line">&gt;              if re.match(i, current_url):</span><br><span class="line">&gt;                  return</span><br><span class="line">&gt;  </span><br><span class="line">&gt;          # 2. 获取当前用户的所有权限信息</span><br><span class="line">&gt;  </span><br><span class="line">&gt;          permission_dict = request.session.get(settings.PERMISSION_SESSION_KEY)</span><br><span class="line">&gt;  </span><br><span class="line">&gt;          request.breadcrumd_list = [</span><br><span class="line">&gt;              &#123;&quot;title&quot;: &apos;首页&apos;, &apos;url&apos;: &apos;#&apos;&#125;,</span><br><span class="line">&gt;          ]</span><br><span class="line">&gt;  </span><br><span class="line">&gt;          # 3. 权限的校验</span><br><span class="line">&gt;          print(current_url)</span><br><span class="line">&gt;  </span><br><span class="line">&gt;          for item in permission_dict.values():</span><br><span class="line">&gt;              print(permission_dict)</span><br><span class="line">&gt;              url = item[&apos;url&apos;]</span><br><span class="line">&gt;              if re.match(&quot;^&#123;&#125;$&quot;.format(url), current_url):</span><br><span class="line">&gt;                  parent_id = item[&apos;parent_id&apos;]</span><br><span class="line">&gt;                  id = item[&apos;id&apos;]</span><br><span class="line">&gt;                  parent_name = item[&apos;parent_name&apos;]</span><br><span class="line">&gt;                  if parent_id:</span><br><span class="line">&gt;                      # 表示当前权限是子权限，让父权限是展开</span><br><span class="line">&gt;                      request.current_menu_id = parent_id</span><br><span class="line">&gt;                      request.breadcrumd_list.extend([</span><br><span class="line">&gt;                          &#123;&quot;title&quot;: permission_dict[parent_name][&apos;title&apos;],</span><br><span class="line">&gt;                           &apos;url&apos;: permission_dict[parent_name][&apos;url&apos;]&#125;,</span><br><span class="line">&gt;                          &#123;&quot;title&quot;: item[&apos;title&apos;], &apos;url&apos;: item[&apos;url&apos;]&#125;,</span><br><span class="line">&gt;                      ])</span><br><span class="line">&gt;                  else:</span><br><span class="line">&gt;                      # 表示当前权限是父权限，要展开的二级菜单</span><br><span class="line">&gt;                      request.current_menu_id = id</span><br><span class="line">&gt;                      # 添加面包屑导航</span><br><span class="line">&gt;                      request.breadcrumd_list.append(&#123;&quot;title&quot;: item[&apos;title&apos;], &apos;url&apos;: item[&apos;url&apos;]&#125;)</span><br><span class="line">&gt;                  return</span><br><span class="line">&gt;          else:</span><br><span class="line">&gt;              return HttpResponse(&apos;没有权限&apos;)</span><br><span class="line">&gt;  </span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></blockquote><blockquote> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt;  - 权限力度控制到按钮级别</span><br><span class="line">&gt;  一个filter</span><br><span class="line">&gt;  一个url的反向解析</span><br><span class="line">&gt;  @register.filter</span><br><span class="line">&gt;  def has_permission(request, permission):</span><br><span class="line">&gt;  # session中存的就是权限的别名，别名就是反向解析的那个字符串</span><br><span class="line">&gt;      if permission in request.session.get(settings.PERMISSION_SESSION_KEY):</span><br><span class="line">&gt;          return True</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></blockquote><blockquote> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&gt;  &#123;% if request|has_permission:&apos;web:customer_edit&apos; or request|has_permission:&apos;web:customer_del&apos; %&#125;</span><br><span class="line">&gt;  &lt;td&gt;</span><br><span class="line">&gt;  &#123;% if request|has_permission:&apos;web:customer_edit&apos; %&#125;</span><br><span class="line">&gt;  &lt;a style=&quot;color: #333333;&quot; href=&quot;&#123;% url &apos;web:customer_edit&apos; row.id %&#125;&quot;&gt;</span><br><span class="line">&gt;  &lt;i class=&quot;fa fa-edit&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;&lt;/a&gt;</span><br><span class="line">&gt;  &#123;% endif %&#125;</span><br><span class="line">&gt;  &#123;% if request|has_permission:&apos;web:customer_del&apos; %&#125;</span><br><span class="line">&gt;  &lt;a style=&quot;color: #d9534f;&quot; href=&quot;&#123;% url &apos;web:customer_del&apos; row.id  %&#125;&quot;&gt;&lt;i class=&quot;fa fa-trash-o&quot;&gt;&lt;/i&gt;&lt;/a&gt;</span><br><span class="line">&gt;  &#123;% endif %&#125;</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></blockquote><blockquote></blockquote><h1 id="菜单和权限的展示在一个页面"><a href="#菜单和权限的展示在一个页面" class="headerlink" title="菜单和权限的展示在一个页面"></a>菜单和权限的展示在一个页面</h1><blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="comment"># 菜单和权限的展示</span></span><br><span class="line">&gt;<span class="comment"># 点击每一个菜单出现对应的权限信息</span></span><br><span class="line">&gt;<span class="function"><span class="keyword">def</span> <span class="title">menu_list</span><span class="params">(request)</span>:</span></span><br><span class="line">&gt;    all_menu = models.Menu.objects.all()</span><br><span class="line">&gt;    <span class="comment"># 拿到菜单对应的菜单id</span></span><br><span class="line">&gt;    mid = request.GET.get(<span class="string">'mid'</span>)</span><br><span class="line">&gt;    <span class="comment"># 如果拿到菜单id代表着有子权限</span></span><br><span class="line">&gt;    <span class="keyword">if</span> mid:</span><br><span class="line">&gt;        <span class="comment"># 从子权限出发 拿到 父权限对应的菜单id对应的权限  或者  菜单对应的权限（也就是二级菜单） 因为自己关联自己（从父亲和儿子两方面出发）</span></span><br><span class="line">&gt;        permission_query = models.Permission.objects.filter(Q(menu_id=mid) | Q(parent__menu_id=mid))</span><br><span class="line">&gt;    <span class="comment"># 如果没有菜单id则输出所有的权限信息</span></span><br><span class="line">&gt;    <span class="keyword">else</span>:</span><br><span class="line">&gt;        permission_query = models.Permission.objects.all()</span><br><span class="line">&gt;    <span class="comment"># 拿到查询出的权限对应的信息</span></span><br><span class="line">&gt;    all_permission = permission_query.values(<span class="string">'id'</span>, <span class="string">'url'</span>, <span class="string">'title'</span>, <span class="string">'name'</span>, <span class="string">'menu_id'</span>, <span class="string">'parent_id'</span>, <span class="string">'menu__title'</span>)</span><br><span class="line">&gt;    all_permission_dict = &#123;&#125;</span><br><span class="line">&gt;    <span class="keyword">for</span> item <span class="keyword">in</span> all_permission:</span><br><span class="line">&gt;        menu_id = item.get(<span class="string">'menu_id'</span>)</span><br><span class="line">&gt;        <span class="comment"># 找到有菜单id的权限，将其存入字典，键为权限的id</span></span><br><span class="line">&gt;        <span class="keyword">if</span> menu_id:</span><br><span class="line">&gt;            all_permission_dict[item[<span class="string">'id'</span>]] = item</span><br><span class="line">&gt;            <span class="comment"># 可以改都是引用</span></span><br><span class="line">&gt;            <span class="comment"># 得到所有有菜单的权限后，将每一个权限都设置一个children键值对，用来存储子权限信息</span></span><br><span class="line">&gt;            item[<span class="string">'children'</span>] = []</span><br><span class="line">&gt;    <span class="keyword">for</span> item <span class="keyword">in</span> all_permission:</span><br><span class="line">&gt;        pid = item.get(<span class="string">'parent_id'</span>)</span><br><span class="line">&gt;        <span class="comment"># 如果有父id代表的是子权限</span></span><br><span class="line">&gt;        <span class="keyword">if</span> pid:</span><br><span class="line">&gt;            <span class="comment"># 如果是子权限，就将子权限的信息存入多上一步做的处理（有菜单的父权限）children中</span></span><br><span class="line">&gt;            all_permission_dict[pid][<span class="string">'children'</span>].append(item)</span><br><span class="line">&gt;    <span class="keyword">return</span> render(request, <span class="string">'rbac/menu_list.html'</span>, &#123;</span><br><span class="line">&gt;        <span class="string">"mid"</span>: mid,</span><br><span class="line">&gt;        <span class="string">"all_menu"</span>: all_menu,</span><br><span class="line">&gt;        <span class="string">"all_permission_dict"</span>: all_permission_dict,</span><br><span class="line">&gt;    &#125;)</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></blockquote><h1 id="权限系统的应用"><a href="#权限系统的应用" class="headerlink" title="权限系统的应用"></a>权限系统的应用</h1><blockquote><ul><li><p>拷贝rbac  App到新项目中</p></li><li><p>注册APP 以及配置信息</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&gt;  #  ###### 权限相关的配置 ######</span><br><span class="line">&gt;  PERMISSION_SESSION_KEY = &apos;permissions&apos;</span><br><span class="line">&gt;  MENU_SESSION_KEY = &apos;menus&apos;</span><br><span class="line">&gt;  WHITE_URL_LIST = [</span><br><span class="line">&gt;      r&apos;^/login/$&apos;,</span><br><span class="line">&gt;      r&apos;^/logout/$&apos;,</span><br><span class="line">&gt;      r&apos;^/reg/$&apos;,</span><br><span class="line">&gt;      r&apos;^/admin/.*&apos;,</span><br><span class="line">&gt;  ]</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></li></ul></blockquote><blockquote><ul><li><p>数据库迁移命令</p><ul><li>删除rbac所有的迁移文件</li><li>执行两条命令</li></ul></li><li><p>路由相关</p><ul><li>url(r’rbac/‘,include(‘rbac.urls’,namespace=’rbac’))</li><li>给所有的URL起名字</li></ul></li><li><p>layout  模板注意</p><ul><li>block   css  js   content</li></ul></li><li><p>权限的管理</p><ul><li>添加角色</li><li>添加菜单</li><li>添加权限</li></ul></li><li><p>分配权限</p><ul><li><p>用户关联—修改原系统的用户表</p><ul><li>跟rbac的UserInfo<br>user = models.OneToOneField(UserInfo,null=True,blank=True)</li><li>给用户分角色</li><li>给角色分权限</li></ul></li><li><p>登录应用权限</p><ul><li><p>登录成功后</p></li><li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;      auth.login(request, obj)</span><br><span class="line">&gt;      ret = init_permission(request, obj)</span><br><span class="line">&gt;      if ret:</span><br><span class="line">&gt;          return ret</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></li></ul></li></ul></li></ul></blockquote><blockquote><ul><li><p>初始化权限信息init_permission函数中修改</p><p>user -&gt; user.user</p><p>permission_query = user.user.roles.filter</p></li><li><p>应用权限校验中间件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;      &apos;rbac.middleware.rbac.PermissionMiddleware&apos;,</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></li></ul></blockquote><blockquote><ul><li><p>应用左侧菜单和面包屑导航</p><ul><li><p>在layout模板中，引用CSS和JS</p></li><li><p>二级菜单</p></li><li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;    &#123;% load rbac %&#125;</span><br><span class="line">&gt;    &#123;% menu request %&#125;</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></li></ul></li></ul></blockquote><blockquote><ul><li><p>应用路径导航</p></li><li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;    &#123;% breadcrumb request %&#125;</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></li></ul></blockquote><blockquote><ul><li><p>权限控制到按钮级别</p><ul><li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;    &#123;% load rbac %&#125;</span><br><span class="line">&gt;    判断 filter  判断里面只能用filter 只能一个一个判断</span><br><span class="line">&gt;    &#123;% load rbac %&#125;</span><br><span class="line">&gt;    </span><br><span class="line">&gt;    &#123;% if request|has_permission:&apos;add_customer&apos; %&#125;</span><br><span class="line">&gt;    &lt;a href=&quot;&#123;% url &apos;add_customer&apos; %&#125;?&#123;&#123; query_params &#125;&#125;&quot; class=&quot;btn btn-primary btn-sm&quot;&gt;添加&lt;/a&gt;</span><br><span class="line">&gt;    &#123;% endif %&#125;</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></li></ul></li></ul></blockquote><blockquote><ul><li><p>使用注意事项</p><ul><li>用户注册后  对应在rbac中的UserInfo创建用户 和 原系统的用户做一对一关联</li><li>菜单   父权限  子权限  的层级关系</li></ul></li></ul></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;权限管理的三级菜单的流程&quot;&gt;&lt;a href=&quot;#权限管理的三级菜单的流程&quot; class=&quot;headerlink&quot; title=&quot;权限管理的三级菜单的流程&quot;&gt;&lt;/a&gt;权限管理的三级菜单的流程&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;权限控制&lt;/p&gt;
&lt;ul&gt;
&lt;li
      
    
    </summary>
    
      <category term="RBAC" scheme="http://yoursite.com/categories/RBAC/"/>
    
    
  </entry>
  
  <entry>
    <title>Django之中间件</title>
    <link href="http://yoursite.com/2018/07/15/Django%E4%B9%8B%E4%B8%AD%E9%97%B4%E4%BB%B6/"/>
    <id>http://yoursite.com/2018/07/15/Django之中间件/</id>
    <published>2018-07-15T07:38:48.000Z</published>
    <updated>2018-11-15T09:46:31.777Z</updated>
    
    <content type="html"><![CDATA[<h1 id="中间件"><a href="#中间件" class="headerlink" title="中间件"></a>中间件</h1><blockquote><h3 id="中间件的概念"><a href="#中间件的概念" class="headerlink" title="中间件的概念"></a>中间件的概念</h3><ul><li><p>中间件顾名思义，是介于request与response处理之间的一道处理过程，相对比较轻量级，并且在全局</p><p>上改变django的输入与输出。因为改变的是全局，所以需要谨慎实用，用不好会影响到性能。</p></li><li><p>Django的中间件的定义：</p><blockquote><p>Middleware <code>is` `a framework of hooks into Django’s request</code>/<code>response processing.</code></p><p><code>&lt;br&gt;It’s a light, low</code>-<code>level “plugin” system</code>forglobally altering Django’s <code>input</code> <code>or</code></p><p><code>output</code>.</p></blockquote><p>应用：</p><ul><li><p>如果想修改请求，例如被传送到view中的<strong>HttpRequest</strong>对象。 或者想修改view返回的HttpResponse对象，这些都可以通过中间件来实现。</p></li><li><p>可能还想在view执行之前做一些操作，这种情况就可以用 middleware来实现。</p></li><li><p>我们可能频繁在view使用<code>request.user</code>吧。 Django想在每个view执行之前把user设置request</p><p>的属性，于是就用了一个中间件来实现这个目标。所以Django提供了可以修改request 对象的中间</p><p>件 <code>AuthenticationMiddleware</code>。</p><p>Django默认的Middleware：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&gt;    MIDDLEWARE = [</span><br><span class="line">&gt;        <span class="string">'django.middleware.security.SecurityMiddleware'</span>,</span><br><span class="line">&gt;        <span class="string">'django.contrib.sessions.middleware.SessionMiddleware'</span>,</span><br><span class="line">&gt;        <span class="string">'django.middleware.common.CommonMiddleware'</span>,</span><br><span class="line">&gt;        <span class="string">'django.middleware.csrf.CsrfViewMiddleware'</span>,</span><br><span class="line">&gt;        <span class="string">'django.contrib.auth.middleware.AuthenticationMiddleware'</span>,</span><br><span class="line">&gt;        <span class="string">'django.contrib.messages.middleware.MessageMiddleware'</span>,</span><br><span class="line">&gt;        <span class="string">'django.middleware.clickjacking.XFrameOptionsMiddleware'</span>,</span><br><span class="line">&gt;    ]</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></li></ul></li></ul></blockquote><blockquote><p>   每一个中间件都有具体的功能</p></blockquote><blockquote><h3 id="自定义中间件"><a href="#自定义中间件" class="headerlink" title="自定义中间件"></a>自定义中间件</h3><ul><li><p>中间件一共有四种方法</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;  <span class="comment"># process_request</span></span><br><span class="line">&gt;  </span><br><span class="line">&gt;  <span class="comment"># process_view</span></span><br><span class="line">&gt;  </span><br><span class="line">&gt;  <span class="comment">#　process_exception</span></span><br><span class="line">&gt;  </span><br><span class="line">&gt;  <span class="comment">#　process_response</span></span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></li></ul></blockquote><blockquote><h6 id="process-request-process-response"><a href="#process-request-process-response" class="headerlink" title="process_request,process_response"></a>process_request,process_response</h6><blockquote><ul><li><p>当用户发起请求的时候会依次经过所有的的中间件，这个时候的请求时process_request,最后到达views的函数中，views函数处理后，在依次穿过中间件，这个时候是process_response,最后返回给请求者。</p></li><li><p>我们也可以自己定义一个中间件，我们可以自己写一个类，但是必须继承MiddlewareMixin</p><p>需要导入</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;  &gt;  <span class="keyword">from</span> django.utils.deprecation <span class="keyword">import</span> MiddlewareMixin</span><br><span class="line">&gt;  &gt;</span><br></pre></td></tr></table></figure></li></ul></blockquote></blockquote><blockquote><blockquote><p> <img src="/Users/busensei/Desktop/MiddlewareMixin.png" alt=""></p><blockquote><p><strong>in views:</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;  &gt;  &gt;<span class="function"><span class="keyword">def</span> <span class="title">index</span><span class="params">(request)</span>:</span></span><br><span class="line">&gt;  &gt;  &gt;</span><br><span class="line">&gt;  &gt;  &gt;    print(<span class="string">"view函数..."</span>)</span><br><span class="line">&gt;  &gt;  &gt;    <span class="keyword">return</span> HttpResponse(<span class="string">"OK"</span>)</span><br><span class="line">&gt;  &gt;  &gt;</span><br></pre></td></tr></table></figure></blockquote></blockquote></blockquote><blockquote><blockquote><blockquote><p><strong>in Mymiddlewares.py：</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&gt;  &gt;  &gt;<span class="keyword">from</span> django.utils.deprecation <span class="keyword">import</span> MiddlewareMixin</span><br><span class="line">&gt;  &gt;  &gt;<span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> HttpResponse</span><br><span class="line">&gt;  &gt;  &gt;</span><br><span class="line">&gt;  &gt;  &gt;<span class="class"><span class="keyword">class</span> <span class="title">Md1</span><span class="params">(MiddlewareMixin)</span>:</span></span><br><span class="line">&gt;  &gt;  &gt;</span><br><span class="line">&gt;  &gt;  &gt;    <span class="function"><span class="keyword">def</span> <span class="title">process_request</span><span class="params">(self,request)</span>:</span></span><br><span class="line">&gt;  &gt;  &gt;        print(<span class="string">"Md1请求"</span>)</span><br><span class="line">&gt;  &gt;  &gt; </span><br><span class="line">&gt;  &gt;  &gt;    <span class="function"><span class="keyword">def</span> <span class="title">process_response</span><span class="params">(self,request,response)</span>:</span></span><br><span class="line">&gt;  &gt;  &gt;        print(<span class="string">"Md1返回"</span>)</span><br><span class="line">&gt;  &gt;  &gt;        <span class="keyword">return</span> response</span><br><span class="line">&gt;  &gt;  &gt;</span><br><span class="line">&gt;  &gt;  &gt;<span class="class"><span class="keyword">class</span> <span class="title">Md2</span><span class="params">(MiddlewareMixin)</span>:</span></span><br><span class="line">&gt;  &gt;  &gt;</span><br><span class="line">&gt;  &gt;  &gt;    <span class="function"><span class="keyword">def</span> <span class="title">process_request</span><span class="params">(self,request)</span>:</span></span><br><span class="line">&gt;  &gt;  &gt;        print(<span class="string">"Md2请求"</span>)</span><br><span class="line">&gt;  &gt;  &gt;        <span class="comment">#return HttpResponse("Md2中断")</span></span><br><span class="line">&gt;  &gt;  &gt;    <span class="function"><span class="keyword">def</span> <span class="title">process_response</span><span class="params">(self,request,response)</span>:</span></span><br><span class="line">&gt;  &gt;  &gt;        print(<span class="string">"Md2返回"</span>)</span><br><span class="line">&gt;  &gt;  &gt;        <span class="keyword">return</span> response</span><br><span class="line">&gt;  &gt;  &gt;</span><br></pre></td></tr></table></figure></blockquote></blockquote></blockquote><blockquote><blockquote><blockquote><p><strong>结果：</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;  &gt;  &gt;Md1请求</span><br><span class="line">&gt;  &gt;  &gt;Md2请求</span><br><span class="line">&gt;  &gt;  &gt;view函数...</span><br><span class="line">&gt;  &gt;  &gt;Md2返回</span><br><span class="line">&gt;  &gt;  &gt;Md1返回</span><br><span class="line">&gt;  &gt;  &gt;</span><br></pre></td></tr></table></figure></blockquote></blockquote></blockquote><blockquote><blockquote><blockquote><p><strong>注意：</strong>如果当请求到达请求2的时候直接不符合条件返回，即return HttpResponse(“Md2中断”)，程序将把请求直接发给中间件2返回，然后依次返回到请求者，结果如下：</p><p>返回Md2中断的页面，后台打印如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;  &gt;  &gt;Md1请求</span><br><span class="line">&gt;  &gt;  &gt;Md2请求</span><br><span class="line">&gt;  &gt;  &gt;Md2返回</span><br><span class="line">&gt;  &gt;  &gt;Md1返回</span><br><span class="line">&gt;  &gt;  &gt;</span><br></pre></td></tr></table></figure></blockquote></blockquote></blockquote><blockquote><blockquote><blockquote><p>流程图如下：</p><p><img src="/Users/busensei/Desktop/process_request，process_response.png" alt=""></p></blockquote></blockquote><h5 id="process-view"><a href="#process-view" class="headerlink" title="process_view"></a>process_view</h5><blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;  &gt;process_view(self, request, callback, callback_args, callback_kwargs)</span><br><span class="line">&gt;  &gt;</span><br></pre></td></tr></table></figure></blockquote></blockquote><blockquote><blockquote><p><strong>Mymiddlewares.py</strong>修改如下</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&gt;  &gt;<span class="keyword">from</span> django.utils.deprecation <span class="keyword">import</span> MiddlewareMixin</span><br><span class="line">&gt;  &gt;<span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> HttpResponse</span><br><span class="line">&gt;  &gt;</span><br><span class="line">&gt;  &gt;<span class="class"><span class="keyword">class</span> <span class="title">Md1</span><span class="params">(MiddlewareMixin)</span>:</span></span><br><span class="line">&gt;  &gt;</span><br><span class="line">&gt;  &gt;    <span class="function"><span class="keyword">def</span> <span class="title">process_request</span><span class="params">(self,request)</span>:</span></span><br><span class="line">&gt;  &gt;        print(<span class="string">"Md1请求"</span>)</span><br><span class="line">&gt;  &gt;        <span class="comment">#return HttpResponse("Md1中断")</span></span><br><span class="line">&gt;  &gt;    <span class="function"><span class="keyword">def</span> <span class="title">process_response</span><span class="params">(self,request,response)</span>:</span></span><br><span class="line">&gt;  &gt;        print(<span class="string">"Md1返回"</span>)</span><br><span class="line">&gt;  &gt;        <span class="keyword">return</span> response</span><br><span class="line">&gt;  &gt;</span><br><span class="line">&gt;  &gt;    <span class="function"><span class="keyword">def</span> <span class="title">process_view</span><span class="params">(self, request, callback, callback_args, callback_kwargs)</span>:</span></span><br><span class="line">&gt;  &gt;        print(<span class="string">"Md1view"</span>)</span><br><span class="line">&gt;  &gt;</span><br><span class="line">&gt;  &gt;<span class="class"><span class="keyword">class</span> <span class="title">Md2</span><span class="params">(MiddlewareMixin)</span>:</span></span><br><span class="line">&gt;  &gt;</span><br><span class="line">&gt;  &gt;    <span class="function"><span class="keyword">def</span> <span class="title">process_request</span><span class="params">(self,request)</span>:</span></span><br><span class="line">&gt;  &gt;        print(<span class="string">"Md2请求"</span>)</span><br><span class="line">&gt;  &gt;        <span class="keyword">return</span> HttpResponse(<span class="string">"Md2中断"</span>)</span><br><span class="line">&gt;  &gt;    <span class="function"><span class="keyword">def</span> <span class="title">process_response</span><span class="params">(self,request,response)</span>:</span></span><br><span class="line">&gt;  &gt;        print(<span class="string">"Md2返回"</span>)</span><br><span class="line">&gt;  &gt;        <span class="keyword">return</span> response</span><br><span class="line">&gt;  &gt;</span><br><span class="line">&gt;  &gt;    <span class="function"><span class="keyword">def</span> <span class="title">process_view</span><span class="params">(self, request, callback, callback_args, callback_kwargs)</span>:</span></span><br><span class="line">&gt;  &gt;        print(<span class="string">"Md2view"</span>)</span><br><span class="line">&gt;  &gt;</span><br></pre></td></tr></table></figure></blockquote></blockquote><blockquote><blockquote><p>结果如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;  &gt;Md1请求</span><br><span class="line">&gt;  &gt;Md2请求</span><br><span class="line">&gt;  &gt;Md1view</span><br><span class="line">&gt;  &gt;Md2view</span><br><span class="line">&gt;  &gt;view函数...</span><br><span class="line">&gt;  &gt;Md2返回</span><br><span class="line">&gt;  &gt;Md1返回</span><br><span class="line">&gt;  &gt;</span><br></pre></td></tr></table></figure></blockquote></blockquote><blockquote><blockquote><p>下图进行分析上面的过程：</p><p><img src="/Users/busensei/Desktop/process_view.png" alt="img"></p><p>当最后一个中间的process_request到达路由关系映射之后，返回到中间件1的process_view，然后</p><p>依次往下，到达views函数，最后通过process_response依次返回到达用户。</p><p>process_view可以用来调用视图函数：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&gt;  &gt;<span class="class"><span class="keyword">class</span> <span class="title">Md1</span><span class="params">(MiddlewareMixin)</span>:</span></span><br><span class="line">&gt;  &gt;</span><br><span class="line">&gt;  &gt;    <span class="function"><span class="keyword">def</span> <span class="title">process_request</span><span class="params">(self,request)</span>:</span></span><br><span class="line">&gt;  &gt;        print(<span class="string">"Md1请求"</span>)</span><br><span class="line">&gt;  &gt;        <span class="comment">#return HttpResponse("Md1中断")</span></span><br><span class="line">&gt;  &gt;    <span class="function"><span class="keyword">def</span> <span class="title">process_response</span><span class="params">(self,request,response)</span>:</span></span><br><span class="line">&gt;  &gt;        print(<span class="string">"Md1返回"</span>)</span><br><span class="line">&gt;  &gt;        <span class="keyword">return</span> response</span><br><span class="line">&gt;  &gt;</span><br><span class="line">&gt;  &gt;    <span class="function"><span class="keyword">def</span> <span class="title">process_view</span><span class="params">(self, request, callback, callback_args, callback_kwargs)</span>:</span></span><br><span class="line">&gt;  &gt;</span><br><span class="line">&gt;  &gt;        <span class="comment"># return HttpResponse("hello")</span></span><br><span class="line">&gt;  &gt;</span><br><span class="line">&gt;  &gt;        response=callback(request,*callback_args,**callback_kwargs)</span><br><span class="line">&gt;  &gt;        <span class="keyword">return</span> response</span><br><span class="line">&gt;  &gt;</span><br></pre></td></tr></table></figure></blockquote></blockquote><blockquote><blockquote><p>结果如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;  &gt;Md1请求</span><br><span class="line">&gt;  &gt;Md2请求</span><br><span class="line">&gt;  &gt;view函数...</span><br><span class="line">&gt;  &gt;Md2返回</span><br><span class="line">&gt;  &gt;Md1返回</span><br><span class="line">&gt;  &gt;</span><br></pre></td></tr></table></figure></blockquote></blockquote><blockquote><blockquote><p>注意：process_view如果有返回值，会越过其他的process_view以及视图函数，但是所有的</p><p>process_response都还会执行。</p></blockquote><h5 id="process-exception"><a href="#process-exception" class="headerlink" title="process_exception"></a>process_exception</h5><blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;  &gt;process_exception(self, request, exception)</span><br><span class="line">&gt;  &gt;</span><br></pre></td></tr></table></figure></blockquote></blockquote><blockquote><blockquote><p>示例修改如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&gt;  &gt;<span class="class"><span class="keyword">class</span> <span class="title">Md1</span><span class="params">(MiddlewareMixin)</span>:</span></span><br><span class="line">&gt;  &gt;</span><br><span class="line">&gt;  &gt;    <span class="function"><span class="keyword">def</span> <span class="title">process_request</span><span class="params">(self,request)</span>:</span></span><br><span class="line">&gt;  &gt;        print(<span class="string">"Md1请求"</span>)</span><br><span class="line">&gt;  &gt;        <span class="comment">#return HttpResponse("Md1中断")</span></span><br><span class="line">&gt;  &gt;    <span class="function"><span class="keyword">def</span> <span class="title">process_response</span><span class="params">(self,request,response)</span>:</span></span><br><span class="line">&gt;  &gt;        print(<span class="string">"Md1返回"</span>)</span><br><span class="line">&gt;  &gt;        <span class="keyword">return</span> response</span><br><span class="line">&gt;  &gt;</span><br><span class="line">&gt;  &gt;    <span class="function"><span class="keyword">def</span> <span class="title">process_view</span><span class="params">(self, request, callback, callback_args, callback_kwargs)</span>:</span></span><br><span class="line">&gt;  &gt;</span><br><span class="line">&gt;  &gt;        <span class="comment"># return HttpResponse("hello")</span></span><br><span class="line">&gt;  &gt;</span><br><span class="line">&gt;  &gt;        <span class="comment"># response=callback(request,*callback_args,**callback_kwargs)</span></span><br><span class="line">&gt;  &gt;        <span class="comment"># return response</span></span><br><span class="line">&gt;  &gt;        print(<span class="string">"md1 process_view..."</span>)</span><br><span class="line">&gt;  &gt;</span><br><span class="line">&gt;  &gt;    <span class="function"><span class="keyword">def</span> <span class="title">process_exception</span><span class="params">(self)</span>:</span></span><br><span class="line">&gt;  &gt;        print(<span class="string">"md1 process_exception..."</span>)</span><br><span class="line">&gt;  &gt;</span><br><span class="line">&gt;  &gt;</span><br><span class="line">&gt;  &gt;</span><br><span class="line">&gt;  &gt;<span class="class"><span class="keyword">class</span> <span class="title">Md2</span><span class="params">(MiddlewareMixin)</span>:</span></span><br><span class="line">&gt;  &gt;</span><br><span class="line">&gt;  &gt;    <span class="function"><span class="keyword">def</span> <span class="title">process_request</span><span class="params">(self,request)</span>:</span></span><br><span class="line">&gt;  &gt;        print(<span class="string">"Md2请求"</span>)</span><br><span class="line">&gt;  &gt;        <span class="comment"># return HttpResponse("Md2中断")</span></span><br><span class="line">&gt;  &gt;    <span class="function"><span class="keyword">def</span> <span class="title">process_response</span><span class="params">(self,request,response)</span>:</span></span><br><span class="line">&gt;  &gt;        print(<span class="string">"Md2返回"</span>)</span><br><span class="line">&gt;  &gt;        <span class="keyword">return</span> response</span><br><span class="line">&gt;  &gt;    <span class="function"><span class="keyword">def</span> <span class="title">process_view</span><span class="params">(self, request, callback, callback_args, callback_kwargs)</span>:</span></span><br><span class="line">&gt;  &gt;        print(<span class="string">"md2 process_view..."</span>)</span><br><span class="line">&gt;  &gt;</span><br><span class="line">&gt;  &gt;    <span class="function"><span class="keyword">def</span> <span class="title">process_exception</span><span class="params">(self)</span>:</span></span><br><span class="line">&gt;  &gt;        print(<span class="string">"md1 process_exception..."</span>)</span><br><span class="line">&gt;  &gt;</span><br></pre></td></tr></table></figure></blockquote></blockquote><blockquote><blockquote><p>结果如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt;  &gt;Md1请求</span><br><span class="line">&gt;  &gt;Md2请求</span><br><span class="line">&gt;  &gt;md1 process_view...</span><br><span class="line">&gt;  &gt;md2 process_view...</span><br><span class="line">&gt;  &gt;view函数...</span><br><span class="line">&gt;  &gt;</span><br><span class="line">&gt;  &gt;Md2返回</span><br><span class="line">&gt;  &gt;Md1返回</span><br><span class="line">&gt;  &gt;</span><br></pre></td></tr></table></figure></blockquote></blockquote><blockquote><blockquote><p>流程图如下：</p><p>当views出现错误时：</p><p><img src="/Users/busensei/Desktop/process_exception.png" alt="img"></p><p>将md2的process_exception修改如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;  &gt;  <span class="function"><span class="keyword">def</span> <span class="title">process_exception</span><span class="params">(self,request,exception)</span>:</span></span><br><span class="line">&gt;  &gt;</span><br><span class="line">&gt;  &gt;        print(<span class="string">"md2 process_exception..."</span>)</span><br><span class="line">&gt;  &gt;        <span class="keyword">return</span> HttpResponse(<span class="string">"error"</span>)</span><br><span class="line">&gt;  &gt;</span><br></pre></td></tr></table></figure></blockquote></blockquote><blockquote><blockquote><p>结果如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt;  &gt;Md1请求</span><br><span class="line">&gt;  &gt;Md2请求</span><br><span class="line">&gt;  &gt;md1 process_view...</span><br><span class="line">&gt;  &gt;md2 process_view...</span><br><span class="line">&gt;  &gt;view函数...</span><br><span class="line">&gt;  &gt;md2 process_exception...</span><br><span class="line">&gt;  &gt;Md2返回</span><br><span class="line">&gt;  &gt;Md1返回</span><br><span class="line">&gt;  &gt;</span><br></pre></td></tr></table></figure></blockquote></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;中间件&quot;&gt;&lt;a href=&quot;#中间件&quot; class=&quot;headerlink&quot; title=&quot;中间件&quot;&gt;&lt;/a&gt;中间件&lt;/h1&gt;&lt;blockquote&gt;
&lt;h3 id=&quot;中间件的概念&quot;&gt;&lt;a href=&quot;#中间件的概念&quot; class=&quot;headerlink&quot; tit
      
    
    </summary>
    
      <category term="Django" scheme="http://yoursite.com/categories/Django/"/>
    
    
  </entry>
  
  <entry>
    <title>redis之使用</title>
    <link href="http://yoursite.com/2018/02/27/redis%E4%B9%8B%E4%BD%BF%E7%94%A8/"/>
    <id>http://yoursite.com/2018/02/27/redis之使用/</id>
    <published>2018-02-27T03:47:09.000Z</published>
    <updated>2018-11-22T13:16:27.102Z</updated>
    
    <content type="html"><![CDATA[<p>=================================</p><p>1、自动分配、你在什么时候用到了自动分配？</p><p>答：市场部或运营部招来的新的客户，单条（批量）录入数据的时候，进行自动分配。</p><p>2、那是怎么自动分配的呢？</p><p>答：基于redis的列表实现的。相当于队列用了。</p><p>====================================</p><h1 id="自动分配-redis"><a href="#自动分配-redis" class="headerlink" title="自动分配(redis)"></a>自动分配(redis)</h1><p>数据放缓存，为的就是速度快<br>redis是支持持久化的，如果关机以后，数据已经会放在文件里了</p><img src="/2018/02/27/redis之使用/1.png"><pre><code>先买上一台电脑：装上redis服务器软件　　- 这个服务器有个工网IP：47.93.4.198　　- 端口：6379我们的电脑：装上链接redis的模块　　- pip instaill redis</code></pre><img src="/2018/02/27/redis之使用/2.png"><pre><code>redis:说白了就是一个服务器的一个软件，帮助我们在内存里面存数据conn.lpush(&quot;names&quot;:&quot;sss&quot;)   #往里边放入值conn.lpush(&quot;names&quot;:*[地方法规&quot;，&quot;dfgdf&quot;])  #放多个值  ，从左边添加，相当于insertconn.rpush(&quot;names&quot;:*[地方法规&quot;，&quot;dfgdf&quot;])  #放多个值  ,从后面添加，相当于appendconn.lpop(&quot;names&quot;)   #一个一个从里面取值 ，bytes类型conn.rpop(&quot;names&quot;)   #从里面取值 ，bytes类型conn.llen(&quot;names&quot;)   #查看长度</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> redis</span><br><span class="line">conn = redis.Redis(host=<span class="string">"192.168.20.150"</span>,port=<span class="number">6379</span>)</span><br><span class="line"><span class="comment">#===========对于字符串用set,get设置，得到值===========</span></span><br><span class="line">conn.set(<span class="string">"k13"</span>,<span class="string">"v2"</span>)    <span class="comment">#向远程redis中写入了一个键值对</span></span><br><span class="line">val = conn.get(<span class="string">"k13"</span>)   <span class="comment">#获取键值对</span></span><br><span class="line">print(val)</span><br><span class="line">conn.set(<span class="string">"names"</span>,<span class="string">"ss"</span>)</span><br><span class="line">val2 = conn.get(<span class="string">"names"</span>)</span><br><span class="line">print(val2)</span><br><span class="line"></span><br><span class="line"><span class="comment">#===========对于列表的操作:  lpush操作和lpop操作，（从左边放值，从左边取值）=============</span></span><br><span class="line">val4 = conn.lpush(<span class="string">"names_s"</span>,*[<span class="string">"海燕"</span>,<span class="string">"刘伟"</span>])</span><br><span class="line">conn.lpush(<span class="string">'names_s'</span>,*[<span class="string">'把几个'</span>,<span class="string">'鲁宁'</span>])  <span class="comment">#'鲁宁','把几个',"刘伟","海燕",</span></span><br><span class="line">conn.delete(<span class="string">"names_s"</span>)</span><br><span class="line">v = conn.llen(<span class="string">"names_s"</span>)</span><br><span class="line">print(conn.llen(<span class="string">"names_s"</span>))  <span class="comment">#4</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(v):</span><br><span class="line">    print(conn.lpop(<span class="string">"names_s"</span>).decode(<span class="string">"utf-8"</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ==========对于列表的操作:  rpush操作和rpop操作，（从右边放值，从右边取值）======</span></span><br><span class="line">conn.rpush(<span class="string">"abcd"</span>,[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line">conn.rpush(<span class="string">"abcd"</span>,*[<span class="string">"a"</span>,<span class="string">"b"</span>,<span class="string">"c"</span>])   <span class="comment">#[1,2,3],a,b,c   #*代表是解包，如果不加*,放进去的就是一个列表</span></span><br><span class="line"><span class="comment"># conn.delete("abcd")</span></span><br><span class="line">v = conn.llen(<span class="string">"abcd"</span>)</span><br><span class="line"><span class="comment"># print(v)    #</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(v):</span><br><span class="line">    print(conn.rpop(<span class="string">"abcd"</span>).decode(<span class="string">"utf-8"</span>))  <span class="comment">#c,b,a,[1,2,3]</span></span><br></pre></td></tr></table></figure><h2 id="在项目中应用"><a href="#在项目中应用" class="headerlink" title="在项目中应用"></a>在项目中应用</h2><pre><code>链接redis，吧所有的数据列表放在redis里，吧回滚的也放在redis里面</code></pre><img src="/2018/02/27/redis之使用/3.png"><pre><code>原来是迭代器一个一个取值，现在我们可以用链接redis，rpop一个一个取值当出问题回滚的时候（或者没有使用），我们可以用rpush吧它再添加进去，然后在取出来conn.lindex(&quot;said_id_list_origin&quot;,0)   #查看索引0对应的值</code></pre><img src="/2018/02/27/redis之使用/4.png"><pre><code>第一次运行，只有数据库有数据如果数据库中没有取到值，那么直接返回None接下来一个一个获取，如果取到了None，已经取完，再把备用的列表里面的数据在放回去分配表里面的数据如果更新的话就需要重置了</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> redis</span><br><span class="line"><span class="keyword">from</span> crm <span class="keyword">import</span> models</span><br><span class="line"></span><br><span class="line">POOL = redis.ConnectionPool(host=<span class="string">'47.93.4.198'</span>, port=<span class="number">6379</span>, password=<span class="string">'123123'</span>)</span><br><span class="line">CONN = redis.Redis(connection_pool=POOL)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AutoSale</span><span class="params">(object)</span>:</span></span><br><span class="line"></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fetch_users</span><span class="params">(cls)</span>:</span></span><br><span class="line">        <span class="comment"># [obj(销售顾问id,num),obj(销售顾问id,num),obj(销售顾问id,num),obj(销售顾问id,num),]</span></span><br><span class="line">        sales = models.SaleRank.objects.all().order_by(<span class="string">'-weight'</span>)</span><br><span class="line"></span><br><span class="line">        sale_id_list = []</span><br><span class="line">        count = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">            flag = <span class="keyword">False</span></span><br><span class="line">            <span class="keyword">for</span> row <span class="keyword">in</span> sales:</span><br><span class="line">                <span class="keyword">if</span> count &lt; row.num:</span><br><span class="line">                    sale_id_list.append(row.user_id)</span><br><span class="line">                    flag = <span class="keyword">True</span></span><br><span class="line">            count += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> flag:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> sale_id_list:</span><br><span class="line">            CONN.rpush(<span class="string">'sale_id_list'</span>, *sale_id_list)  <span class="comment"># 自动pop数据</span></span><br><span class="line">            CONN.rpush(<span class="string">'sale_id_list_origin'</span>, *sale_id_list)  <span class="comment"># 原来的数据</span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line"></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_sale_id</span><span class="params">(cls)</span>:</span></span><br><span class="line">        <span class="comment"># 查看原来数据是否存在</span></span><br><span class="line">        sale_id_origin_count = CONN.llen(<span class="string">'sale_id_list_origin'</span>)</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> sale_id_origin_count:</span><br><span class="line">            <span class="comment"># 去数据库中获取数据，并赋值给： 原数据，pop数据</span></span><br><span class="line">            status = cls.fetch_users()</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> status:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">None</span></span><br><span class="line"></span><br><span class="line">        user_id = CONN.lpop(<span class="string">'sale_id_list'</span>)</span><br><span class="line">        <span class="keyword">if</span> user_id:</span><br><span class="line">            <span class="keyword">return</span> user_id</span><br><span class="line"></span><br><span class="line">        reset = CONN.get(<span class="string">'sale_id_reset'</span>)</span><br><span class="line">        <span class="comment"># 要重置</span></span><br><span class="line">        <span class="keyword">if</span> reset:</span><br><span class="line">            CONN.delete(<span class="string">'sale_id_list_origin'</span>)</span><br><span class="line">            status = cls.fetch_users()</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> status:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">None</span></span><br><span class="line">            CONN.delete(<span class="string">'sale_id_reset'</span>)</span><br><span class="line">            <span class="keyword">return</span> CONN.lpop(<span class="string">'sale_id_list'</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            ct = CONN.llen(<span class="string">'sale_id_list_origin'</span>)</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(ct):</span><br><span class="line">                v = CONN.lindex(<span class="string">'sale_id_list_origin'</span>, i)</span><br><span class="line">                CONN.rpush(<span class="string">'sale_id_list'</span>, v)</span><br><span class="line">            <span class="keyword">return</span> CONN.lpop(<span class="string">'sale_id_list'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reset</span><span class="params">(cls)</span>:</span></span><br><span class="line">        CONN.set(<span class="string">'sale_id_reset'</span>,<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">rollback</span><span class="params">(cls,nid)</span>:</span></span><br><span class="line">        CONN.lpush(<span class="string">'sale_id_list'</span>,nid)</span><br></pre></td></tr></table></figure><pre><code>总结：　　1、什么是redis？　　2、set，get对字符串做操作的，　　3、lpush,rpush,lpop,rpop对于列表做操作的　　　 lindex：取索引　　　  llen() ：长度　　4、 delete :删除 ：公共的</code></pre><p>扩展：</p><p>redis和我们的数据库一样，不能每次都链接，redis支持连接池</p><p>不推荐</p><img src="/2018/02/27/redis之使用/5.png"><p>推荐</p><img src="/2018/02/27/redis之使用/6.png"><h1 id="批量导入"><a href="#批量导入" class="headerlink" title="批量导入"></a>批量导入</h1><p>上传excel文件,页面上显示</p><img src="/2018/02/27/redis之使用/7.png"><p>上传文件</p><pre><code>1、拿到文件名和文件大小file_obj.field_name:  文件名，file_obj.size :文件大小2、打开文件读取，以写的方式存起来3、安装xlrd-1.1.0的两种方式python setup.py  buildpip instail xlrd4、打开excle文件做操作。拿到每一个单元格的数据，写入数据库吧第一行排除，可以吧列表转换成字典，录入到数据库5、作业　　自动获取ID　　录入客户表　    录入分配表　　不在创建临时xlsx文件，写在内存里面，　　写上一个模板文件，让用户去下载6、文件，用户下载文件的两种方式　　吧文件写在静态文件里面，用a标签去跳转。但是这种当是可能不行　　设置响应头（搜索django如何实现文件下载）</code></pre><h1 id="微信自动绑定"><a href="#微信自动绑定" class="headerlink" title="微信自动绑定"></a>微信自动绑定</h1>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;=================================&lt;/p&gt;
&lt;p&gt;1、自动分配、你在什么时候用到了自动分配？&lt;/p&gt;
&lt;p&gt;答：市场部或运营部招来的新的客户，单条（批量）录入数据的时候，进行自动分配。&lt;/p&gt;
&lt;p&gt;2、那是怎么自动分配的呢？&lt;/p&gt;
&lt;p&gt;
      
    
    </summary>
    
      <category term="redis" scheme="http://yoursite.com/categories/redis/"/>
    
    
  </entry>
  
  <entry>
    <title>redis之进阶</title>
    <link href="http://yoursite.com/2018/02/25/redis%E4%B9%8B%E8%BF%9B%E9%98%B6/"/>
    <id>http://yoursite.com/2018/02/25/redis之进阶/</id>
    <published>2018-02-25T02:47:36.000Z</published>
    <updated>2018-11-22T12:14:15.028Z</updated>
    
    <content type="html"><![CDATA[<h1 id="redis介绍"><a href="#redis介绍" class="headerlink" title="redis介绍"></a>redis介绍</h1><h2 id="redis的功能特性"><a href="#redis的功能特性" class="headerlink" title="redis的功能特性"></a>redis的功能特性</h2><pre><code>1，高速读写2，数据类型丰富3，支持持久化4，多种内存分配及回收策略5，支持事务6，消息队列、redis用的多的还是发布-订阅模式7，支持高可用8，支持分布式分片集群</code></pre><p>linux操作系统是怎么分配内存的？</p><pre><code>把内存分为三大块    PSS    page cache    anno page：程序之间进行交互的时候。。。。#匿名页linux操作系统以page进行分配内存，page大小默认4kbslab allocator 内存页的划分</code></pre><p>怎么保证使用连续的内存</p><pre><code>slab allocator</code></pre><h2 id="redis的优势"><a href="#redis的优势" class="headerlink" title="redis的优势"></a>redis的优势</h2><pre><code>1、redis在单用户(单线程)多并发读写的性能高2、在多用户(多线程)少读写时memache更优3、redis是一个单核的管理机制，生产中一般是，单机多实例的框架</code></pre><h1 id="redis的使用"><a href="#redis的使用" class="headerlink" title="redis的使用"></a>redis的使用</h1><pre><code>下载安装解压 tar -zxvf redis-3.2.6.tar.gz cd redis-2.6.0make #编译安装yum install gcc*cd /application/redis-3.2.6/src./redis-server &amp; #启动redis服务端 ,&amp;后台运行，不然一直占用端口ps -ef |grep redis #查看是否启动./redis-cli  #连接服务器</code></pre><h1 id="使用redis"><a href="#使用redis" class="headerlink" title="使用redis"></a>使用redis</h1><p>　<br>    set foo bar<br>    get foo </p><pre><code>基本的配置文件vim /etc/redis.conf  #去编辑redis.conf文件#添加配置daemonize  yesport 6379dbfilename dump.rdbdir &quot;/application/data/6379&quot; logfile /var/log/redis.log######mkdir -p /application/data/6379ps -ef |grep redis./redis-server /etc/redis.conf /application/redis-3.2.6/src/redis-server /etc/redis.conf#为了不用每次都切进去，在环境变量里面设置一下cd /root vim .bash_profile PATh 添加 :/application/redis-3.2.6/src:wq保存配置生效source .bash_profileredis-cli 配置完成之后，可以直接在命令行调用redis命令例如：redis-cli shutdown或者redis-server /etc/redis.conf#安全控制（也在配置文件里面设置）bind 10.0.0.200   #绑定ip10字段requirepass root  #没有用户只有密码，密码为rootredis-cli shutdownredis-server /etc/redis.conf设置完成之后需要换种方式打开：redis-cli -h 10.0.0.200 -a root #改完配置文件每次都需要重启，不用每次都重启，在线变更配置：获取当前配置CONFIG GET *变更运行配置CONFIG  SET loglevel &apos;notice&apos;修改密码CONFIG SET requirepass  &quot;123&quot;CONFIG GET requirepass在线修改的配置，下次登录生效，但是重启之后配置会丢失#Python链接redis import redis ....</code></pre><h1 id="redis的数据持久化"><a href="#redis的数据持久化" class="headerlink" title="redis的数据持久化"></a>redis的数据持久化</h1><pre><code>RDB持久化：快照，只记录一个时刻内存数据状态（快照记录某一时刻的数据）AOF持久化：只追加日志文件的方式，记录了redis里面所有的修改命令RDB记录某一时刻的，还可以用做备份AOF比较安全，但是比较啰嗦，每次都把所有的搜保存下来了#如果配置持久化功能方式一：RDB 持久化配置：还是修改配置文件dbfilename dump.rbd dir &apos;/application/data/6379&apos;save 900 1  900秒内有一个更改save 300 10  300秒内有10个更改save 60 10000  60秒内有10000个更改#也可以设置配置做持久化方式二：set foo bar save 或者 bgsave  #手工触发持久化#配置扩展    stop-writes-on-bgsave-error yes    rdbcompression yes    rdbchecksum yes#AOF 配置appendonly yes applendfsync every</code></pre><h1 id="redis数据类型"><a href="#redis数据类型" class="headerlink" title="redis数据类型"></a>redis数据类型</h1><pre><code>计数器incr fensi ##你点击一下增加一下，刷点击量   incrby fensi 10000   DECR fensi #递减   DECRBY fensi 20  set foo bar set foo ex 10hset stu(表) id(列) 100hmset stu id 100 name  zhangsna lpush pengyouquan &apos;today is nice day&apos;lpush pengyouquan &apos;today is bad day&apos;lpush pengyouquan &apos;today is a day&apos;lpop pengyouquan  #删除最后一条lrange pengyouquan 0 -1 #查看所有有序集合：像是排行榜</code></pre><h1 id="发布订阅模式"><a href="#发布订阅模式" class="headerlink" title="发布订阅模式"></a>发布订阅模式</h1><pre><code>发布订阅模式（中间桥梁：频道）:朋友圈是很好的证明。先关注你就能看到开两个端口 PUBLISH weibo hello 先订阅某个频道SUBSCRIBE weibo  订阅weibo一个频道,subscribe PSUBSCRIBE * 一次性订阅多个频道（广告类）PSUBSCRIBE it.* 一次性订阅多个和it相关的频道退出就取消订阅了</code></pre><h1 id="redis的事物管理"><a href="#redis的事物管理" class="headerlink" title="redis的事物管理"></a>redis的事物管理</h1><pre><code>redis使用multi开启事物    discard  撤销    exec 退出    redis 中的锁机制        mysql的悲观锁：我在做操作的时候，你别和我抢，        redis的乐观锁：查看一下，</code></pre><h1 id="redis的一些管理命令"><a href="#redis的一些管理命令" class="headerlink" title="redis的一些管理命令"></a>redis的一些管理命令</h1><pre><code>InfoClinet list 客户端连接的状况以及对系统的使用情况Client kill ip:portconfig get *CONFIG RESETSTAT 重置统计CONFIG GET/SET 动态修改DbsizeFLUSHALL 清空所有数据select 1FLUSHDB 清空当前库MONITOR 监控实时指令</code></pre><h1 id="主从复制"><a href="#主从复制" class="headerlink" title="主从复制"></a>主从复制</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line">假如说你访问redis呢，访问不了呢，数据查看不了了，怎么办？    </span><br><span class="line">        我们要做到一个恢复的功能，所以就有了主从复制的功能</span><br><span class="line">        假如说一个机器废了，还有另一个机器能提供数据</span><br><span class="line">        至少要有两台服务器</span><br><span class="line">    主从复制的两种功能</span><br><span class="line">        <span class="number">1</span>、可以实现故障的转移 failover </span><br><span class="line">        <span class="number">2</span>、可以分担多节点的压力 blance</span><br><span class="line">    底层原理依赖于</span><br><span class="line">        同步传输rbd存储的机制</span><br><span class="line">    怎么搭建主从？</span><br><span class="line">        准备<span class="number">2</span>台或以上的redis实例</span><br><span class="line">            <span class="number">1</span>、多配置文件（端口、数据路径、日志路径、pid）</span><br><span class="line">               端口、：<span class="number">6380</span>(主),<span class="number">6381</span>(从)</span><br><span class="line">               数据路径：</span><br><span class="line">                    /application/data/<span class="number">6380</span></span><br><span class="line">                    /application/data/<span class="number">6381</span></span><br><span class="line">               日志路径</span><br><span class="line">                    /var/log/redis6380.log</span><br><span class="line">                    /var/log/redis6381.log</span><br><span class="line">               pid :记录一个程序进程号的id    </span><br><span class="line">                    /application/data/<span class="number">6380</span>/redis.pid</span><br><span class="line">                    /application/data/<span class="number">6381</span>/redis.pid</span><br><span class="line">            <span class="number">2</span>、主从复制的配置过程</span><br><span class="line">                <span class="number">1</span>、创建目录</span><br><span class="line">                    mkdir -p /application/data/<span class="number">6380</span></span><br><span class="line">                    mkdir -p /application/data/<span class="number">6381</span></span><br><span class="line">                <span class="number">2</span>、配置文件准备</span><br><span class="line">                    vim  /application/data/<span class="number">6380</span>/redis.conf</span><br><span class="line">                    port <span class="number">6380</span></span><br><span class="line">                    daemonize yes</span><br><span class="line">                    pidfile /application/data/<span class="number">6380</span>/redis.pid</span><br><span class="line">                    logfile <span class="string">"/var/log/redis6380.log"</span></span><br><span class="line">                    dbfilename dump.rdb</span><br><span class="line">                    dir /application/data/<span class="number">6380</span></span><br><span class="line"></span><br><span class="line">                    vim /application/data/<span class="number">6381</span>/redis.conf</span><br><span class="line">                    port <span class="number">6381</span></span><br><span class="line">                    daemonize yes</span><br><span class="line">                    pidfile /application/data/<span class="number">6381</span>/redis.pid</span><br><span class="line">                    logfile <span class="string">"/var/log/redis6381.log"</span></span><br><span class="line">                    dbfilename dump.rdb</span><br><span class="line">                    dir /application/data/<span class="number">6381</span></span><br><span class="line">            <span class="number">3</span>、启动两个实例</span><br><span class="line">                redis-server /application/data/<span class="number">6380</span>/redis.conf</span><br><span class="line">                redis-server /application/data/<span class="number">6381</span>/redis.conf</span><br><span class="line"></span><br><span class="line">            <span class="number">4</span>、构建主从</span><br><span class="line">                redis-cli -p <span class="number">6381</span></span><br><span class="line">                slaveof <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span> <span class="number">6380</span></span><br><span class="line">            <span class="number">5</span>、验证主从</span><br><span class="line">                登录主库：</span><br><span class="line">                redis-cli -p <span class="number">6380</span></span><br><span class="line"></span><br><span class="line">                set foo bar</span><br><span class="line">                登录主库：</span><br><span class="line">                redis-cli -p <span class="number">6381</span></span><br><span class="line">                get</span><br><span class="line"></span><br><span class="line">            <span class="number">6</span>、主从复制状态查看。</span><br><span class="line">                role</span><br><span class="line">                info replication</span><br><span class="line"></span><br><span class="line">            <span class="number">7</span>、主从复制，手工切换</span><br><span class="line">                slaveof no one</span><br><span class="line">        </span><br><span class="line">传统主从的缺陷</span><br><span class="line"><span class="number">1</span>、没有自动监控机制</span><br><span class="line"><span class="number">2</span>、没有自动切换的功能</span><br><span class="line"><span class="number">3</span>、对于应用不透明</span><br><span class="line"></span><br><span class="line">sentinel 功能</span><br><span class="line"><span class="number">1</span>、自动监控redis所有节点状态</span><br><span class="line"><span class="number">2</span>、发现主库故障，自动选主切换</span><br><span class="line"><span class="number">3</span>、自动通知应用端</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">准备，<span class="number">1</span>主<span class="number">2</span>从结构比较合适。</span><br><span class="line">添加<span class="number">6382</span>节点：</span><br><span class="line">mkdir -p /application/data/<span class="number">6382</span></span><br><span class="line"></span><br><span class="line">vim  /application/data/<span class="number">6382</span>/redis.conf</span><br><span class="line"></span><br><span class="line">port <span class="number">6382</span></span><br><span class="line">daemonize yes</span><br><span class="line">pidfile /application/data/<span class="number">6382</span>/redis.pid</span><br><span class="line">logfile <span class="string">"/var/log/redis6382.log"</span></span><br><span class="line">dbfilename dump.rdb</span><br><span class="line">dir /application/data/<span class="number">6382</span></span><br><span class="line"></span><br><span class="line">redis-server /application/data/<span class="number">6382</span>/redis.conf</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">redis-cli -p <span class="number">6382</span></span><br><span class="line"></span><br><span class="line">slaveof <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span> <span class="number">6380</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">sentinel配置</span><br><span class="line"></span><br><span class="line">mkdir -p /application/data/<span class="number">26380</span></span><br><span class="line"></span><br><span class="line">vim /application/data/<span class="number">26380</span>/sentinel.conf</span><br><span class="line">port <span class="number">26380</span></span><br><span class="line">dir <span class="string">"/application/data/26380"</span></span><br><span class="line">sentinel monitor mymaster <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span> <span class="number">6380</span> <span class="number">1</span></span><br><span class="line">sentinel down-after-milliseconds mymaster <span class="number">60000</span></span><br><span class="line">sentinel config-epoch mymaster <span class="number">0</span></span><br><span class="line">启动</span><br><span class="line">redis-sentinel /application/data/<span class="number">26380</span>/sentinel.conf</span><br></pre></td></tr></table></figure><h1 id="Python-sentinel"><a href="#Python-sentinel" class="headerlink" title="Python sentinel"></a>Python sentinel</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> redis.sentinel <span class="keyword">import</span> Sentinel  </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sentinel = Sentinel([(<span class="string">'127.0.0.1'</span>, <span class="number">26380</span>)], socket_timeout=<span class="number">0.1</span>)  </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sentinel.discover_master(<span class="string">'mymaster'</span>)  </span><br><span class="line">(<span class="string">'127.0.0.1'</span>, <span class="number">6379</span>)  </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sentinel.discover_slaves(<span class="string">'mymaster'</span>)  </span><br><span class="line">[(<span class="string">'127.0.0.1'</span>, <span class="number">6380</span>)]  </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>master = sentinel.master_for(<span class="string">'mymaster'</span>, socket_timeout=<span class="number">0.1</span>)  </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>slave = sentinel.slave_for(<span class="string">'mymaster'</span>, socket_timeout=<span class="number">0.1</span>)  </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>master.set(<span class="string">'foo'</span>, <span class="string">'bar'</span>)  </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>slave.get(<span class="string">'foo'</span>)  </span><br><span class="line"><span class="string">'bar'</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;redis介绍&quot;&gt;&lt;a href=&quot;#redis介绍&quot; class=&quot;headerlink&quot; title=&quot;redis介绍&quot;&gt;&lt;/a&gt;redis介绍&lt;/h1&gt;&lt;h2 id=&quot;redis的功能特性&quot;&gt;&lt;a href=&quot;#redis的功能特性&quot; class=&quot;head
      
    
    </summary>
    
      <category term="redis" scheme="http://yoursite.com/categories/redis/"/>
    
    
  </entry>
  
  <entry>
    <title>redis之五大数据类型</title>
    <link href="http://yoursite.com/2018/02/23/redis%E4%B9%8B%E4%BA%94%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/"/>
    <id>http://yoursite.com/2018/02/23/redis之五大数据类型/</id>
    <published>2018-02-23T10:47:23.000Z</published>
    <updated>2018-11-22T12:30:59.787Z</updated>
    
    <content type="html"><![CDATA[<h1 id="redis的两种链接方式"><a href="#redis的两种链接方式" class="headerlink" title="redis的两种链接方式"></a>redis的两种链接方式</h1><h2 id="简单链接"><a href="#简单链接" class="headerlink" title="简单链接"></a>简单链接</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> redis</span><br><span class="line">conn = redis.Redis(host=<span class="string">'10.0.0.200'</span>,port=<span class="number">6379</span>)</span><br><span class="line">conn.set(<span class="string">'k1'</span>,<span class="string">'value'</span>)</span><br><span class="line">print(conn.get(<span class="string">'k1'</span>))</span><br></pre></td></tr></table></figure><h2 id="连接池"><a href="#连接池" class="headerlink" title="连接池"></a>连接池</h2><p>如果要链接redis的时候推荐用连接池的方式；如果每次操作都用同一个链接，可以使用连接池</p><p>redis使用connection_poll来管理对一个redis服务的所有链接，避免每次建立，释放链接的开销<br>默认每个redis实例都会维护一个自己的链接池。可以直接建立一个连接池，然后作为参数redis，这样<br>就可以实现多个redis实例共享一个连接池</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#连接池</span></span><br><span class="line"><span class="keyword">import</span> redis</span><br><span class="line">pool = redis.ConnectionPool(host=<span class="string">'10.0.0.200'</span>,port=<span class="number">6379</span>)</span><br><span class="line">conn = redis.Redis(connection_pool=pool)</span><br><span class="line"></span><br><span class="line">conn.set(<span class="string">'a'</span>,<span class="string">'python'</span>)</span><br><span class="line">print(conn.get(<span class="string">'a'</span>))</span><br></pre></td></tr></table></figure><h2 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h2><h3 id="pool-py"><a href="#pool-py" class="headerlink" title="pool.py"></a>pool.py</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> redis</span><br><span class="line">POOL = redis.ConnectionPool(host=<span class="string">'10.0.0.200'</span>,port=<span class="number">6379</span>)</span><br></pre></td></tr></table></figure><h3 id="view-py"><a href="#view-py" class="headerlink" title="view.py"></a>view.py</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render,HttpResponse</span><br><span class="line"><span class="keyword">import</span> redis</span><br><span class="line"><span class="keyword">from</span> app01.pool <span class="keyword">import</span> POOL</span><br><span class="line"><span class="comment"># Create your views here.</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span><span class="params">(request)</span>:</span></span><br><span class="line">    pool = redis.Redis(connection_pool=POOL)  <span class="comment">#连接redis</span></span><br><span class="line">    <span class="keyword">return</span> HttpResponse(<span class="string">'ok'</span>) </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">home</span><span class="params">(request)</span>:</span></span><br><span class="line">    pool = redis.Redis(connection_pool=POOL)</span><br><span class="line">    <span class="keyword">return</span> HttpResponse(<span class="string">'ok'</span>)</span><br></pre></td></tr></table></figure><h3 id="Django-redis组件"><a href="#Django-redis组件" class="headerlink" title="Django-redis组件"></a>Django-redis组件</h3><p>安装： pip install django-redis</p><p>配置文件</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">CACHES = &#123;</span><br><span class="line">    <span class="string">"default"</span>: &#123;</span><br><span class="line">        <span class="string">"BACKEND"</span>: <span class="string">"django_redis.cache.RedisCache"</span>,</span><br><span class="line">        <span class="string">"LOCATION"</span>: <span class="string">"redis://10.0.0.200:6379"</span>,</span><br><span class="line">        <span class="string">"OPTIONS"</span>: &#123;</span><br><span class="line">            <span class="string">"CLIENT_CLASS"</span>: <span class="string">"django_redis.client.DefaultClient"</span>,</span><br><span class="line">            <span class="comment">#"PASSWORD": "123456",</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>使用</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#利用django-redis组件进行连接</span></span><br><span class="line"><span class="keyword">from</span> django.core.cache <span class="keyword">import</span> caches</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> django_redis</span><br><span class="line">os.environ[<span class="string">'DJANGO_SETTINGS_MODULE'</span>] = <span class="string">'redis_use.settings'</span></span><br><span class="line"></span><br><span class="line">conn = django_redis.get_redis_connection()</span><br><span class="line">conn.set(<span class="string">'b'</span>,<span class="string">'666'</span>)</span><br></pre></td></tr></table></figure><h1 id="redis的字符串操作-string"><a href="#redis的字符串操作-string" class="headerlink" title="redis的字符串操作(string)"></a>redis的字符串操作(string)</h1><p>Sting操作，redis中的String在内存中按照一个name对应一个value来存储</p><img src="/2018/02/23/redis之五大数据类型/1.png"><p>1、set(name, value, ex=None, px=None, nx=False, xx=False) # 设置值<br>    在Redis中设置值，默认，不存在则创建，存在则修改<br>    参数：<br>        ex，过期时间（秒）<br>        px，过期时间（毫秒）<br>        nx，如果设置为True，则只有name不存在时，当前set操作才执行<br>        xx，如果设置为True，则只有name存在时，岗前set操作才执行<br>2、setnx(name, value)</p><pre><code>设置值，只有name不存在时，执行设置操作（添加）  #相当于只是添加，不能进行修改操作</code></pre><p>3、setex(name, value, time)</p><pre><code># 设置值# 参数：    # time，过期时间（数字秒 或 timedelta对象）</code></pre><p>4、psetex(name, time_ms, value)</p><pre><code># 设置值# 参数：    # time_ms，过期时间（数字毫秒 或 timedelta对象）</code></pre><p>5、mset(*args, **kwargs)</p><pre><code>批量设置值如：    mset(k1=&apos;v1&apos;, k2=&apos;v2&apos;)    或    mset({&apos;k1&apos;: &apos;v1&apos;, &apos;k2&apos;: &apos;v2&apos;})</code></pre><p>6、get(name)  获取值</p><p>7、mget(keys, *args)</p><pre><code>批量获取如：    mget(&apos;ylr&apos;, &apos;zzz&apos;)    或    r.mget([&apos;ylr&apos;, &apos;zzz&apos;])</code></pre><p>8、getset(name, value) 设置新值并获取原来的值</p><p>9、getrange(key, start, end)</p><pre><code># 获取子序列（根据字节获取，非字符）# 参数：    # name，Redis 的 name    # start，起始位置（字节）    # end，结束位置（字节）# 如： &quot;拉销量&quot; ，0-3表示 &quot;拉&quot;</code></pre><p>待续。。</p><h1 id="redis的列表操作-list"><a href="#redis的列表操作-list" class="headerlink" title="redis的列表操作(list)"></a>redis的列表操作(list)</h1><h1 id="redis的散列表操作-类似于字典里面嵌套字典"><a href="#redis的散列表操作-类似于字典里面嵌套字典" class="headerlink" title="redis的散列表操作(类似于字典里面嵌套字典)"></a>redis的散列表操作(类似于字典里面嵌套字典)</h1><p>Hash操作，也叫做散列表操作。redis中Hash在内存中的存储格式如下</p><img src="/2018/02/23/redis之五大数据类型/2.png"><p>1、hset(name, key, value)</p><pre><code># name对应的hash中设置一个键值对（不存在，则创建；否则，修改）# 参数：    # name，redis的name    # key，name对应的hash中的key    # value，name对应的hash中的value# 注：    # hsetnx(name, key, value),当name对应的hash中不存在当前key时则创建（相当于添加）</code></pre><p>2、hmset(name, mapping)</p><pre><code># 在name对应的hash中批量设置键值对# 参数：    # name，redis的name    # mapping，字典，如：{&apos;k1&apos;:&apos;v1&apos;, &apos;k2&apos;: &apos;v2&apos;}# 如：    # r.hmset(&apos;xx&apos;, {&apos;k1&apos;:&apos;v1&apos;, &apos;k2&apos;: &apos;v2&apos;})</code></pre><p>3、hget(name,key)</p><pre><code># 在name对应的hash中获取根据key获取value</code></pre><p>4、hmget(name, keys, *args)</p><pre><code># 在name对应的hash中获取多个key的值# 参数：    # name，reids对应的name    # keys，要获取key集合，如：[&apos;k1&apos;, &apos;k2&apos;, &apos;k3&apos;]    # *args，要获取的key，如：k1,k2,k3# 如：    # r.mget(&apos;xx&apos;, [&apos;k1&apos;, &apos;k2&apos;])    # 或    # print r.hmget(&apos;xx&apos;, &apos;k1&apos;, &apos;k2&apos;)</code></pre><p>5、hgetall(name)  获取name对应的hash中的所有键值</p><p>6、hlen(name)  获取name对应的hash中键值对的个数</p><p>7、hkeys(name) 获取name对应的hash中所有的key的值</p><p>8、hvals(name) 获取name对应的hash中所有的value的值</p><p>9、hexists(name, key) 检查name对应的hash是否存在当前传入的key</p><p>10、hdel(name,*keys)  将name对应的hash中指定key的键值对删除</p><p>11、hincrby(name, key, amount=1)   吧原来的值自加1</p><pre><code>hincrby (&apos;xxx&apos;,&apos;slex&apos;,amount=-1) #吧原来的值自减1# 自增name对应的hash中的指定key的值，不存在则创建key=amount# 参数：    # name，redis中的name    # key， hash对应的key    # amount，自增数（整数）</code></pre><p>12、hincrbyfloat(name, key, amount=1.0) 支持浮点型的</p><p>13、hscan(name, cursor=0, match=None, count=None)</p><pre><code># 增量式迭代获取，对于数据大的数据非常有用，hscan可以实现分片的获取数据，并非一次性将数据全部获取完，从而放置内存被撑爆# 参数：    # name，redis的name    # cursor，游标（基于游标分批取获取数据）    # match，匹配指定key，默认None 表示所有的key    # count，每次分片最少获取个数，默认None表示采用Redis的默认分片个数# 如：    # 第一次：cursor1, data1 = r.hscan(&apos;xx&apos;, cursor=0, match=None, count=None)    # 第二次：cursor2, data1 = r.hscan(&apos;xx&apos;, cursor=cursor1, match=None, count=None)    # ...    # 直到返回值cursor的值为0时，表示数据已经通过分片获取完毕</code></pre><p>14、hscan_iter(name, match=None, count=None)</p><pre><code># 利用yield封装hscan创建生成器，实现分批去redis中获取数据# 参数：    # match，匹配指定key，默认None 表示所有的key    # count，每次分片最少获取个数，默认None表示采用Redis的默认分片个数# 如：    # for item in r.hscan_iter(&apos;xx&apos;):    #     print item　　# for item in r.hscan_iter(&apos;xx&apos;,match=&apos;*lx&apos;):  #匹配以lx结尾的    #     print item</code></pre><h1 id="redis的集合操作-set"><a href="#redis的集合操作-set" class="headerlink" title="redis的集合操作(set)"></a>redis的集合操作(set)</h1><h1 id="redis的有序集合操作-zset"><a href="#redis的有序集合操作-zset" class="headerlink" title="redis的有序集合操作(zset)"></a>redis的有序集合操作(zset)</h1>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;redis的两种链接方式&quot;&gt;&lt;a href=&quot;#redis的两种链接方式&quot; class=&quot;headerlink&quot; title=&quot;redis的两种链接方式&quot;&gt;&lt;/a&gt;redis的两种链接方式&lt;/h1&gt;&lt;h2 id=&quot;简单链接&quot;&gt;&lt;a href=&quot;#简单链接&quot; cla
      
    
    </summary>
    
      <category term="redis" scheme="http://yoursite.com/categories/redis/"/>
    
    
  </entry>
  
  <entry>
    <title>redis之安装</title>
    <link href="http://yoursite.com/2018/02/22/redis%E4%B9%8B%E5%AE%89%E8%A3%85/"/>
    <id>http://yoursite.com/2018/02/22/redis之安装/</id>
    <published>2018-02-22T09:45:52.000Z</published>
    <updated>2018-11-22T10:20:54.742Z</updated>
    
    <content type="html"><![CDATA[<h1 id="redis介绍"><a href="#redis介绍" class="headerlink" title="redis介绍"></a>redis介绍</h1><p>redis是一个key-value存储系统，菲关系型数据库。和Memcached类似，<br>他支持存储的value类型相对更多，包括字符串、列表、哈希散列表、集合、有序集合。</p><pre><code>这些数据都支持push/pop、add/remove及取交集并集和差集及丰富的操作而且这些操作都是原子性的。在此基础上，redis支持各种不同方式的排序。与memcached一样，为了保证效率，数据都在缓存的内存中。区别的是redis会周期性的把更新的数据写入磁盘或者把修改操作写入追加的记录文件，并且在此基础上实现master-slave(主从)同步</code></pre><p>本质：将数据保存在内存中</p><p>用提：redis可以做缓存；redis可以做消息队列</p><p>特性：</p><pre><code>1，可以做持久化：在配置文件设置，如果你要保存到文件，可以添加设置，就算电脑不小心关键了，数据还是存在的。这个要不要保存都要自己来定。2.支持存放数据的格式多（5中）</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">'k1'</span>:<span class="string">'hiayan'</span>,  <span class="comment">#第一种字符串格式</span></span><br><span class="line">    <span class="string">'k2'</span>:[<span class="number">11</span>,<span class="number">22</span>,<span class="number">33</span>,<span class="number">44</span>], <span class="comment">#第二种列表格式</span></span><br><span class="line">    <span class="string">'k3'</span>:&#123;<span class="number">11</span>,<span class="number">22</span>,<span class="number">33</span>,<span class="number">44</span>&#125;, <span class="comment">#第三种集合格式</span></span><br><span class="line">    <span class="string">'k4'</span>:&#123;                 <span class="comment">#第四种,字典，也可以叫做哈希散列表,</span></span><br><span class="line">            <span class="string">'n1'</span>:<span class="string">'xxx'</span>,</span><br><span class="line">            <span class="string">'n2'</span>:<span class="string">'fff'</span></span><br><span class="line">        &#125;,</span><br><span class="line">    <span class="string">'k5'</span>:&#123;(<span class="number">11</span>,<span class="number">1</span>),(<span class="string">'xxx'</span>:<span class="number">5</span>)&#125; <span class="comment">#有序集合</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="相关问题"><a href="#相关问题" class="headerlink" title="相关问题"></a>相关问题</h1><p>1、为什么使用redis？使用redis有哪些好处？</p><pre><code>1，速度快，因为数据在内存中，类似HashMap的优势就是查找和操作的时间复杂度都是o(1)2，支持丰富的数据类型，支持string，list，set，sorted set，hash3，支持事务，操作都是原子性，所谓的原子性就是对数据的更改要么全部执行，要么全部不执行4，丰富的特性：可用于缓存，消息，按key设置过期时间，过期后将会自动删除。</code></pre><p>2、redis的速度memcached有哪些优势？</p><pre><code>1、memcached所有的值均是简单的字符串，redis作为其替代者，支持更为丰富的数据类型。2、redis的速度比memcached快很多3、redis可以持久化其数据</code></pre><h1 id="redis的安装"><a href="#redis的安装" class="headerlink" title="redis的安装"></a>redis的安装</h1><h2 id="方式一：硬盘免安装"><a href="#方式一：硬盘免安装" class="headerlink" title="方式一：硬盘免安装"></a>方式一：硬盘免安装</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">wget http://download.redis.io/releases/redis<span class="number">-3.0</span><span class="number">.6</span>.tar.gz  <span class="comment">#下载</span></span><br><span class="line">tar xzf redis<span class="number">-3.0</span><span class="number">.6</span>.tar.gz  <span class="comment">#解压</span></span><br><span class="line">cd redis<span class="number">-3.0</span><span class="number">.6</span>  <span class="comment">#切换到redis</span></span><br><span class="line">make  <span class="comment">#安装</span></span><br></pre></td></tr></table></figure><pre><code>启动服务端src/redis-server启动客户端src/redis-cliredis&gt; set foo barOKredis&gt; get foo&quot;bar&quot;</code></pre><h2 id="方式二：安装包"><a href="#方式二：安装包" class="headerlink" title="方式二：安装包"></a>方式二：安装包</h2><pre><code>yum install redis /etc/init.d/redis start  #开启 /etc/init.d/redis restart  #重启配置：/etc/redis/redis.conf #默认会读取这个文件去运行</code></pre><h2 id="方式三：rpm安装"><a href="#方式三：rpm安装" class="headerlink" title="方式三：rpm安装"></a>方式三：rpm安装</h2><pre><code>公司说你安装以下redis　　有两种情况：　　　　1、直接给你rpm包　　　　2、或者说你直接yum install redis 　　　　　　- 安装公司自定制　　　　　　- 安装官方ls #查看ctrl+c #停止结束进程（找服务器并杀掉）：ps -e|grep redis #杀掉kill -9 12343 #重新运行远程操作rdis的模块（模块的本质是通过socket进行通信的）mysql的端口：3306redis的端口：6379</code></pre><h1 id="Python操作Redis"><a href="#Python操作Redis" class="headerlink" title="Python操作Redis"></a>Python操作Redis</h1><p>sudo pip install redis<br>or<br>sudo easy_install redis<br>or<br>源码安装<br>详见：<a href="https://github.com/WoLpH/redis-py" target="_blank" rel="noopener">https://github.com/WoLpH/redis-py</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;redis介绍&quot;&gt;&lt;a href=&quot;#redis介绍&quot; class=&quot;headerlink&quot; title=&quot;redis介绍&quot;&gt;&lt;/a&gt;redis介绍&lt;/h1&gt;&lt;p&gt;redis是一个key-value存储系统，菲关系型数据库。和Memcached类似，&lt;br&gt;他支
      
    
    </summary>
    
      <category term="redis" scheme="http://yoursite.com/categories/redis/"/>
    
    
  </entry>
  
  <entry>
    <title>git下</title>
    <link href="http://yoursite.com/2018/01/14/git%E4%B8%8B/"/>
    <id>http://yoursite.com/2018/01/14/git下/</id>
    <published>2018-01-14T11:08:25.000Z</published>
    <updated>2018-11-19T09:59:28.548Z</updated>
    
    <content type="html"><![CDATA[<hr><h1 id="分支管理策略"><a href="#分支管理策略" class="headerlink" title="分支管理策略"></a>分支管理策略</h1><pre><code>1）master分支非常稳定的，只用来发布新版本，平时不在上面干活2）dev分支不稳定的，主要在上面干活，每个人都有自己的分支，时不时的往dev分支上合并通常，合并分支时，如果可能，Git会用`Fast forward`模式，但这种模式下，删除分支后，会丢掉分支信息。如果要强制禁用Fast forward模式，Git就会在merge时生成一个新的commit，这样，从分支历史上就可以看出分支信息。&gt; git log --graph --pretty=oneline --abbrev-commit</code></pre><h1 id="Bug分支"><a href="#Bug分支" class="headerlink" title="Bug分支"></a>Bug分支</h1><pre><code>你目前在dev分支上工作，工作到一半，但突然有一个紧急的bug需要修复，可以先保存你的工作现场，修复完bug后，在切回来。步骤：当前在dev分支上：    git stash  # 把当前工作现场“储藏”起来切换到要修复bug的分支（假定master）：    git checkout master    git checkout -b issue-101    .... 修复问题    git add filename    git commit filename把修改合并到修复的分支：    git checkout master    git merge --no-ff -m &quot;merge fix 101 modification&quot; issue-101    git branch -D issue-101切换回工作现场：    git checkout dev    git stash list  # 查看之前保存了哪些工作现场    git stash drop    两种恢复方式：    1）git stash apply恢复，但是恢复后，stash内容并不删除，你需要用git stash drop来删除        git stash apply stash@{0}        git stash drop stash@{0}    2）git stash pop，恢复的同时把stash内容也删了</code></pre><h1 id="Feature分支"><a href="#Feature分支" class="headerlink" title="Feature分支"></a>Feature分支</h1><pre><code>与bug分支类似两条命令：1）git branch -d dev_name  # 已经合并完的分支可以使用此命令删除2）git branch -d dev_name  # 强制删除分支（未合并的也可以）</code></pre><h1 id="多人协作"><a href="#多人协作" class="headerlink" title="多人协作"></a>多人协作</h1><pre><code>多个人在同一分支上工作，如何正确的合并文件？两种情况：**1）你和他人同时修改同一个文件，他人修改完成，提前推送到远程，如何提交你的修改**详细步骤：    1）试图用git push origin &lt;branch-name&gt;推送自己的修改；    2）如果推送失败，则因为远程分支比你的本地更新，需要先用git pull拉取远程最新的版本；    3）如果合并有冲突，则解决冲突，并在本地提交；    4）没有冲突或者解决掉冲突后，再用git push origin &lt;branch-name&gt;推送**2）你和他人操作的不是同一个文件详细步骤：    1）试图用git push origin &lt;branch-name&gt;推送自己的修改；    2）如果推送失败，先用git pull拉取远程最新的版本；    3）git add .  # 添加本地的全部修改到暂存区    4）git commit -m &quot;说明信息&quot;  # 提交更改至本地    5）git push origin &lt;branch-name&gt;推送本地分支至远程提交更改前，都要先git pull拉取远程最新版本  当从远程克隆时，Git自动把本地的master分支与远程的master分支对应起来，远程仓库的默认名称是origin。查看远程库信息：    git remote -v推送分支：    git push origin master  把本地的mater分支推送到远程对应的master分支上    git push origin dev     把本地的dev分支推送到远程对应的dev分支（远程没有dev分支会自动创建一个dev分支）创建远程origin的dev分支到本地    git checkout -b dev origin/dev指定本地dev分支与远程origin/dev分支的链接    git branch --set-upstream-to origin/dev dev    或    git branch --track origin/dev dev</code></pre><h1 id="标签"><a href="#标签" class="headerlink" title="标签"></a>标签</h1><pre><code>tag是一个容易记住的有意义的名字，它跟某个commit绑定在一起。打标签：    git tag tag_name  # 默认打在最新提交的commit上,当前HEAD的指向    git tag  # 查看标签    git show tag_name  # 查看标签详细信息在指定的commit上打标签：    git log --pretty=oneline  # 查看commit id    git log -a tag_name -m &quot;explain content&quot; commit_id推送标签：    git push origin tag_name    # 推送一个指定的标签    git push origin --tags      # 推送全部尚未推送到远程的本地标签删除标签：    1) 标签尚未推送到远程    git tag -d tag_name    2）标签已推送到远程    git tag -d tag_name    git push origin :refs/tags/tag_name</code></pre><h1 id="Rebase"><a href="#Rebase" class="headerlink" title="Rebase"></a>Rebase</h1><pre><code>解决查看log分支多，混乱的问题；遗留</code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;hr&gt;
&lt;h1 id=&quot;分支管理策略&quot;&gt;&lt;a href=&quot;#分支管理策略&quot; class=&quot;headerlink&quot; title=&quot;分支管理策略&quot;&gt;&lt;/a&gt;分支管理策略&lt;/h1&gt;&lt;pre&gt;&lt;code&gt;1）master分支
非常稳定的，只用来发布新版本，平时不在上面干活
2）dev分
      
    
    </summary>
    
      <category term="git" scheme="http://yoursite.com/categories/git/"/>
    
    
  </entry>
  
  <entry>
    <title>conda常用命令</title>
    <link href="http://yoursite.com/2018/01/14/conda%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
    <id>http://yoursite.com/2018/01/14/conda常用命令/</id>
    <published>2018-01-14T08:03:33.000Z</published>
    <updated>2018-11-19T09:58:27.705Z</updated>
    
    <content type="html"><![CDATA[<h1 id="查看-conda-版本号"><a href="#查看-conda-版本号" class="headerlink" title="查看 conda 版本号"></a>查看 conda 版本号</h1><p>conda -V<br>conda –version</p><h1 id="环境管理"><a href="#环境管理" class="headerlink" title="环境管理"></a>环境管理</h1><ol><li>查看当前有哪些环境<blockquote><p>conda env list 或<br>conda info -e</p><p>实际执行命令示例:<br>➜  ~ conda env list</p><h1 id="conda-environments"><a href="#conda-environments" class="headerlink" title="conda environments:"></a>conda environments:</h1><p>#<br>base                  *  /anaconda3<br>flaskdev                 /anaconda3/envs/flaskdev<br>pythonRoad               /anaconda3/envs/pythonRoad<br>test_py2                 /anaconda3/envs/test_py2</p></blockquote></li></ol><blockquote><p>➜  ~ conda info -e</p><h1 id="conda-environments-1"><a href="#conda-environments-1" class="headerlink" title="conda environments:"></a>conda environments:</h1><p>#<br>base                  *  /anaconda3<br>flaskdev                 /anaconda3/envs/flaskdev<br>pythonRoad               /anaconda3/envs/pythonRoad<br>test_py2                 /anaconda3/envs/test_py2</p></blockquote><ol start="2"><li><p>查看环境管理的命令帮助</p><blockquote><p>conda env -h</p></blockquote></li><li><p>创建环境</p><blockquote><p>conda create –name your_env_name</p></blockquote></li><li><p>创建指定 python 版本的环境</p><blockquote><p>conda create –name your_env_name python=2.7<br>conda create –name your_env_name python=3.6</p></blockquote></li><li><p>创建包含某些包的环境</p><blockquote><p>conda create –name your_env_name numpy scrapy</p></blockquote></li><li><p>创建指定版本下包含某些包的环境</p><blockquote><p>conda create –name your_env_name python=3.6 numpy scrapy</p></blockquote></li><li><p>激活某个环境</p><blockquote><p>source activate target_env_name</p></blockquote></li><li><p>关闭激活的环境</p><blockquote><p>source deactivate target_env_name</p></blockquote></li><li><p>复制某个环境</p><blockquote><p>conda create –name new_env_name –clone old_env_name</p></blockquote></li><li><p>删除某个环境</p><blockquote><p>conda remove –name target_env_name –all</p></blockquote></li></ol><h2 id="包管理"><a href="#包管理" class="headerlink" title="包管理"></a>包管理</h2><ol><li><p>列举当前活跃环境下的所有包</p><blockquote><p>conda list</p></blockquote></li><li><p>列举一个指定环境下的所有包</p><blockquote><p>conda list -n your_env_name</p></blockquote></li><li><p>为激活环境安装某个包</p><blockquote><p>conda install package_name</p></blockquote></li><li><p>为指定环境安装某个包</p><blockquote><p>conda install –name target_env_name package_name</p></blockquote></li><li><p>更新当前环境某个包</p><blockquote><p>conda update package_name</p></blockquote></li><li><p>更新指定环境某个包</p><blockquote><p>conda update -n target_env_name package_name</p></blockquote></li><li><p>删除当前环境某个包</p><blockquote><p>conda remove package_name<br>注意: 如果是通过pip安装的包,移除时也请使用 pip uninstall package_name 命令移除,如果使用 conda remove 可能会发生异常,导致conda不可用</p></blockquote></li><li><p>删除指定环境某个包</p><blockquote><p>conda remove -n target_env_name package_name</p></blockquote></li><li><p>搜索某个包信息</p><blockquote><p>conda search package_name</p></blockquote></li><li><p>更新anaconda</p><blockquote><p>conda update anaconda</p></blockquote></li><li><p>更新python至最新版本</p><blockquote><p>conda update python</p></blockquote></li><li><p>更新所有包</p><blockquote><p>conda update –all</p></blockquote></li></ol><h1 id="分享环境"><a href="#分享环境" class="headerlink" title="分享环境"></a>分享环境</h1><p>把自己的环境分享给别人,方便他人快速建立与你一模一样的环境(同一个版本的python及各种包). 一个分享环境快速的方法就是给他人一个你要分享环境的.yml文件<br>步骤:<br>1) 生成欲分享环境的yml文件</p><blockquote><p>conda env export &gt; environment.yml</p></blockquote><p>2) 他人在自己本地使用yml文件创建文件</p><blockquote><p>conda env create -f environment.yml</p></blockquote><hr><p>参考博客: <a href="https://blog.csdn.net/menc15/article/details/71477949/" target="_blank" rel="noopener">https://blog.csdn.net/menc15/article/details/71477949/</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;查看-conda-版本号&quot;&gt;&lt;a href=&quot;#查看-conda-版本号&quot; class=&quot;headerlink&quot; title=&quot;查看 conda 版本号&quot;&gt;&lt;/a&gt;查看 conda 版本号&lt;/h1&gt;&lt;p&gt;conda -V&lt;br&gt;conda –version&lt;/p&gt;
      
    
    </summary>
    
      <category term="conda" scheme="http://yoursite.com/categories/conda/"/>
    
    
  </entry>
  
  <entry>
    <title>git上</title>
    <link href="http://yoursite.com/2018/01/03/git%E4%B8%8A/"/>
    <id>http://yoursite.com/2018/01/03/git上/</id>
    <published>2018-01-03T06:52:40.000Z</published>
    <updated>2018-11-19T09:59:09.367Z</updated>
    
    <content type="html"><![CDATA[<p>目录：<br>    建立本地版本库<br>    本地版本库与远程关联<br>    修改文件并提交<br>    创建分支,修改文件合并至master</p><h1 id="git的由来"><a href="#git的由来" class="headerlink" title="git的由来"></a>git的由来</h1><pre><code>linux系统是很多开发者贡献代码不断完善的,linux的创始人linus起初管理贡献者的代码,是通过手工的方式,但随着代码的增多,很难通过手工方式去管理,于是找了一个商业的版本控制系统BitKeeper管理代码.开发Samba的Andrew试图破解BitKeeper的协议（这么干的其实也不只他一个），被BitMover公司发现了（监控工作做得不错！），于是BitMover公司怒了，要收回Linux社区的免费使用权。Linus可以向BitMover公司道个歉，保证以后严格管教弟兄们，嗯，这是不可能的。实际情况是这样的：Linus花了两周时间自己用C写了一个分布式版本控制系统，这就是Git！一个月之内，Linux系统的源码已经由Git管理了！</code></pre><h1 id="集中式与分布式区别"><a href="#集中式与分布式区别" class="headerlink" title="集中式与分布式区别"></a>集中式与分布式区别</h1><pre><code>- 集中式： cvs, svn版本库集中放在中央服务器上,所有人干活时,都要先从中央服务器获取最新版本到本地,然后在本地修改,干完活后,将修改推送到中央服务器.**必须联网**才能工作.- 分布式每个人的电脑都是一个版本库,工作的时候 **不需要联网**,直接在本地修改,提交就可以.你和同事同时修改一个文件A,修改完成后互相将自己修改的文件推送给对方即可.**安全性高**, 每个人的本地都有一个完整的版本库,某个人的电脑突然崩溃,从其他人那直接copy一份就可以了.但集中式版本控制系统,一旦中央服务器垮掉,版本库信息就都丢失了.</code></pre><h1 id="创建版本库-添加文件"><a href="#创建版本库-添加文件" class="headerlink" title="创建版本库,添加文件"></a>创建版本库,添加文件</h1><pre><code>命令:    - 创建版本库        mkdir studyGit        git init    - 添加文件        vim readme.txt        git add readme.txt        git commit -m &quot;注释说明,方便自己或他人查看&quot;</code></pre><h1 id="修改文件并提交"><a href="#修改文件并提交" class="headerlink" title="修改文件并提交"></a>修改文件并提交</h1><pre><code>命令:    - vim  编辑修改文件内容    - git status  查看当前仓库状态    - git diff filename  查看文件具体改动内容    - 提交:        git add filename        git commit -m &quot;本次提交注释说明&quot;</code></pre><h1 id="版本回退"><a href="#版本回退" class="headerlink" title="版本回退"></a>版本回退</h1><pre><code>Git的版本回退速度非常快，因为Git在内部有个指向当前版本的HEAD指针，当你回退版本的时候，Git仅仅是把HEAD指向至你切换的版本.命令:    - 回退到上一个版本        git reset --hard HEAD^    - 回退到上上版本        git reset --hard HEAD^^    - 回退到指定版本        git log  查看你要切换版本的commit id        或 git log --pretty=oneline        git reset --hard target_commit_id    - 回退之后后悔了,想切换到回退前的版本        1) 通过git log是找不到回退前那次提交的日志的,没办法指定commit id回退切换        2) 通过git reflog查看, git reflog是记录我们的历史命令的,找到你那次提交历史命令前的commit id,即可切换回去</code></pre><h1 id="工作区和暂存区"><a href="#工作区和暂存区" class="headerlink" title="工作区和暂存区"></a>工作区和暂存区</h1><pre><code>工作区: 电脑上直接看到的,你管理的文件夹(使用git init创建的),就是工作区暂存区: 在工作区下,隐藏的.git文件夹,其中有很多文件,有几个重要的要理解:        - 暂存区: stage        - 版本信息(master分支)        - HEAD指针,指向具体分支提交工作区的文件修改或新增文件:    1) git add files  -&gt; 实际将这些修改先推送到本地暂存区(暂存区中存放了所有待提交的文件)    2) git commit -m &quot;说明&quot;  -&gt; 提交暂存区中的所有文件至master或分支版本</code></pre><h1 id="管理修改"><a href="#管理修改" class="headerlink" title="管理修改"></a>管理修改</h1><pre><code>工作区中readme.txt文件1) 第一次修改, 增加一行内容, git add readme.txt2) 第二次修改, 又增加了一行内容, 但未执行 git add readme.txt3) git commit -m &quot;注释&quot;; 那么此次提交的只是第一次修改的内容git diff HEAD -- readme.txt  查看工作区中与版本库中的不同之处</code></pre><h1 id="撤销修改"><a href="#撤销修改" class="headerlink" title="撤销修改"></a>撤销修改</h1><pre><code>1) 工作区修改,改乱了,还没有提交至暂存区; 可以通过 git checkout -- filename 恢复至与版本库一致的状态2) 工作区修改,改乱了,但之前已提交至暂存区,撤销修改:    git reset HEAD filename  把暂存区的修改撤销掉(unstage)    git checkout -- filename  恢复工作区与版本库一致</code></pre><h1 id="删除文件"><a href="#删除文件" class="headerlink" title="删除文件"></a>删除文件</h1><pre><code>git rm filenamegit commit -m &quot;delete file filename&quot;</code></pre><h1 id="远程仓库关联"><a href="#远程仓库关联" class="headerlink" title="远程仓库关联"></a>远程仓库关联</h1><pre><code>1) 创建ssh key:ssh-keygen -t rsa -C &quot;youremail@example.com&quot;  # 一路回车即可在用户主目录里会生成一个.ssh文件夹,里面有id_rsa和id_rsa.pub, id_rsa是私钥, id_rsa.pub是公钥;登录github,进入个人账户settings页面,选择ssh key -&gt; add new; 添加, 将id_rsa.pub复制到页面中,完成.2) 添加远程仓库    - 在github网站新增仓库,与本地要关联的仓库同名    - 进入本地仓库所在的目录, git remote add origin &lt;新增的远程仓库地址&gt;    - git push -u origin master  # 将本地仓库的master分支推送到远程服务器上,后续提交可以省略参数-u(远程初始仓库为空,所以加-u)    - 本地修改文件,提交; 推送至远程</code></pre><h1 id="克隆远程仓库"><a href="#克隆远程仓库" class="headerlink" title="克隆远程仓库"></a>克隆远程仓库</h1><pre><code>进入你想保存仓库的路径,然后执行:git clone &lt;远程仓库地址&gt;</code></pre><h1 id="创建与合并分支"><a href="#创建与合并分支" class="headerlink" title="创建与合并分支"></a>创建与合并分支</h1><pre><code>查看分支：git branch创建分支：git branch &lt;name&gt;切换分支：git checkout &lt;name&gt;创建+切换分支：git checkout -b &lt;name&gt;合并某分支到当前分支：git merge &lt;name&gt;删除分支：git branch -d &lt;name&gt;</code></pre><h1 id="解决冲突"><a href="#解决冲突" class="headerlink" title="解决冲突"></a>解决冲突</h1><pre><code>1) 在分支上修改了文件,并commit2) 在mster上修改了文件,并commit3) git merge &lt;ranchname&gt;; 报错, 无法实现快速合并, 需先解决冲突, 把冲突文件改成自己想要的内容,然后 git add filename, git commit -m &quot;注释&quot;.        </code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;目录：&lt;br&gt;    建立本地版本库&lt;br&gt;    本地版本库与远程关联&lt;br&gt;    修改文件并提交&lt;br&gt;    创建分支,修改文件合并至master&lt;/p&gt;
&lt;h1 id=&quot;git的由来&quot;&gt;&lt;a href=&quot;#git的由来&quot; class=&quot;headerlink&quot; ti
      
    
    </summary>
    
      <category term="git" scheme="http://yoursite.com/categories/git/"/>
    
    
  </entry>
  
  <entry>
    <title>Django的ContentType组件</title>
    <link href="http://yoursite.com/2017/11/30/Django%E7%9A%84ContentType%E7%BB%84%E4%BB%B6/"/>
    <id>http://yoursite.com/2017/11/30/Django的ContentType组件/</id>
    <published>2017-11-30T08:47:45.000Z</published>
    <updated>2018-11-19T09:46:32.065Z</updated>
    
    <content type="html"><![CDATA[<h1 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h1><p>我们商城里有很多的商品，节日要来了，我们要搞活动</p><p>那么我们就要设计优惠券，优惠卷都有什么类型嗯，满减的，折扣的，立减的等</p><p>我们对应着我们活动类型，对我们的某类商品设计优惠券，</p><p>比如：</p><pre><code>家电是一类商品食物是一类商品那么我们可以设计家电折扣优惠卷，以及食物满减优惠卷等</code></pre><p>那么表结构怎么设计</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> models</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Appliance</span><span class="params">(models.Model)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    家用电器表</span></span><br><span class="line"><span class="string">    id name</span></span><br><span class="line"><span class="string">    1   冰箱</span></span><br><span class="line"><span class="string">    2   电视</span></span><br><span class="line"><span class="string">    3   洗衣机</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    name = models.CharField(max_length=<span class="number">64</span>)</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Food</span><span class="params">(models.Model)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    食物表</span></span><br><span class="line"><span class="string">    id name</span></span><br><span class="line"><span class="string">    1  面包</span></span><br><span class="line"><span class="string">    2  牛奶</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    name = models.CharField(max_length=<span class="number">32</span>)</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Fruit</span><span class="params">(models.Model)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    水果表</span></span><br><span class="line"><span class="string">    id  name</span></span><br><span class="line"><span class="string">    1   苹果</span></span><br><span class="line"><span class="string">    2   香蕉</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    name = models.CharField(max_length=<span class="number">32</span>)</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Coupon</span><span class="params">(models.Model)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    优惠券表</span></span><br><span class="line"><span class="string">    id  name    appliance_id    food_id     fruit_id</span></span><br><span class="line"><span class="string">    1   通用优惠券   null            null        null</span></span><br><span class="line"><span class="string">    2   冰箱折扣券   1               null        null</span></span><br><span class="line"><span class="string">    3   电视折扣券   2               null        null</span></span><br><span class="line"><span class="string">    4   苹果满减卷   null            null        1</span></span><br><span class="line"><span class="string">    我每增加一张表就要多增加一个字段</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    name = models.CharField(max_length=<span class="number">32</span>)</span><br><span class="line">    appliance = models.ForeignKey(to=<span class="string">"Appliance"</span>, null=<span class="keyword">True</span>, blank=<span class="keyword">True</span>)</span><br><span class="line">    food = models.ForeignKey(to=<span class="string">"Food"</span>, null=<span class="keyword">True</span>, blank=<span class="keyword">True</span>)</span><br><span class="line">    fruit = models.ForeignKey(to=<span class="string">"Fruit"</span>, null=<span class="keyword">True</span>, blank=<span class="keyword">True</span>)&lt;br&gt;<span class="comment"># 实际上我们商品的种类会特别的多，导致我们这张表外键越来越多</span></span><br></pre></td></tr></table></figure><p>遇到这种一张表要跟多张表进行外键关联的时候，我们的Django提供了ContentType组件</p><h1 id="ContentType组件"><a href="#ContentType组件" class="headerlink" title="ContentType组件"></a>ContentType组件</h1><p>ContentType是Django内置的一个应用，可以追踪项目中所有的APP和model的对应关系，<br>并且记录在ContentType表中。</p><p>当我们的项目做数据库迁移后，会有很多DJango自带的表，其中就有dJango_content_type表</p><h2 id="ContentType组件应用"><a href="#ContentType组件应用" class="headerlink" title="ContentType组件应用"></a>ContentType组件应用</h2><pre><code>1，在model中定义ForeignKey字段，并关联到ContentType表，通常这个字段命名为content-type2，在model中定义PositiveIntergerField字段, 用来存储关联表中的主键，通常我们用object_id3，在model中定义GenericForeignKey字段，传入上面两个字段的名字4，方便反向查询可以定义GenericRelation字段</code></pre><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> models</span><br><span class="line"><span class="keyword">from</span> django.contrib.contenttypes.models <span class="keyword">import</span> ContentType</span><br><span class="line"><span class="keyword">from</span> django.contrib.contenttypes.fields <span class="keyword">import</span> GenericForeignKey, GenericRelation</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Appliance</span><span class="params">(models.Model)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    家用电器表</span></span><br><span class="line"><span class="string">    id name</span></span><br><span class="line"><span class="string">    1   冰箱</span></span><br><span class="line"><span class="string">    2   电视</span></span><br><span class="line"><span class="string">    3   洗衣机</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    name = models.CharField(max_length=<span class="number">64</span>)</span><br><span class="line">    coupons = GenericRelation(to=<span class="string">"Coupon"</span>)</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Food</span><span class="params">(models.Model)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    食物表</span></span><br><span class="line"><span class="string">    id name</span></span><br><span class="line"><span class="string">    1  面包</span></span><br><span class="line"><span class="string">    2  牛奶</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    name = models.CharField(max_length=<span class="number">32</span>)</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Fruit</span><span class="params">(models.Model)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    水果表</span></span><br><span class="line"><span class="string">    id  name</span></span><br><span class="line"><span class="string">    1   苹果</span></span><br><span class="line"><span class="string">    2   香蕉</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    name = models.CharField(max_length=<span class="number">32</span>)</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Coupon</span><span class="params">(models.Model)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    优惠券表</span></span><br><span class="line"><span class="string">    id  name    appliance_id    food_id     fruit_id</span></span><br><span class="line"><span class="string">    1   通用优惠券   null            null        null</span></span><br><span class="line"><span class="string">    2   冰箱折扣券   1               null        null</span></span><br><span class="line"><span class="string">    3   电视折扣券   2               null        null</span></span><br><span class="line"><span class="string">    4   苹果满减卷   null            null        1</span></span><br><span class="line"><span class="string">    我每增加一张表就要多增加一个字段</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    name = models.CharField(max_length=<span class="number">32</span>)</span><br><span class="line">    <span class="comment"># appliance = models.ForeignKey(to="Appliance", null=True, blank=True)</span></span><br><span class="line">    <span class="comment"># food = models.ForeignKey(to="Food", null=True, blank=True)</span></span><br><span class="line">    <span class="comment"># fruit = models.ForeignKey(to="Fruit", null=True, blank=True)</span></span><br><span class="line">    <span class="comment"># 第一步</span></span><br><span class="line">    content_type = models.ForeignKey(to=ContentType)</span><br><span class="line">    <span class="comment"># 第二步</span></span><br><span class="line">    object_id = models.PositiveIntegerField()</span><br><span class="line">    <span class="comment"># 第三步</span></span><br><span class="line">    content_object = GenericForeignKey(<span class="string">'content_type'</span>, <span class="string">'object_id'</span>)</span><br></pre></td></tr></table></figure><p>数据库迁移后，添加数据，再进行增删改操作</p><h2 id="基本的使用"><a href="#基本的使用" class="headerlink" title="基本的使用"></a>基本的使用</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.http <span class="keyword">import</span> HttpResponse</span><br><span class="line"><span class="keyword">from</span> rest_framework.views <span class="keyword">import</span> APIView</span><br><span class="line"><span class="keyword">from</span> rest_framework.response <span class="keyword">import</span> Response</span><br><span class="line"><span class="keyword">from</span> django.contrib.contenttypes.models <span class="keyword">import</span> ContentType</span><br><span class="line"><span class="keyword">from</span> .models <span class="keyword">import</span> Appliance, Coupon</span><br><span class="line"> </span><br><span class="line"><span class="comment"># Create your views here.</span></span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span><span class="params">(APIView)</span>:</span></span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get</span><span class="params">(self, request)</span>:</span></span><br><span class="line">        <span class="comment"># 通过ContentType获得表名</span></span><br><span class="line">        content = ContentType.objects.filter(app_label=<span class="string">"app01"</span>, model=<span class="string">"appliance"</span>).first()</span><br><span class="line">        <span class="comment"># 获得表model对象 相当于models.Applicance</span></span><br><span class="line">        model_class = content.model_class()</span><br><span class="line">        ret = model_class.objects.all()</span><br><span class="line"> </span><br><span class="line">        <span class="comment"># 为海尔冰箱创建一条优惠记录</span></span><br><span class="line">        ice_box = Appliance.objects.filter(id=<span class="number">1</span>).first()</span><br><span class="line">        Coupon.objects.create(name=<span class="string">"海尔冰箱折扣券"</span>, content_object=ice_box)</span><br><span class="line"> </span><br><span class="line">        <span class="comment"># 查询优惠券id=1绑定了哪个商品</span></span><br><span class="line">        coupon_obj = Coupon.objects.filter(id=<span class="number">1</span>).first()</span><br><span class="line">        goods_obj = coupon_obj.content_object</span><br><span class="line">        print(goods_obj.name)</span><br><span class="line"> </span><br><span class="line">        <span class="comment"># 查询海尔冰箱的所有优惠券 id=1</span></span><br><span class="line">        <span class="comment"># 我们定义了反向查询</span></span><br><span class="line">        results = ice_box.coupons.all()</span><br><span class="line">        print(results[<span class="number">0</span>].name)</span><br><span class="line"> </span><br><span class="line">        <span class="comment"># 如果没定义反向查询</span></span><br><span class="line">        content = ContentType.objects.filter(app_label=<span class="string">"app01"</span>, model=<span class="string">"appliance"</span>).first()</span><br><span class="line">        result = Coupon.objects.filter(content_type=content, object_id=<span class="number">1</span>).all()</span><br><span class="line">        print(result[<span class="number">0</span>].name)</span><br><span class="line">        <span class="keyword">return</span> HttpResponse(ret)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;需求&quot;&gt;&lt;a href=&quot;#需求&quot; class=&quot;headerlink&quot; title=&quot;需求&quot;&gt;&lt;/a&gt;需求&lt;/h1&gt;&lt;p&gt;我们商城里有很多的商品，节日要来了，我们要搞活动&lt;/p&gt;
&lt;p&gt;那么我们就要设计优惠券，优惠卷都有什么类型嗯，满减的，折扣的，立减的等&lt;/p
      
    
    </summary>
    
      <category term="restful framework" scheme="http://yoursite.com/categories/restful-framework/"/>
    
    
  </entry>
  
  <entry>
    <title>CORS跨域请求</title>
    <link href="http://yoursite.com/2017/11/29/CORS%E8%B7%A8%E5%9F%9F%E8%AF%B7%E6%B1%82/"/>
    <id>http://yoursite.com/2017/11/29/CORS跨域请求/</id>
    <published>2017-11-29T07:57:13.000Z</published>
    <updated>2018-11-21T01:28:44.425Z</updated>
    
    <content type="html"><![CDATA[<center>跨域</center><h1 id="CORS跨域请求"><a href="#CORS跨域请求" class="headerlink" title="CORS跨域请求"></a>CORS跨域请求</h1><p>CORS即Cross Origin Resource Sharing 跨域资源共享</p><p>跨域请求分为两种，一种叫简单请求，一种是复杂请求</p><h2 id="简单请求"><a href="#简单请求" class="headerlink" title="简单请求"></a>简单请求</h2><p>HTTP方法是下列方法之一</p><pre><code>HEAD，GET，POST</code></pre><p>HTTP头信息不超出以下几种字段</p><pre><code>　　Accept， Accept-Language， Content-Language， Last-Event-ID　　Content-Type只能是下列类型中的一个　　　　application/x-www-from-urlencoded　　　　multipart/form-data　　　　text/plain</code></pre><p>任何一个不满足上述要求的请求，即会被认为是复杂请求</p><p>复杂请求会先发出一个预请求，我们也叫预检，OPTIONS请求</p><h2 id="浏览器的同源策略"><a href="#浏览器的同源策略" class="headerlink" title="浏览器的同源策略"></a>浏览器的同源策略</h2><p>跨域是因为浏览器的同源策略导致的，也就是说浏览器会阻止非同源的请求</p><p>那么什么是非同源的呢？<br>    即域名不同，端口不同都属于非同源</p><p>浏览器只阻止表单以及ajax请求，并不会阻止src请求，所以我们的cnd，图片等src请求都可以发</p><h2 id="解决跨域"><a href="#解决跨域" class="headerlink" title="解决跨域"></a>解决跨域</h2><h3 id="JSONP"><a href="#JSONP" class="headerlink" title="JSONP"></a>JSONP</h3><p>jsonp的实现原理是根据浏览器不组织src请求入手来实现的</p><h4 id="JsonP实现的后端代码"><a href="#JsonP实现的后端代码" class="headerlink" title="JsonP实现的后端代码"></a>JsonP实现的后端代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span><span class="params">(APIView)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get</span><span class="params">(self, request)</span>:</span></span><br><span class="line">        callback = request.query_params.get(<span class="string">"callback"</span>, <span class="string">""</span>)</span><br><span class="line">        ret = callback + <span class="string">"("</span> + <span class="string">"'success'"</span> + <span class="string">")"</span></span><br><span class="line">        <span class="keyword">return</span> HttpResponse(ret)</span><br></pre></td></tr></table></figure><h4 id="JsonP测试前端代码"><a href="#JsonP测试前端代码" class="headerlink" title="JsonP测试前端代码"></a>JsonP测试前端代码</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn_one"</span>&gt;</span>点击我向JsonP1发送请求<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    // 测试发送请求失败 跨域不能得到数据</span></span><br><span class="line"><span class="undefined">    $('#btn_one').click(function () &#123;</span></span><br><span class="line"><span class="undefined">        $.ajax(&#123;</span></span><br><span class="line"><span class="undefined">            url: "http://127.0.0.1:8000/jsonp1",</span></span><br><span class="line"><span class="undefined">            type: "get",</span></span><br><span class="line"><span class="undefined">            success: function (response) &#123;</span></span><br><span class="line"><span class="undefined">                console.log(response)</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        &#125;)</span></span><br><span class="line"><span class="undefined">    &#125;);</span></span><br><span class="line"><span class="undefined">    </span></span><br><span class="line"><span class="undefined">    function handlerResponse(response) &#123;</span></span><br><span class="line"><span class="undefined">        alert(response)</span></span><br><span class="line"><span class="undefined">    &#125;;</span></span><br><span class="line"><span class="undefined">    </span></span><br><span class="line"><span class="undefined">    window.onload = function () &#123;</span></span><br><span class="line"><span class="undefined">        $("#btn_one").click(function () &#123;</span></span><br><span class="line"><span class="undefined">            let script_ele = document.createElement("script");</span></span><br><span class="line"><span class="undefined">            script_ele.src = "http://127.0.0.1:8000/jsonp1?callback=handlerResponse";</span></span><br><span class="line"><span class="undefined">            document.body.insertBefore(script_ele, document.body.firstChild);</span></span><br><span class="line"><span class="undefined">        &#125;)</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>JsonP解决跨域问题只能发送get请求，并且实现起来需要前后端交互比较多</p><h4 id="添加响应头"><a href="#添加响应头" class="headerlink" title="添加响应头"></a>添加响应头</h4><h5 id="中间件响应头"><a href="#中间件响应头" class="headerlink" title="中间件响应头"></a>中间件响应头</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.utils.deprecation <span class="keyword">import</span> MiddlewareMixin</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyCors</span><span class="params">(MiddlewareMixin)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">process_response</span><span class="params">(self, request, response)</span>:</span></span><br><span class="line">        response[<span class="string">"Access-Control-Allow-Origin"</span>] = <span class="string">"*"</span></span><br><span class="line">        <span class="keyword">if</span> request.method == <span class="string">"OPTIONS"</span>:</span><br><span class="line">            response[<span class="string">"Access-Control-Allow-Headers"</span>] = <span class="string">"Content-Type"</span></span><br><span class="line">            response[<span class="string">"Access-Control-Allow-Methods"</span>] = <span class="string">"DELETE, PUT, PATCH"</span></span><br><span class="line">        <span class="keyword">return</span> response</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;center&gt;跨域&lt;/center&gt;

&lt;h1 id=&quot;CORS跨域请求&quot;&gt;&lt;a href=&quot;#CORS跨域请求&quot; class=&quot;headerlink&quot; title=&quot;CORS跨域请求&quot;&gt;&lt;/a&gt;CORS跨域请求&lt;/h1&gt;&lt;p&gt;CORS即Cross Origin Resourc
      
    
    </summary>
    
      <category term="restful framework" scheme="http://yoursite.com/categories/restful-framework/"/>
    
    
  </entry>
  
</feed>
